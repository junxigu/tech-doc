<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">






<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body><div id="bd_snap">
    <div id="bd_snap_head">
        <a href="http://www.baidu.com/" id="bd_snap_logo" title="到百度首页"></a>
        <div id="bd_snap_search">
        <form action="http://www.baidu.com/s"><input name="cl" value="3" type="hidden"><input value="" name="wd" id="bd_snap_kw" maxlength="100"><span id="bd_snap_btn_wr"><input id="bd_snap_su" value="百度一下" class="bd_snap_btn" onmousedown="this.className='bd_snap_btn bd_snap_btn_h'" type="submit"></span></form>
    	</div>
    </div>
    <div id="bd_snap_txt">您查询的关键词是：<span><a style="color: black; background-color: rgb(255, 255, 102); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d9d431af4f9de4690c66c0171f43f6122bd6a0020fd2843e92735a314666f4ba57356173c4b50c7000df5e2cece74201207220a0ecb89f4badace22c38f95023716c913117c469a8dc3655d6569a4de8df0e96c9e74294b9d3a3c82555dd20046df1839c2a76008d2fae1b6ba5e0db5f142c0da7b76b72ff2e277ac47507a1478eb16f311adeb396145193748d340ccce962ef2313b017f04e102e45aa4ce00d007263ea4d76ab426b04c2ea4ae75d23067ce8&amp;p=9f7bd70d838b12a05fbd9b7d0950&amp;user=baidu&amp;fm=sc&amp;query=%B2%BB%C4%DC%B4%D332%CE%BB%B4%FA%C2%EB%B6%CE%B7%B5%BB%D8%CA%B5%C4%A3%CA%BD&amp;qid=c0caed840012e829&amp;p1=3#baidusnap0">不能从32位</a><a style="color: black; background-color: rgb(255, 153, 153); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d9d431af4f9de4690c66c0171f43f6122bd6a0020fd2843e92735a314666f4ba57356173c4b50c7000df5e2cece74201207220a0ecb89f4badace22c38f95023716c913117c469a8dc3655d6569a4de8df0e96c9e74294b9d3a3c82555dd20046df1839c2a76008d2fae1b6ba5e0db5f142c0da7b76b72ff2e277ac47507a1478eb16f311adeb396145193748d340ccce962ef2313b017f04e102e45aa4ce00d007263ea4d76ab426b04c2ea4ae75d23067ce8&amp;p=9f7bd70d838b12a05fbd9b7d0950&amp;user=baidu&amp;fm=sc&amp;query=%B2%BB%C4%DC%B4%D332%CE%BB%B4%FA%C2%EB%B6%CE%B7%B5%BB%D8%CA%B5%C4%A3%CA%BD&amp;qid=c0caed840012e829&amp;p1=3#baidusnap3">32位代码段</a><a style="color: black; background-color: rgb(255, 102, 255); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d9d431af4f9de4690c66c0171f43f6122bd6a0020fd2843e92735a314666f4ba57356173c4b50c7000df5e2cece74201207220a0ecb89f4badace22c38f95023716c913117c469a8dc3655d6569a4de8df0e96c9e74294b9d3a3c82555dd20046df1839c2a76008d2fae1b6ba5e0db5f142c0da7b76b72ff2e277ac47507a1478eb16f311adeb396145193748d340ccce962ef2313b017f04e102e45aa4ce00d007263ea4d76ab426b04c2ea4ae75d23067ce8&amp;p=9f7bd70d838b12a05fbd9b7d0950&amp;user=baidu&amp;fm=sc&amp;query=%B2%BB%C4%DC%B4%D332%CE%BB%B4%FA%C2%EB%B6%CE%B7%B5%BB%D8%CA%B5%C4%A3%CA%BD&amp;qid=c0caed840012e829&amp;p1=3#baidusnap4">位代码段返回实模式</a></span> 。如果打开速度慢，可以尝试<a href="http://cache.baidu.com/c?m=9d78d513d9d431af4f9de4690c66c0171f43f6122bd6a0020fd2843e92735a314666f4ba57356173c4b50c7000df5e2cece74201207220a0ecb89f4badace22c38f95023716c913117c469a8dc3655d6569a4de8df0e96c9e74294b9d3a3c82555dd20046df1839c2a76008d2fae1b6ba5e0db5f142c0da7b76b72ff2e277ac47507a1478eb16f311adeb396145193748d340ccce962ef2313b017f04e102e45aa4ce00d007263ea4d76ab426b04c2ea4ae75d23067ce8&amp;p=9f7bd70d838b12a05fbd9b7d0950&amp;user=baidu&amp;fm=sc&amp;query=%B2%BB%C4%DC%B4%D332%CE%BB%B4%FA%C2%EB%B6%CE%B7%B5%BB%D8%CA%B5%C4%A3%CA%BD&amp;qid=c0caed840012e829&amp;p1=3&amp;fast=y">快速版</a>；如果想保存快照，可以<a onclick="window.open('http://cang.baidu.com/do/add?it='+encodeURIComponent(document.title)+'&amp;iu='+encodeURIComponent(location.href)+'&amp;fr=ps#nw=1','_s','scrollbars=no,width=600,height=450,right=75,top=20,status=no,resizable=yes'); return false;" href="http://cang.baidu.com/do/add" target="_top">添加到搜藏</a>；如果想更新或删除快照，可以<a href="http://tousu.baidu.com/webmaster/add" target="">投诉快照</a>。</div>
    <div id="bd_snap_note">(百度和网页<a href="http://hi.baidu.com/mwyz/blog/item/376fc98382c7cfa80cf4d2b3.html">http://hi.baidu.com/mwyz/blog/item/376fc98382c7cfa80cf4d2b3.html</a>的作者无关，不对其内容负责。百度快照谨为网络故障时之索引，不代表被搜索网站的即时页面。)</div>
</div>
<div id="bd_snap_ln"></div>
<div style="position: relative;">
<!--STATUS OK-->

<title>保护模式切换到实模式_Roy_百度空间      </title>




























<center>











<div id="usrbar"><nobr>

			<a id="hi_index" href="http://hi.baidu.com/" target="_top">百度空间</a>&nbsp;|&nbsp;<a href="http://www.baidu.com/" target="_top">百度首页</a>&nbsp;
		
</nobr></div>


    
    











<div id="main" align="left">

<!--[if IE]>

<![endif]-->

	<div id="header">

	<div class="lc"><div class="rc"></div></div>
<div class="tit"><a href="http://hi.baidu.com/mwyz" class="titlink" title="mwyz的空间 http://hi.baidu.com/mwyz">Roy</a></div>
<div class="desc">Keep It Simple,Stupid!</div>
<div id="tabline">&nbsp;</div>

	<div id="tab"><a href="http://hi.baidu.com/mwyz">主页</a><a href="http://hi.baidu.com/mwyz/blog" class="on">博客</a><a href="http://hi.baidu.com/mwyz/album">相册</a><span>|</span><a href="http://hi.baidu.com/mwyz/profile">个人档案</a>

	<span>|</span><a href="http://hi.baidu.com/mwyz/friends">好友</a>







	</div>

</div>



<div class="stage">

<div class="stagepad">

<div style="width: 100%;">





	



	<table class="modth" border="0" cellpadding="0" cellspacing="0" width="100%">

	<tbody><tr><td class="modtl" width="7">&nbsp;</td>

	<td class="modtc" nowrap="nowrap"><div class="modhead"><span class="modtit">查看文章</span></div></td>

	<td class="modtc" align="right" nowrap="nowrap"></td>

	<td class="modtr" width="7">&nbsp;</td>

	</tr></tbody></table>



<div id="m_blog" class="modbox" style="overflow-x: hidden;">

<div class="tit">

保护模式切换到实模式</div>

<div class="date">2009-09-23  01:56</div>




<table style="table-layout: fixed; width: 100%;"><tbody><tr><td><div id="blog_text" class="cnt"><p align="center"><strong><span>关于从保护模式切换到实模式的相关说明</span></strong></p>
<p> </p>
<p><span>参考于渊的《自己动手写操作系统》第三章中从实模式切换到保护模式</span></p>
<p> </p>
<p><font color="#ff0000"><span>在由保护模式切换到实模式之前，用</span><span>normal</span><span>选择子对段寄存器进行填充。</span></font></p>
<p><strong><span>原因：</span></strong></p>
<p align="left"><span>在切换到实模式之前，把一个指向似乎没有用的数据段的描述符<span>Normal</span>的选择子装载到<span>DS</span>和<span>ES</span>。这是为什么呢<span>? </span></span></p>
<table border="1" cellpadding="0" cellspacing="0" width="90%">
    <tbody>
        <tr>
            <td rowspan="8">
            <p align="center"><span>实模<span><br>
            </span>式下<span><br>
            </span>段描<span><br>
            </span>述符<span><br>
            </span>高速<span><br>
            </span>缓冲<span><br>
            </span>寄存<span><br>
            </span>器的<span><br>
            </span>内容</span></p>
            </td>
            <td rowspan="2">
            <p align="center"><span>段寄存器</span></p>
            </td>
            <td rowspan="2">
            <p align="center"><span>段基地址</span></p>
            </td>
            <td rowspan="2">
            <p align="center"><span>段界限<span>(</span>固定<span>)</span></span></p>
            </td>
            <td colspan="10">
            <p align="center"><span>段属性<span>(</span>固定<span>)</span></span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>存在性</span></p>
            </td>
            <td>
            <p align="center"><span>特权级</span></p>
            </td>
            <td>
            <p align="center"><span>已存取</span></p>
            </td>
            <td>
            <p align="center"><span>粒度</span></p>
            </td>
            <td>
            <p align="center"><span>扩展方向</span></p>
            </td>
            <td>
            <p align="center"><span>可读性</span></p>
            </td>
            <td>
            <p align="center"><span>可写性</span></p>
            </td>
            <td>
            <p align="center"><span>可执行</span></p>
            </td>
            <td>
            <p align="center"><span>堆栈大小</span></p>
            </td>
            <td>
            <p align="center"><span>一致特权</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>CS</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>CS*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>SS</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>SS*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
            <td>
            <p align="center"><span>W</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>DS</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>DS*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>ES</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>ES*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>FS</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>FS*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
        </tr>
        <tr>
            <td>
            <p align="center"><span>GS</span></p>
            </td>
            <td>
            <p align="center"><span>当前<span>GS*16</span></span></p>
            </td>
            <td>
            <p align="center"><span>0000FFFFH</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>0</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>B</span></p>
            </td>
            <td>
            <p align="center"><span>U</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>Y</span></p>
            </td>
            <td>
            <p align="center"><span>N</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
            <td>
            <p align="center"><span>-</span></p>
            </td>
        </tr>
    </tbody>
</table>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>在分段管理机制中，每个段寄存器都配有段描述符高速缓冲寄存器，<strong><font color="#ff0000">这些高速缓冲寄存器在实方式下仍发挥作用</font></strong>，只是内容上与保护模式下有所不同。如上表所示，其中<span>“Y”</span>表示<span>“</span>是<span>”</span>；<span> “N”</span>表示<span>“</span>否<span>”</span>；<span>“B”</span>表示字节；<span>“U”</span>表示向上扩展，<span>“W”</span>表示以字方式操作堆栈。段基地址仍是<span> 32</span>位，其值是相应段寄存器值<span>(</span>段值<span>)</span>乘以<span>16</span>，在把段值装载到段寄存器时刷新。由于其值是<span>16</span>位段值乘上<span>16</span>，所以在实模式下基地址实际上有效位只有<span>20</span>位。每个段的<span>32</span>位段界限都固定为<span>0FFFFH</span>，段属性的许多位也是固定的。所谓固定是指在实方式下不可设置这些属性值，只能继续沿用保护方式下所设置的值。因此，在准备结束保护模式回到实模式之前，<strong><font color="#ff0000">要通过加载一个合适的描述符选择子（如实例代码中的<span>Normal</span>选择子）到有关段寄存器，以使得对应段描述符高速缓冲寄存器中含有<font style="background-color: rgb(0, 0, 0);">合适</font>的段界限和属性。</font></strong></span></p>
<p> </p>
<p><span>也就是说，在实模式下装载段寄存器并不会影响段告诉缓冲寄存器的值，比如段界限（其实在实模式也没有必要改变，应为段界限一直都是<span>0ffffh</span>），这也就是为甚麽所有讲保护模式的树在讲到有保护模式切换到实模式时都要加载一个<span>normal</span>选择子的原因了。</span></p>
<p><span>应为必须在保护模式下设置好段高速缓冲寄存器的值，因为一旦到了实模式下就不能在改变了。</span></p>
<p><span>经我试验，对于<span>normal</span>的描述符，其最重要是段界限一定要设置为<span>0ffffh</span>，如果不是这样，那莫在由保护模式跳转到实模式后会发生错误（对于上述代码如果把<span>normal</span>描述符的段界限改为别的的话，在跳转后会产生死循环的现象，具体是什么原因现在还不明确，哪位高人知道一定要告诉我啊<span>~~</span>）。其次就是属性的设置一定要设置为可读可写的，否则也会发生错误<span>.</span></span></p>
<p> </p>
<p><span><font color="#ff0000">不能从<span>32</span><a name="baidusnap4"></a><b style="color: black; background-color: rgb(255, 102, 255);">位代码段返回实模式</b><span>,</span>而只能从<span>16</span>位代码段返回。</font></span></p>
<p><strong><span>原因</span></strong><span>：（书中说的）</span><span>因为无法实现从</span><span>32</span><span>位代码段返回时</span><span>CS</span><span>高速缓冲寄存器中的属性符合实模式的要求</span><span>(</span><span>实模式不能改变段属性</span><span>)</span></p>
<img src="63414.html" height="1" width="1">
<div><a name="pagedcomment"></a><br>
<div class="feedbackItem">
<div class="feedbackListSubtitle">
<div align="left">&nbsp;&nbsp;</div>
</div>
<div class="feedbackItem">
<div class="feedbackListSubtitle">
<div class="feedbacktitle"><a title="permalink: re: 保护模式与实模式的切换" href="http://www.cppblog.com/xingkongyun/archive/2008/10/07/63414.html#74504">#</a> <a name="74504"></a>re: 保护模式与实模式的切换 2009-02-21 15:34 <a target="_blank">TSQL863</a></div>
<div align="left">在<a name="baidusnap3"></a><b style="color: black; background-color: rgb(255, 153, 153);">32位代码段</b>中，当用jmp selector:offset意图从32位保护模式到16位的实模式，因jmp语句的作用是用将selector:offset当作CS:IP,因在保护模式情况下，当向一个段寄存器中装入新值时，同时会将这个新值对应的描述符装载到段寄存器对就的高速缓冲寄存器中，这样，当将selector装载到CS中时，同时也会查找这个selector对应的描述符，这个描述符根本没被定定义过。&nbsp;&nbsp;<a href="http://www.cppblog.com/xingkongyun/archive/2008/10/07/63414.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" target="_top" href="http://www.cppblog.com/comment?author=TSQL863">更多评论</a><br>
&nbsp;&nbsp;</div>
</div>
<div class="feedbackItem">
<div class="feedbackListSubtitle">
<div class="feedbacktitle"><a title="permalink: re: 保护模式与实模式的切换" href="http://www.cppblog.com/xingkongyun/archive/2008/10/07/63414.html#74505">#</a> <a name="74505"></a>re: 保护模式与实模式的切换 2009-02-21 15:37 <a target="_blank">TSQL863</a></div>
<div align="left">CS段寄存器中可不能胡乱载入一个值的，保护检测通不过&nbsp;&nbsp;<a href="http://www.cppblog.com/xingkongyun/archive/2008/10/07/63414.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" target="_top" href="http://www.cppblog.com/comment?author=TSQL863">更多评论</a><br>
&nbsp;&nbsp;</div>
</div>
<div class="feedbackItem">
<div class="feedbackListSubtitle">
<div class="feedbacktitle"><a title="permalink: re: 保护模式与实模式的切换" href="http://www.cppblog.com/xingkongyun/archive/2008/10/07/63414.html#74539">#</a> <a name="74539"></a>re: 保护模式与实模式的切换<a name="Post"></a> 2009-02-21 22:56 <a target="_blank">TSQL863</a></div>
<div align="left">我上面的回答是不对的，正确的理解应是这样： <br>
关于为什么<a name="baidusnap0"></a><b style="color: black; background-color: rgb(255, 255, 102);">不能从32位</b>的保护模式直接跳转到实模式，而要先跳转到16位的保护模式，再从16位的保护模式跳转到实模式的理解 <br>
<br>
;****************注意在此用normal选择子对段寄存器进行填充****************************** <br>
mov ax, SelectorNormal <br>
317 mov ds, ax <br>
318 mov es, ax <br>
319 mov fs, ax <br>
320 mov gs, ax <br>
321 mov ss, ax <br>
<br>
从上述代码可以看出：ds,es,fs,gs,ss这些段寄存器对应的高速缓冲寄存器中的内容可以通过加载normal选择子而得到更新，当向这几个段寄存器中装入normal选择子时，会自动地将normal对应的描述符装载到描述符高速缓冲寄存器中，因normal选择子所对应的描述符的属性符合实模式下的要求，即：段界限为ffffh,段属性也是固定的。 <br>
但是：<font color="#ff0000"><strong>CS寄存器是不可以通过装载normal来更新CS对应的高速缓冲寄存器的</strong></font>，为什么：你能写出这样的指令吗：MOV CS，SelectorNormal，汇编中没有这样的指令。 <br>
即然这样，那怎么可以让CS对应的高速缓冲寄存器中的内容符合实模式的要求呢？ <br>
方法是这样的：因为CS的值只能通过jmp,call这样的指令去改变，所以，定义一个16位的代码段，这个代码段的描述符定义为：段界限0ffffh,段属性：存在的只执行代码段 <br>
假设这个代码段的选择子为：select32,偏移地址为：offsetaddr <br>
用一条转移指令向这段代码跳转：jmp select32:offsetaddr <br>
因现在处于保护模式，<font color="#ff0000"><strong>所以jmp指令执行的结果是将select32对应的描述符装入cs对应的描述符高速缓冲寄存器中，这个描述符就是符合实模式要求的</strong></font>。这样，CS段寄存器对应的高速缓冲寄存器中的内容终于达到实模式的要求了，所以现在可以进行从保护模式到实模式跳转了，再用一条jmp语句就可以从保护模式跳转到实模式了。</div>
</div>
</div>
</div>
</div>
</div>
</div></div></td></tr></tbody></table>

<br>

<div class="opt">

<a href="http://hi.baidu.com/mwyz/blog/category/Os" title="查看该分类中所有文章">类别：Os</a>

| <a href="#" onclick="addToShare(); return false;" target="_top"><img src="share.gif" align="absbottom" border="0"></a>




	

	| <a title="将此文章添加到百度搜藏" href="http://cang.baidu.com/do/add" onclick="return addToFavor();" target="_top">添加到搜藏</a>

	
    | <a title="将此文章分享到i贴吧" href="#" onclick="addToiTieba(); return false;" target="_top">分享到i贴吧</a>


    | 浏览(<span id="result"></span>)

	| <a href="#send">评论</a>&nbsp;(0)







</div>



<div class="line">&nbsp;</div>







    


<div id="in_related_tmp"></div>



    













<div id="in_reader">

<div class="tit">最近读者：</div>















	</div>



<div class="line">&nbsp;</div>











<div id="in_comment">

<a name="comment"></a>

<div class="tit">网友评论：</div>






<div id="page"></div>



</div>







<div id="in_send">

<a name="send"></a>

<form name="form1" id="popFormSubmit" action="http://hi.baidu.com/mwyz/commit" method="post" onsubmit="return checkcmtform()">

<input name="bdstoken" value="" type="hidden">

<input name="ct" value="8" type="hidden">

<input name="cm" value="1" type="hidden">

<input name="spBlogID" value="376fc98382c7cfa80cf4d2b3" type="hidden">

<input name="spRefURL" id="spRefURL" type="hidden">



<div class="tit">发表评论：</div>

<table border="0" cellpadding="0" cellspacing="5" width="620">

<tbody><tr>



<td class="f14">姓　名：</td>

<td><input value="" name="spBlogCmtor" id="spBlogCmtor" style="width: 220px;" tabindex="1" onchange="checkname('spBlogCmtor')" maxlength="49" onfocus="hidErr(1);" type="text">





<div style="display: none;" id="nmerror">*姓名最长为50字节</div></td>

</tr>



<tr id="1_err" style="display: none;">

<td>&nbsp;</td>

<td><div class="error" id="1_err_con"></div></td>

</tr>



<tr>

<td class="f14">网址或邮箱：</td>

<td><input value="" name="spBlogCmtURL" id="spBlogCmtURL" style="width: 360px;" maxlength="128" tabindex="2" onchange="checkeandu('spBlogCmtURL')" onfocus="hidErr(2);" type="text"> (选填)</td>





</tr>



<tr id="2_err" style="display: none;">

<td>&nbsp;</td>

<td><div class="error" id="2_err_con"></div></td>

</tr>



<tr>

<td class="f14" id="reTitle" valign="top">内　容：</td>

<td><textarea name="spBlogCmtText" id="spBlogCmtText" style="width: 520px; height: 155px;" tabindex="3" onfocus="hidErr(3);"></textarea>







</td>

</tr>

<tr id="3_err" style="display: none;">

<td>&nbsp;</td>

<td><div class="error" id="3_err_con"></div></td>

</tr>



<tr id="vercode">

<td class="f14" valign="top">验证码：</td>

<td valign="top"><input name="spVcode" value="" type="hidden">

<input value="" onfocus="f_focus()" id="spVerifyKey" name="spVerifyKey" size="6" maxlength="4" autocomplete="off" tabindex="4" type="text">  请点击后输入四位验证码，字母不区分大小写<br>



<div id="yanzheng" style="display: none;">

<img id="verifypic" height="40" width="120"><wbr><a onfocus="this.blur();" href="#" onclick="return newverifypic();" title="看不清左边的字符">看不清?</a>

</div>

</td>

</tr>





<tr>

<td class="f14" valign="top">&nbsp;</td>

<td class="f14" valign="top"><input id="btn_ok" name="btn_ok" value="发表评论" tabindex="5" type="submit">&nbsp;&nbsp;&nbsp;&nbsp;<a href="#" id="cancleReLink" onclick="canclereply(); return false;" style="display: none; font-size: 12px; color: rgb(102, 102, 102);">取消回复</a></td>

</tr>

</tbody></table>

</form>

</div>









<br>

</div>



<table border="0" cellpadding="0" cellspacing="0" height="8" width="100%">

<tbody><tr><td class="modbl" width="7">&nbsp;</td>

<td class="modbc">&nbsp;</td>

<td class="modbr" width="7">&nbsp;</td>

</tr></tbody></table>









</div>

</div>



</div>



</div>










<br><center><div id="ft">©2010 Baidu</div></center>





</center>





<img src="c.gif" style="display: none;">
<iframe id="submitiframe" name="submitiframe" src="index_1.html" style="display: none;"></iframe>

			





	
	



















</div>



</body>
</html>
