<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">






<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body><div id="bd_snap">
    <div id="bd_snap_head">
        <a href="http://www.baidu.com/" id="bd_snap_logo" title="到百度首页"></a>
    </div>
    <div id="bd_snap_txt">您查询的关键词是：<span><a style="color: black; background-color: rgb(255, 255, 102); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1&amp;p=882a9446bad017fc57ee933a1c5cc9&amp;user=baidu&amp;fm=sc&amp;query=c/c%2B%2B+%C4%DA%B4%E6%B6%D4%C6%EB+sizeof&amp;qid=cb37c0c22de5266c&amp;p1=1#baidusnap0">c</a><a style="color: black; background-color: rgb(153, 255, 153); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1&amp;p=882a9446bad017fc57ee933a1c5cc9&amp;user=baidu&amp;fm=sc&amp;query=c/c%2B%2B+%C4%DA%B4%E6%B6%D4%C6%EB+sizeof&amp;qid=cb37c0c22de5266c&amp;p1=1#baidusnap2">内存对齐</a><a style="color: black; background-color: rgb(255, 102, 255); padding: 0pt 3px; font-weight: bold;" href="http://cache.baidu.com/c?m=9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1&amp;p=882a9446bad017fc57ee933a1c5cc9&amp;user=baidu&amp;fm=sc&amp;query=c/c%2B%2B+%C4%DA%B4%E6%B6%D4%C6%EB+sizeof&amp;qid=cb37c0c22de5266c&amp;p1=1#baidusnap4">sizeof</a></span> 。如果打开速度慢，可以尝试<a href="http://cache.baidu.com/c?m=9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1&amp;p=882a9446bad017fc57ee933a1c5cc9&amp;user=baidu&amp;fm=sc&amp;query=c/c%2B%2B+%C4%DA%B4%E6%B6%D4%C6%EB+sizeof&amp;qid=cb37c0c22de5266c&amp;p1=1&amp;fast=y">快速版</a>；如果想保存快照，可以<a onclick="window.open('http://cang.baidu.com/do/add?it='+encodeURIComponent(document.title)+'&amp;iu='+encodeURIComponent(location.href)+'&amp;fr=ps#nw=1','_s','scrollbars=no,width=600,height=450,right=75,top=20,status=no,resizable=yes'); return false;" href="http://cang.baidu.com/do/add" target="_top">添加到搜藏</a>；如果想更新或删除快照，可以<a href="http://tousu.baidu.com/webmaster/add?link=http%3A%2F%2Fcache.baidu.com%2Fc%3Fm%3D9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1%26p%3D882a9446bad017fc57ee933a1c5cc9%26user%3Dbaidu%26fm%3Dsc%26query%3Dc%2Fc%252B%252B%2B%25C4%25DA%25B4%25E6%25B6%25D4%25C6%25EB%2Bsizeof%26qid%3Dcb37c0c22de5266c%26p1%3D1" id="bd_tousu">投诉快照</a>。</div>

    <div id="bd_snap_note">(百度和网页<a href="http://blog.sina.com.cn/s/blog_6b5a07450100mni4.html">http://blog.sina.com.cn/s/blog_6b5a07450100mni4.html</a>的作者无关，不对其内容负责。百度快照谨为网络故障时之索引，不代表被搜索网站的即时页面。)</div>
</div>
<div id="bd_snap_search">
	<form action="http://www.baidu.com/s"><input name="cl" value="3" type="hidden"><input value="" name="wd" id="bd_snap_kw" maxlength="100"><span id="bd_snap_btn_wr"><input id="bd_snap_su" value="百度一下" class="bd_snap_btn" onmousedown="this.className='bd_snap_btn bd_snap_btn_h'" type="submit"></span></form>
</div>
<div id="bd_snap_ln"></div>
<div style="position: relative;">




<title>c/c++&nbsp;内存对齐&nbsp;sizeof（转）_jane_新浪博客</title>
<meta name="keywords" content="c/c++&nbsp;内存对齐&nbsp;sizeof（转）_jane_新浪博客,jane,杂谈">
<meta name="description" content="c/c++&nbsp;内存对齐&nbsp;sizeof（转）_jane_新浪博客,jane,">
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<!--–[if lte IE 6]-->

<!--[endif]–-->

<link rel="pingback" href="http://upload.move.blog.sina.com.cn/blog_rebuild/blog/xmlrpc.php">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://upload.move.blog.sina.com.cn/blog_rebuild/blog/xmlrpc.php?rsd">
<link href="http://blog.sina.com.cn/blog_rebuild/blog/wlwmanifest.xml" type="application/wlwmanifest+xml" rel="wlwmanifest">
<link rel="alternate" type="application/rss+xml" href="http://blog.sina.com.cn/rss/1801062213.xml" title="RSS">







<!--$sinatopbar-->
<div style="z-index: 512;" class="sinatopbar">
			<div class="topbar_main">
				<a id="login_bar_logo_link_350" href="http://blog.sina.com.cn/" target="_top"><img class="topbar_logo" src="topbar_logo.gif" alt="新浪博客" width="100"></a>

				<div id="trayContainer" style="float: left;">
								</div>
				<div class="topbar_floatR">
					<span class="tb_wrtBlog">
						<a target="_top" href="http://control.blog.sina.com.cn/admin/article/article_add.php"><img class="SG_icon SG_icon15" src="sg_trans.gif" title="博文" align="absmiddle" height="15" width="15">	发博文</a>

						<span id="arrowAddArticle" class="wrtblog_arrow"></span>
					</span>
					<div class="topbar_search">
						<form action="http://cache.baidu.com/c?m=9d78d513d99256af29bc837e7d01d7160e54f1744dd1c7630cc3e34e84135f564616f4cb23356602c4b4787076df5e5c9bb16d3a605e74a3dc88d64587fdd46a388954296d4cd81c47c419d88a1d799237902db8f246f0ba8763cfb393ce8f0a0e9f44020e84a08c090211cc68f21733e1f9c513134810cdb7763aa1&amp;p=882a9446bad017fc57ee933a1c5cc9&amp;user=baidu&amp;fm=sc&amp;query=c/c%2B%2B+%C4%DA%B4%E6%B6%D4%C6%EB+sizeof&amp;qid=cb37c0c22de5266c&amp;p1=1" target="_blank" method="get" id="loginBarSearchForm">
							<div class="topbar_input">
								<input id="loginBarSearchInput" name="k" class="topbar_txt" value="" type="text">
							</div>
							<div id="searchSelect" class="topbar_list">
								<div id="loginBarSearchMenuLabel" class="anainp">博文</div>

								<div class="arrow"></div>
							</div>
							<input class="topbar_searchBtn" value="搜索" type="submit">
							<input id="ie" value="utf-8" name="ie" type="hidden">
							<input id="loginBarSearchT" value="" name="t" type="hidden">
							<input id="loginBarSearchTS" value="" name="ts" type="hidden">
							<input id="loginBarSearchS" value="" name="s" type="hidden">
							<input id="loginBarSearchType" value="" name="type" type="hidden">
							<input id="loginBarSearchSType" value="" name="stype" type="hidden">

							<input id="e" value="utf-8" name="e" type="hidden">
						</form>
					</div>
					
				</div>
			</div>
			<div style="position: absolute; left: 0pt; top: 0pt;" id="trayFlashConnetion"></div>
		</div>
		
<!--$end sinatopbar-->


<div class="sinabloga" id="sinabloga">
	<div id="sinablogb" class="sinablogb">

	       
 <div id="sinablogHead" class="sinabloghead">
    <div style="display: none;" id="headflash" class="headflash"></div>
   <div id="headarea" class="headarea">
      <div id="blogTitle" class="blogtoparea">
      <h1 id="blogname" class="blogtitle"><a href="http://blog.sina.com.cn/bobocafer"><span id="blognamespan">jane的博客</span></a></h1>
      <div id="bloglink" class="bloglink"><a href="http://blog.sina.com.cn/bobocafer">http://blog.sina.com.cn/bobocafer</a>  <a onclick="return false;" class="CP_a_fuc" href="#" id="SubscribeNewRss">[<cite>订阅</cite>]</a><a class="CP_a_fuc" href="javascript:void(scope.pa_add.add('1801062213'));">[<cite>手机订阅</cite>]</a></div>
      </div>
      <div class="blognav" id="blognav">
      			  <div id="blognavBg" class="blognavBg"></div> <div class="blognavInfo"> 
		<span><a href="http://blog.sina.com.cn/bobocafer">首页</a></span>
      <span><a class="on" href="http://blog.sina.com.cn/s/articlelist_1801062213_0_1.html">博文目录</a></span>
      <span><a href="http://photo.blog.sina.com.cn/bobocafer">图片</a></span>
      <span class="last"><a href="http://blog.sina.com.cn/s/profile_1801062213.html">关于我</a></span></div>
      </div>
      		      		 	
      
             <div class="autoskin" id="auto_skin">
       </div>

<div class="adsarea">
     <a href="#"><div id="template_clone_pic" class="pic"></div></a>
     <div id="template_clone_link" class="link wdc_HInf"></div>
     <div id="template_clone_other" class="other"></div>        
</div>
    </div>
    	    	    </div>    
    <!--主题内容开始 -->
    <div class="sinablogbody" id="sinablogbody">
		
	<!--第一列start-->
    <div id="column_1" class="SG_colW21 SG_colFirst"><div class="SG_conn" id="module_901">
    <div class="SG_connHead">
            <span class="title" comp_title="个人资料">个人资料</span>
            <span class="edit">
                        </span>
    </div>
    <div class="SG_connBody">
        <div class="info">
            		        
			<div class="info_img" id="comp_901_head"><img src="sg_trans.gif" real_src="http://portrait6.sinaimg.cn/1801062213/blog/180" id="comp_901_head_image" alt="jane" title="jane" height="180" width="180"></div>
			
       	    <div class="info_txt">
		      <div class="info_nm">
		        <img id="comp_901_online_icon" style="display: none;" class="SG_icon SG_icon1" src="sg_trans.gif" align="absmiddle" height="15" width="15">
		        <span class="SG_txtb"><strong id="ownernick">jane</strong></span>
		        
                <div class="clearit"></div>
              </div>
		      <div class="info_btn1">
			  <!--user['qing_url'] -->
		        <a target="_top" href="http://qing.weibo.com/tag/%E6%B2%B9%E8%8F%9C%E8%8A%B1" onclick="v7sendLog &amp;&amp; v7sendLog('79_01_01',scope.$pageid,'qingLink');" class="SG_aBtn SG_aBtn_ico"><cite><img class="SG_icon SG_icon205" src="sg_trans.gif" align="absmiddle" height="15" width="15">Qing</cite></a>
		        <a target="_top" href="http://weibo.com/u/1801062213?source=blog" class="SG_aBtn SG_aBtn_ico"><cite><img class="SG_icon SG_icon51" src="sg_trans.gif" align="absmiddle" height="15" width="15">微博</cite></a>
		        <div class="clearit"></div>
		      </div>
	<div class="SG_j_linedot"></div>		<div class="info_locate" id="info_locate_id">
<div class="SG_j_linedot"></div>
<div class="info_btn2">
	<p>
	<a href="javascript:void(0);" class="SG_aBtn " id="comp901_btn_invite"><cite>加好友</cite></a>
	<a href="javascript:void(0);" class="SG_aBtn" id="comp901_btn_sendpaper"><cite>发纸条</cite></a>
	</p>
	<p>
	<a href="http://blog.sina.com.cn/s/profile_1801062213.html#write" class="SG_aBtn" id="comp901_btn_msninfo"><cite>写留言</cite></a>
	<a href="#" onclick="return false;" class="SG_aBtn" id="comp901_btn_follow"><cite onclick="Module.SeeState.add()">加关注</cite></a>
	</p>
	<div class="clearit"></div>
</div>
<div class="SG_j_linedot"></div>
</div>
			      <div class="info_list">	  
			   					<ul class="info_list1">
					<li><span class="SG_txtc">博客等级：</span><span id="comp_901_grade"><img src="sg_trans.gif" real_src="http://simg.sinajs.cn/blog7style/images/common/number/9.gif"></span></li>
					<li><span class="SG_txtc">博客积分：</span><span id="comp_901_score"><strong>207</strong></span></li>
					</ul>
					<ul class="info_list2">
					<li><span class="SG_txtc">博客访问：</span><span id="comp_901_pv"><strong>4,161</strong></span></li>
					<li><span class="SG_txtc">关注人气：</span><span id="comp_901_attention"><strong>2</strong></span></li>
					</ul>
		</div>
<div class="clearit"></div>
	</div>
	<div class="clearit"></div>
</div>
            </div>       
            <div class="SG_connFoot"></div>
</div>
<!--Qingtuijian--><div id="module_903" class="SG_conn">
    <div class="SG_connHead">
    <span comp_title="相关博文" class="title">相关博文</span>
    <span class="edit"> </span>
    </div>
    <div class="SG_connBody">
    	<div class="atcTitList relaList"><ul>
				            <li class="SG_j_linedot1">
		                <p class="atcTitCell_tit SG_dot"><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,399819,405131&amp;cid=0,0,0&amp;sid=401830&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://blog.sina.com.cn/zgshishen" target="_top" title="阳春三月的春色美食汇">阳春三月的春色美食汇</a></p>
		                <p class="atcTitCell_nm"><a class="SG_linkb" href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,399819,405131&amp;cid=0,0,0&amp;sid=401830&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://blog.sina.com.cn/zgshishen" target="_top">新浪Qing</a></p>
		            </li> 
				            <li class="SG_j_linedot1">
		                <p class="atcTitCell_tit SG_dot"><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,447639,452938&amp;cid=0,0,0&amp;sid=451071&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/qing%E8%AF%9D%E9%A2%98" target="_top" title="你从未见过&lt;泰坦尼克&gt;中的画面">你从未见过&lt;泰坦尼克&gt;中的画面</a></p>
		                <p class="atcTitCell_nm"><a class="SG_linkb" href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,447639,452938&amp;cid=0,0,0&amp;sid=451071&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/qing%E8%AF%9D%E9%A2%98" target="_top">新浪Qing</a></p>
		            </li> 
		        			<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_48874cec0102e0bn.html" target="_top" title="今天大盘指数怎么收">今天大盘指数怎么收</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1216826604" target="_top">wu2198</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_536585320102dyrb.html" target="_top" title="清纯嫩模为英超拍摄性感写真（">清纯嫩模为英超拍摄性感写真（</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1399162162" target="_top">婉约云儿</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_50dd0f370102e5gf.html" target="_top" title="婆婆撮合无赖小叔子霸占我">婆婆撮合无赖小叔子霸占我</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1356664631" target="_top">雨中竹</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_5226ab3301013mye.html" target="_top" title="男人一辈子离不开的十种女人">男人一辈子离不开的十种女人</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1378265907" target="_top">健康达人</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_4b2a6f390102dzi8.html" target="_top" title="在分红中习惯送股配股的股票都">在分红中习惯送股配股的股票都</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1261072185" target="_top">情感威客</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_69dda3350102e5yf.html" target="_top" title="美权威：美军对解放军有两个低">美权威：美军对解放军有两个低</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1776132917" target="_top">情系中华</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_5dc2e7360102dy10.html" target="_top" title="防守松懈导致爵士复活，火箭升">防守松懈导致爵士复活，火箭升</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1573054262" target="_top">火箭大帝</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_48d6380a0102dzow.html" target="_top" title="（转载）：“成都官员”自曝贪">（转载）：“成都官员”自曝贪</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1221998602" target="_top">谈歌</a></p>
			</li>
					<li class="SG_j_linedot1">
					<p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_3e9f92340102dyoc.html" target="_top" title="回答BTV《窗外》记者关心的">回答BTV《窗外》记者关心的</a></p>
					<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1050645044" target="_top">张显</a></p>
			</li>
			</ul>
		<div class="atcTit_more"><span class="SG_more"><a href="http://uni.sina.com.cn/c.php?k=%D4%D3%CC%B8%2C%D0%DD%CF%D0&amp;ts=bpost&amp;stype=tag&amp;t=blog" target="_top">更多&gt;&gt;</a></span></div></div>
    </div>
    <div class="SG_connFoot"></div>
  </div>       <div class="SG_conn" id="module_904"><div class="SG_connHead">
                <span class="title" comp_title="推荐博文">推荐博文</span>
                                <span class="edit"></span>
            </div>
            <div class="SG_connBody">
            	<div class="atcTitList relaList"><ul><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_5054769e0102dz1k.html?tj=1" target="_top" title="第八百一十二篇•让子弹飞">第八百一十二篇•让子弹飞</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1347712670" target="_top">马未都</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_48b0d37b0102eahp.html?tj=1" target="_top" title="赤白干净的骨头">赤白干净的骨头</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1219548027" target="_top">柴静</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_62a209da0102e17g.html?tj=1" target="_top" title="女人一生最美好的七件事">女人一生最美好的七件事</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1654786522" target="_top">马君</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_86cd044501012j2e.html?tj=1" target="_top" title="探秘日本留学生杂乱私生活（图）">探秘日本留学生杂乱私生活（图</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/2261582917" target="_top">颖视觉</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_462e82ba0102dvw4.html?tj=1" target="_top" title="拦截飞机，中国人为何更容易情绪失控？">拦截飞机，中国人为何更容易情</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1177453242" target="_top">刘长锋</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_4af3292d0102e52p.html?tj=1" target="_top" title="日本人写“中国饮食安全攻略”爆红网络">日本人写“中国饮食安全攻略”</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1257449773" target="_top">clm1</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_476f46d50102e1k3.html?tj=1" target="_top" title="全文：两岸三地音乐创作人生存现状调查">全文：两岸三地音乐创作人生存</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1198474965" target="_top">黄佟佟</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_5d46116e0102e0fm.html?tj=1" target="_top" title="朝鲜射星在即：中国预警机和战机接二连三出动">朝鲜射星在即：中国预警机和战</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1564873070" target="_top">剑啸苍穹</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_534a41a90102dxyz.html?tj=1" target="_top" title="哈利.魏登纳:&nbsp;一位泰坦尼克遇难者的传奇故事">哈利.魏登纳:&nbsp;一位泰坦尼克遇难</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1397375401" target="_top">岳晓东</a></p>
		</li><li class="SG_j_linedot1"><p class="atcTitCell_tit SG_dot"><a href="http://blog.sina.com.cn/s/blog_59b3f4ee0102e6f7.html?tj=1" target="_top" title="周线的第三个买点在哪里">周线的第三个买点在哪里</a></p>
		<p class="atcTitCell_nm"><a class="SG_linkb" href="http://blog.sina.com.cn/u/1504965870" target="_top">冯矿伟</a></p>
		</li></ul><div id="atcPicList"></div><div class="atcTit_more"><span class="SG_more"><a href="http://blog.sina.com.cn/lm/114/117/day.html" target="_top">查看更多</a>&gt;&gt;</span></div></div>            </div>
            <div class="SG_connFoot"></div>
                  </div>        <div class="SG_conn" id="module_47"><div class="SG_connHead">
                <span class="title" comp_title="谁看过这篇博文">谁看过这篇博文</span>
                                <span class="edit"></span>
            </div>
            <div class="SG_connBody">
            	<div class="wdtLoading"><img src="loading.gif">加载中…</div>            </div>
            <div class="SG_connFoot"></div>
                  </div></div>
	<!--第一列end-->
	
	<!--第二列start-->
	<div id="column_2" class="SG_colW73">	
<div id="module_920" class="SG_conn">
	<div class="SG_connHead">
	    <span comp_title="正文" class="title">正文</span>
	    <span class="edit"><span id="articleFontManage" class="fontSize">字体大小：<a href="javascript:;" onclick="changeFontSize(2);return false;">大</a> <strong>中</strong> <a href="javascript:;" onclick="changeFontSize(0);return false;">小</a></span></span>
	</div>
    <div class="SG_connBody">
<!--博文正文 begin -->
	<div id="articlebody" class="artical" favmd5="{&quot;6b5a07450100mni4&quot;:&quot;3b322d76ad438337ad3815c8bd3b0b19&quot;}">
		<div class="articalTitle"> 
					
			<h2 id="t_6b5a07450100mni4" class="titName SG_txta"><a name="baidusnap0"></a><b style="color: black; background-color: rgb(255, 255, 102);">c</b>/<b style="color: black; background-color: rgb(255, 255, 102);">c</b>++&nbsp;<a name="baidusnap2"></a><b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>&nbsp;<a name="baidusnap4"></a><b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>（转）</h2>
			
					<span class="time SG_txtc">(2010-11-08 17:59:57)</span><div class="turnBoxzz"><a href="javascript:;" class="SG_aBtn SG_aBtn_ico SG_turn" action-type="reblog" action-data="{srcBlog:1, blogId:'6b5a07450100mni4'}"><cite><img class="SG_icon SG_icon111" src="sg_trans.gif" align="absmiddle" height="15" width="15">转载<em class="arrow">▼</em></cite></a></div>		</div>
		<div class="articalTag" id="sina_keyword_ad_area">
			<table>
				<tbody><tr>
					<td class="blog_tag">
					
											<span class="SG_txtb">标签：</span>
																				<h3><a href="http://uni.sina.com.cn/c.php?t=blog&amp;k=%D4%D3%CC%B8&amp;ts=bpost&amp;stype=tag" target="_top">杂谈</a></h3>
																</td>
					<td class="blog_class">
											<span class="SG_txtb">分类：</span>
						<a target="_top" href="http://blog.sina.com.cn/s/articlelist_1801062213_4_1.html">201011</a>
										</td>
				</tr>
			</tbody></table>
		</div>
						<!-- 正文开始 -->
		<div id="sina_keyword_ad_area2" class="articalContent  ">
			<p>&nbsp;<wbr>一篇讲对齐比较好的文章，转贴如下:<br>
大致标注一二:<br>
1.<b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>:计算机系统对基本类型数据在内存中存放的位置有限制，它们会要求这些数据的首地址的值是某个数k(通常它为4或8)的倍数k则被称为该数据类型的对齐模数(alignment
modulus)<br>
2.不同编译器默认的最大对齐字节数是不一样的,比如vc==8,gcc==4,可以通过#progma pack
(n)来修改,分析程序的时候要注意编译器的区别<br>
3.一个结构体里面,按照alignment
modulus最大的数据成员来进行对齐,超过编译器规定最大的对齐字节个数,按编译器最大对齐字节个来<br>
4.double类型在vc里面alignment modulus ==
8,而在gcc里面由于默认最大对齐个数是4,不设置的话,alignment modulus == 4<br>
5.因为数组各元素之间不能有空隙,所以{int a;char b;}<br>
这种情况,默认在VC里面也需要占8个字节.</p>
<p>&nbsp;<wbr>&nbsp;<wbr> 正文如下：</p>
<p>&nbsp;<wbr>&nbsp;<wbr>
当在<b style="color: black; background-color: rgb(255, 255, 102);">C</b>中定义了一个结构类型时，它的大小是否等于各字段(field)大小之和？编译器将如何在内存中放置这些字段？ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>对结构体的内存布局有什么要求？而我们的程序又能否依赖这种布局？这些问题或许对不少朋友来说还有点模糊，那么本文就试着探究它们背后的秘密。<br>

&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
首先，至少有一点可以肯定，那就是ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>保证结构体中各字段在内存中出现的位置是随它们的声明顺序依次递增的，并且第一个字段的首地址等于整个结构体实例的首地址。比如有这样一个结构体：<br>

&nbsp;<wbr><br>
&nbsp;<wbr> struct vector{int x,y,z;} s;<br>
&nbsp;<wbr> int *p,*q,*r;<br>
&nbsp;<wbr> struct vector *ps;<br>
&nbsp;<wbr><br>
&nbsp;<wbr> p = &amp;s.x;<br>
&nbsp;<wbr> q = &amp;s.y;<br>
&nbsp;<wbr> r = &amp;s.z;<br>
&nbsp;<wbr> ps = &amp;s;</p>
<p>&nbsp;<wbr> assert(p &lt; q);<br>
&nbsp;<wbr> assert(p &lt; r);<br>
&nbsp;<wbr> assert(q &lt; r);<br>
&nbsp;<wbr> assert((int*)ps == p);<br>
&nbsp;<wbr> // 上述断言一定不会失败</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
这时，有朋友可能会问:"标准是否规定相邻字段在内存中也相邻?"。 唔，对不起，ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>没有做出保证，你的程序在任何时候都不应该依赖这个假设。那这是否意味着我们永远无法勾勒出一幅更清晰更精确的结构体内存布局图？哦，当然不是。不过先让我们从这个问题中暂时抽身，关注一下另一个重要问题————<b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
许多实际的计算机系统对基本类型数据在内存中存放的位置有限制，它们会要求这些数据的首地址的值是某个数k(通常它为4或8)的倍数，这就是所谓的<b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>，而这个k则被称为该数据类型的对齐模数(alignment
modulus)。当一种类型S的对齐模数与另一种类型T的对齐模数的比值是大于1的整数，我们就称类型S的对齐要求比T强(严格)，而称T比S弱(宽松)。这种强制的要求一来简化了处理器与内存之间传输系统的设计，二来可以提升读取数据的速度。比如这么一种处理器，它每次读写内存的时候都从某个8倍数的地址开始，一次读出或写入8个字节的数据，假如软件能保证double类型的数据都从8倍数地址开始，那么读或写一个double类型数据就只需要一次内存操作。否则，我们就可能需要两次内存操作才能完成这个动作，因为数据或许恰好横跨在两个符合对齐要求的8字节内存块上。某些处理器在数据不满足对齐要求的情况下可能会出错，但是Intel的IA32架构的处理器则不管数据是否对齐都能正确工作。不过Intel奉劝大家，如果想提升性能，那么所有的程序数据都应该尽可能地对齐。Win32平台下的微软<b style="color: black; background-color: rgb(255, 255, 102);">C</b>编译器(cl.exe
for 80x86)在默认情况下采用如下的对齐规则:
任何基本数据类型T的对齐模数就是T的大小，即<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(T)。比如对于double类型(8字节)，就要求该类型数据的地址总是8的倍数，而char类型数据(1字节)则可以从任何一个地址开始。Linux下的GCC奉行的是另外一套规则(在资料中查得，并未验证，如错误请指正):任何2字节大小(包括单字节吗?)的数据类型(比如short)的对齐模数是2，而其它所有超过2字节的数据类型(比如long,double)都以4为对齐模数。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
现在回到我们关心的struct上来。ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>规定一种结构类型的大小是它所有字段的大小以及字段之间或字段尾部的填充区大小之和。嗯？填充区？对，这就是为了使结构体字段满足<b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>要求而额外分配给结构体的空间。那么结构体本身有什么对齐要求吗？有的，ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>标准规定结构体类型的对齐要求不能比它所有字段中要求最严格的那个宽松，可以更严格(但此非强制要求，VC7.1就仅仅是让它们一样严格)。我们来看一个例子(以下所有试验的环境是Intel
Celeron 2.4G + WIN2000 PRO +
vc7.1，<b style="color: black; background-color: rgb(153, 255, 153);">内存对齐</b>编译选项是"默认"，即不指定/Zp与/pack选项):</p>
<p>&nbsp;<wbr> typedef struct ms1<br>
&nbsp;<wbr> {<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
char a;<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
int b;<br>
&nbsp;<wbr> } MS1;</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
假设MS1按如下方式内存布局(本文所有示意图中的内存地址从左至右递增):<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
_____________________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+---------------------------+<br>
&nbsp;<wbr>Bytes:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
因为MS1中有最强对齐要求的是b字段(int)，所以根据编译器的对齐规则以及ANSI
<b style="color: black; background-color: rgb(255, 255, 102);">C</b>标准，MS1对象的首地址一定是4(int类型的对齐模数)的倍数。那么上述内存布局中的b字段能满足int类型的对齐要求吗？嗯，当然不能。如果你是编译器，你会如何巧妙安排来满足CPU的癖好呢？呵呵，经过1毫秒的艰苦思考，你一定得出了如下的方案：</p>
<p>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
_______________________________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>
|\\padding\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+-------------------------------------+<br>
&nbsp;<wbr>Bytes:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
3&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
这个方案在a与b之间多分配了3个填充(padding)字节，这样当整个struct对象首地址满足4字节的对齐要求时，b字段也一定能满足int型的4字节对齐规定。那么<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(MS1)显然就应该是8，而b字段相对于结构体首地址的偏移就是4。非常好理解，对吗？现在我们把MS1中的字段交换一下顺序:</p>
<p>&nbsp;<wbr> typedef struct ms2<br>
&nbsp;<wbr> {<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
int a;<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
char b;<br>
&nbsp;<wbr> } MS2;</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
或许你认为MS2比MS1的情况要简单，它的布局应该就是</p>
<p>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
_______________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr> |<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+---------------------+<br>
&nbsp;<wbr>Bytes:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
因为MS2对象同样要满足4字节对齐规定，而此时a的地址与结构体的首地址相等，所以它一定也是4字节对齐。嗯，分析得有道理，可是却不全面。让我们来考虑一下定义一个MS2类型的数组会出现什么问题。<b style="color: black; background-color: rgb(255, 255, 102);">C</b>标准保证，任何类型(包括自定义结构类型)的数组所占空间的大小一定等于一个单独的该类型数据的大小乘以数组元素的个数。换句话说，数组各元素之间不会有空隙。按照上面的方案，一个MS2数组array的布局就是:</p>
<p>
|&lt;-&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
array[1]&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
-&gt;|&lt;-&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
array[2]&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
-&gt;|&lt;- array[3] .....</p>
<p>__________________________________________________________<br>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr> b&nbsp;<wbr>
|.............<br>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
+----------------------------------------------------------<br>
Bytes:&nbsp;<wbr>
4&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
当数组首地址是4字节对齐时，array[1].a也是4字节对齐，可是array[2].a呢？array[3].a
....呢？可见这种方案在定义结构体数组时无法让数组中所有元素的字段都满足对齐规定，必须修改成如下形式:</p>
<p>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
___________________________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr> |\\padding\\|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+---------------------------------+<br>
&nbsp;<wbr>Bytes:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
3</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
现在无论是定义一个单独的MS2变量还是MS2数组，均能保证所有元素的所有字段都满足对齐规定。那么<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(MS2)仍然是8，而a的偏移为0，b的偏移是4。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
好的，现在你已经掌握了结构体内存布局的基本准则，尝试分析一个稍微复杂点的类型吧。</p>
<p>&nbsp;<wbr> typedef struct ms3<br>
&nbsp;<wbr> {<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
char a;<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
short b;<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
double <b style="color: black; background-color: rgb(255, 255, 102);">c</b>;<br>
&nbsp;<wbr> } MS3;</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
我想你一定能得出如下正确的布局图:<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
padding&nbsp;<wbr><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
_____v_________________________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
|\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
| a |\|&nbsp;<wbr> b&nbsp;<wbr>
|\padding\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
<b style="color: black; background-color: rgb(255, 255, 102);">c</b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
|\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+-------------------------------------+<br>
Bytes:&nbsp;<wbr> 1&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>
2&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
4&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
8<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(short)等于2，b字段应从偶数地址开始，所以a的后面填充一个字节，而<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(double)等于8，<b style="color: black; background-color: rgb(255, 255, 102);">c</b>字段要从8倍数地址开始，前面的a、b字段加上填充字节已经有4
bytes，所以b后面再填充4个字节就可以保证<b style="color: black; background-color: rgb(255, 255, 102);">c</b>字段的对齐要求了。<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(MS3)等于16，b的偏移是2，<b style="color: black; background-color: rgb(255, 255, 102);">c</b>的偏移是8。接着看看结构体中字段还是结构类型的情况:</p>
<p>&nbsp;<wbr> typedef struct ms4<br>
&nbsp;<wbr> {<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
char a;<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MS3 b;<br>
&nbsp;<wbr> } MS4;</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MS3中内存要求最严格的字段是<b style="color: black; background-color: rgb(255, 255, 102);">c</b>，那么MS3类型数据的对齐模数就与double的一致(为8)，a字段后面应填充7个字节，因此MS4的布局应该是:<br>

&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
_______________________________________<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>
a&nbsp;<wbr>&nbsp;<wbr>
|\\padding\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
b&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|\\\\\\\\\\\|&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
|<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
+-------------------------------------+<br>
&nbsp;<wbr>Bytes:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
7&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
16</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
显然，<b style="color: black; background-color: rgb(255, 102, 255);">sizeof</b>(MS4)等于24，b的偏移等于8。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
在实际开发中，我们可以通过指定/Zp编译选项来更改编译器的对齐规则。比如指定/Zpn(VC7.1中n可以是1、2、4、8、16)就是告诉编译器最大对齐模数是n。在这种情况下，所有小于等于n字节的基本数据类型的对齐规则与默认的一样，但是大于n个字节的数据类型的对齐模数被限制为n。事实上，VC7.1的默认对齐选项就相当于/Zp8。仔细看看MSDN对这个选项的描述，会发现它郑重告诫了程序员不要在MIPS和Alpha平台上用/Zp1和/Zp2选项，也不要在16位平台上指定/Zp4和/Zp8(想想为什么？)。改变编译器的对齐选项，对照程序运行结果重新分析上面4种结构体的内存布局将是一个很好的复习。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
到了这里，我们可以回答本文提出的最后一个问题了。结构体的内存布局依赖于CPU、操作系统、编译器及编译时的对齐选项，而你的程序可能需要运行在多种平台上，你的源代码可能要被不同的人用不同的编译器编译(试想你为别人提供一个开放源码的库)，那么除非绝对必需，否则你的程序永远也不要依赖这些诡异的内存布局。顺便说一下，如果一个程序中的两个模块是用不同的对齐选项分别编译的，那么它很可能会产生一些非常微妙的错误。如果你的程序确实有很难理解的行为，不防仔细检查一下各个模块的编译选项。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
思考题:请分析下面几种结构体在你的平台上的内存布局，并试着寻找一种合理安排字段声明顺序的方法以尽量节省内存空间。</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> A. struct
P1 { int a; char b; int <b style="color: black; background-color: rgb(255, 255, 102);">c</b>; char d; };<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> B. struct P2
{ int a; char b; char <b style="color: black; background-color: rgb(255, 255, 102);">c</b>; int d; };<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> <b style="color: black; background-color: rgb(255, 255, 102);">C</b>. struct P3
{ short a[3]; char b[3]; };<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> D. struct P4
{ short a[3]; char *b[3]; };<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> E. struct P5
{ struct P2 *a; char b; struct P1 a[2];&nbsp;<wbr> };</p>
<p>参考资料:</p>
<p>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
【1】《深入理解计算机系统(修订版)》，<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
(著)Randal E.Bryant; David O´Hallaron，<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
(译)龚奕利 雷迎春，<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
中国电力出版社，2004<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> 【2】《<b style="color: black; background-color: rgb(255, 255, 102);">C</b>: A
Reference Manual》(影印版)，<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
(著)Samuel P.Harbison; Guy L.Steele，<br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
人民邮电出版社，2003</p>
<p>&nbsp;<wbr></p>
<p>本文来自CSDN博客，转载请标明出处：<a href="http://blog.csdn.net/manbug/archive/2006/08/26/1124845.aspx">http://blog.csdn.net/manbug/archive/2006/08/26/1124845.aspx</a></p>							
		</div>
						<!-- 正文结束 -->
		<div class="shareUp">
        	<div class="share SG_txtb">分享 <a href="#" id="sharewb"><img class="SG_icon SG_icon110" src="sg_trans.gif" title="" align="absmiddle" height="18" width="18"></a> <a href="#" id="sharemsn"><img class="SG_icon SG_icon136" src="sg_trans.gif" title="" align="absmiddle" height="18" width="18"></a> <a href="#" id="sharekx"><img class="SG_icon SG_icon117" src="sg_trans.gif" title="" align="absmiddle" height="18" width="18"></a> <a href="#" id="sharexn"><img class="SG_icon SG_icon113" src="sg_trans.gif" title="" align="absmiddle" height="18" width="18"></a> <a href="#" id="sharedb" target="_top"><img class="SG_icon SG_icon116" src="sg_trans.gif" title="" align="absmiddle" height="18" width="18"></a> <a href="javascript:;" id="shareqing"><img class="SG_icon SG_icon205" src="sg_trans.gif" title="分享到新浪Qing" align="absmiddle" height="18" width="18">分享到新浪Qing</a></div>
            <div class="up">
	        	<div title="顶起来让更多人看到" id="dbox_6b5a07450100mni4" class="upBox" style="cursor: pointer;">
	            	<p ti_title="c/c++&nbsp;内存对齐&nbsp;sizeof（转）" id="dbox2_6b5a07450100mni4" class="count"></p>
	                <p class="link"><img src="sg_trans.gif" class="SG_icon SG_icon34" align="absmiddle" height="15" width="15">顶</p>
	            </div>
	        </div>
            <div class="clearit"></div>
		</div>
		<div class="articalInfo">
			<!-- 分享到微博 {$t_blog} -->
			<div class="IL">
				阅读<span id="r_6b5a07450100mni4" class="SG_txtb"></span><em class="SG_txtb">┊</em> 
				<a href="#comment">评论</a> <span id="c_6b5a07450100mni4" class="SG_txtb"></span><em class="SG_txtb">┊</em>				<a href="javascript:;" onclick="$articleManage('6b5a07450100mni4',5);return false;">收藏</a><span id="f_6b5a07450100mni4" class="SG_txtb"></span>
				<em class="SG_txtb">┊</em><a href="#" id="quote_set_sign" onclick="return false ;">转载</a><a href="#" id="z_6b5a07450100mni4" onclick="return false ;" class="zznum"></a>				<span id="fn_c/c++&nbsp;内存对齐&nbsp;sizeof（转）" class="SG_txtb"></span><em class="SG_txtb">┊</em>
				<a onclick="return false;" href="javascript:;"><cite id="d1_digg_6b5a07450100mni4">顶</cite></a><a id="d1_digg_down_6b5a07450100mni4" href="javascript:;"><b>▼</b></a>
									<em class="SG_txtb">┊</em><a href="http://blog.sina.com.cn/main_v5/ria/print.html?blog_id=blog_6b5a07450100mni4" target="_top">打印</a><em class="SG_txtb">┊</em><a id="q_6b5a07450100mni4" onclick="report('6b5a07450100mni4');return false;" href="#">举报</a>
							</div>
			<div class="IR">
				<table>
					<tbody><tr>
											<th class="SG_txtb" scope="row">已投稿到：</th>
						<td>
							<div class="IR_list">
								<span><img class="SG_icon SG_icon36" src="sg_trans.gif" title="排行榜" align="absmiddle" height="15" width="15"> <a href="http://blog.sina.com.cn/lm/114/117/day.html" class="SG_linkb" target="_top">排行榜</a></span>							</div>
						</td>
										</tr>
									</tbody></table>
			</div>
		</div>
		<div class="clearit"></div>
		<div class="blogzz_zzlist borderc" id="blog_quote" style="display: none;">加载中，请稍候......</div>
		<div class="articalfrontback SG_j_linedot1 clearfix" id="new_nextprev_6b5a07450100mni4">
							<div><span class="SG_txtb">前一篇：</span><a href="http://blog.sina.com.cn/s/blog_6b5a07450100mhg3.html">[转载]“调试会话的可执行文件”对话框</a></div>
										<div><span class="SG_txtb">后一篇：</span><a href="http://blog.sina.com.cn/s/blog_6b5a07450100mnvz.html">[转载]立即指配[IMMEDIATE&nbsp;ASSIGNMENT]流程图及详解&lt;br&gt;</a></div>
					</div>
		<div class="clearit"></div>
					
				<div class="allComm">
			<div class="allCommTit">
				<div class="SG_floatL">
				    <strong>评论</strong>
				    <span id="commAd_1" style="display: none;">
				        <a href="http://blog.sina.com.cn/lm/8/2009/0325/105340.html" target="_top">重要提示：警惕虚假中奖信息</a>
				    				        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,398329,403641&amp;cid=0,0,0&amp;sid=400721&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,397177,402488&amp;cid=0,0,0&amp;sid=399523&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,399385,404697&amp;cid=0,0,0&amp;sid=401826&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,399385,404697&amp;cid=0,0,0&amp;sid=401826&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,397177,402488&amp;cid=0,0,0&amp;sid=399523&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,399385,404697&amp;cid=0,0,0&amp;sid=401826&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/1951657750/3395898400485810.html" target="_top">♥ 2011吃货们的幸福生活</a>
				       
				        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=118883,251213,256255&amp;cid=0,0,0&amp;sid=247096&amp;advid=358&amp;camid=19809&amp;show=ignore&amp;url=http://weibo.com/blogkefu" onclick="scope.attMiniBlog &amp;&amp; scope.attMiniBlog();" target="_top">关注每日最热门博客</a><a name="comment">&nbsp;</a>
				    </span>
				</div>
				<div class="SG_floatR"><a class="CP_a_fuc" href="#post">[<cite>发评论</cite>]</a></div>
			</div>
			<ul id="article_comment_list" class="SG_cmp_revert"><!-- 循环始 --><li>评论加载中，请稍候...</li><!-- 循环终  --></ul>
			<div class="clearit"></div>
			<div class="myCommPages SG_j_linedot1">
				<div class="SG_page" id="commentPaging" style="display: none;">
					<ul class="SG_pages">
					</ul>
				</div>
				<div class="clearit"></div>
			</div>
			<a name="post"></a>
			<div class="writeComm">
				<div class="allCommTit">
					<div class="SG_floatL">
					    <strong>发评论</strong>
					    <span id="commAd_2" style="display: none;">
					    					    					        <a href="http://qing.weibo.com/1951657750/7453ef16330007vj.html" target="_top">Qing带来全新读图时代</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					    					        <a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=118883,251212,256254&amp;cid=0,0,0&amp;sid=247095&amp;advid=358&amp;camid=19809&amp;show=ignore&amp;url=http://weibo.com/blogkefu" onclick="scope.attMiniBlog &amp;&amp; scope.attMiniBlog();" target="_top">关注每日最热门博客</a>
					    </span>
					    <span></span>
					</div>
					<div class="SG_floatR"></div>
				</div>
				<div class="wrCommTit">
					<div class="SG_floatL" id="commentNick" style="display: none;"></div>
				</div>
				<div class="formTextarea">
					<div style="float: left;" id="commonComment">
					<iframe id="postCommentIframe" style="border: 1px solid rgb(199, 199, 199); height: 158px; width: 448px; background-color: white;" src="index_1.html" frameborder="0"></iframe>
					<textarea id="commentArea" tabindex="1" style="display: none;"></textarea>
					</div>
					<div id="mobileComment" style="float: left; display: none;">
						<textarea id="mbCommentTa" style="width: 438px; height: 150px; border: 1px solid rgb(199, 199, 199); line-height: 18px; padding: 5px;"></textarea>
					</div>
					<div class="faceblk" id="faceWrap">
						<div id="smilesSortShow" class="faceline1">
						</div>
						<ul id="smilesRecommended" class="faceline01"></ul>
					</div>
					<div class="clearit"></div>
				</div>
				<div class="formLogin">
					<div class="SG_floatL"> 
					<p id="commentlogin" style="display: none;"><span>登录名：</span><input value="" style="width: 115px;" id="login_name" tabindex="2" type="text">   <span>密码：</span><input style="width: 115px;" id="login_pass" tabindex="3" type="password">   <a href="http://login.sina.com.cn/getpass.html" target="_top">找回密码</a>   <a href="http://login.sina.com.cn/signup/signup.php?entry=blog&amp;src=blogicp&amp;srcuid=1801062213" target="_top">注册</a>	<input id="login_remember" type="checkbox"><label for="login_remember" style="display: inline-block;" title="建议在网吧/公用电脑上取消该选项">记住登录状态</label></p><p id="commentloginM" style="display: none;"><span>昵&nbsp;&nbsp;&nbsp;称：</span><input style="width: 115px;" id="comment_anonyous" value="新浪网友" tabindex="2" disabled="disabled" type="text"></p><p id="quote_comment_p"><input id="bb" type="checkbox"> <label for="bb"><img title="" src="sg_trans.gif" class="SG_icon SG_icon110" align="absmiddle" height="18" width="18">分享到微博 <img title="新" src="sg_trans.gif" class="SG_icon SG_icon11" align="absmiddle" height="15" width="15"></label>&nbsp;&nbsp;&nbsp;<input id="cbCommentQuote" type="checkbox"><label for="cbCommentQuote">评论并转载此博文</label><img class="SG_icon SG_icon11" src="sg_trans.gif" title="新" align="absmiddle" height="15" width="15"></p><p><span>验证码：</span><input value="" style="width: 46px;" id="login_check" tabindex="4" onclick="return false;" type="text">  <a class="SG_linka" id="check_show">请点击后输入验证码</a><img id="comment_check_img" style="display: none;" align="absmiddle">  <a id="comment_get_vcode" href="#" onclick="return false;">收听验证码</a></p>
					</div>

					<span style="display: none; color: rgb(153, 153, 153); margin-left: 10px;" id="login_remember_caution"></span>

											<div class="SG_floatR" id="anonymity_cont"><input id="anonymity" type="checkbox"><label for="anonymity">匿名评论</label></div>
									</div>
				<div class="formBtn">
					<a href="javascript:;" onclick="return false;" class="SG_aBtn" tabindex="5"><cite id="postcommentid">发评论</cite></a>
					<p class="SG_txtc">以上网友发言只代表其个人观点，不代表新浪网的观点或立场。</p>
				</div>
			</div>
		</div>
				<div class="clearit"></div>
		
				<div class="articalfrontback articalfrontback2 clearfix">
						  <div class="SG_floatL"><span class="SG_txtb">&lt;&nbsp;前一篇</span><a href="http://blog.sina.com.cn/s/blog_6b5a07450100mhg3.html">[转载]“调试会话的可执行文件”对话框</a></div>
									  <div class="SG_floatR"><span class="SG_txtb">后一篇&nbsp;&gt;</span><a href="http://blog.sina.com.cn/s/blog_6b5a07450100mnvz.html">[转载]立即指配[IMMEDIATE&nbsp;ASSIGNMENT]流程图及详解&lt;br&gt;</a></div>
					</div>
		<div class="clearit"></div>
				
	</div>
	<!--博文正文 end -->
		

            </div>       
            <div class="SG_connFoot"></div>
          </div>
</div>
	<!--第二列start-->
	
	<!--第三列start-->
	<div id="column_3" class="SG_colWnone"><div style="width: 0px; height: 0.1px; margin: 0px;">&nbsp;&nbsp;</div></div>
	<!--第三列end-->

	
    </div>
   <!--主题内容结束 -->
  

	<div id="diggerFla" style="position: absolute; left: 0px; top: 0px; width: 0px;"></div>
    <div class="sinablogfooter" id="sinablogfooter" style="position: relative;">
      
      <p class="SG_linka"><a href="http://control.blog.sina.com.cn/admin/advice/advice_list.php" target="_top">新浪BLOG意见反馈留言板</a>　<a href="http://control.blog.sina.com.cn/admin/advice/impeach.php?url=http%3A//blog.sina.com.cn/s/blog_4cf7b4ec0100eudp.html%3Ftj%3D1">不良信息反馈</a>　电话：4006900000 提示音后按1键（按当地市话标准计费）　欢迎批评指正</p>
   
      <p class="SG_linka"><a href="http://corp.sina.com.cn/chn/" target="_top">新浪简介</a> | <a href="http://corp.sina.com.cn/eng/" target="_top">About Sina</a> | <a href="http://emarketing.sina.com.cn/" target="_top">广告服务</a> | <a href="http://www.sina.com.cn/contactus.html" target="_top">联系我们</a> | <a href="http://corp.sina.com.cn/chn/sina_job.html" target="_top">招聘信息</a> | <a href="http://www.sina.com.cn/intro/lawfirm.shtml" target="_top">网站律师</a> | <a href="http://english.sina.com/" target="_top">SINA English</a> | <a href="http://members.sina.com.cn/apply/" target="_top">会员注册</a> | <a href="http://help.sina.com.cn/" target="_top">产品答疑</a> </p>
      <p class="copyright SG_linka"> Copyright © 1996 - 2012 SINA Corporation,  All Rights Reserved</p>
      <p class="SG_linka"> 新浪公司 <a href="http://www.sina.com.cn/intro/copyright.shtml" target="_top">版权所有</a></p>
	  <a href="http://www.bj.cyberpolice.cn/index.jsp" target="_top" class="gab_link"></a>
    </div>
  </div>
</div>
<div id="swfbox"></div>












</div>



</body>
</html>
