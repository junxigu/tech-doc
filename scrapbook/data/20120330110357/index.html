<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh" xml:lang="zh" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=8">
    
    <meta http-equiv="content-style-type" content="text/css">
    <meta http-equiv="content-script-type" content="text/javascript">
    <meta name="version" content="neblog-1.0">
    
<title>程序员面试题精选100题(26)-和为n连续正数序列[算法] - 何海涛的日志 - 网易博客</title>
<meta name="author" content="zhedahht,何海涛">
<meta name="keywords" content="程序员面试题精选100题(26)-和为n连续正数序列[算法],日志,何海涛,微软、Google等面试题,网易博客,网易,blog">
<meta name="description" content="程序员面试题精选100题(26)-和为n连续正数序列[算法],何海涛的网易博客,剑指Offer：名企面试官精讲典型编程题,海纳百川,涛声依旧,点石成金,成就未来">
  
    
    
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  
  
  
  
  
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="blog-163-com" class="nb-body nb-inr nb-prv">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->

<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id="" "="" class="nbw-im fl im im0">
    <a rel="nofollow" class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_top" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/">
            新闻
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/">
            微博
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/">
            邮箱
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/">
            相册
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/">
            阅读
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/">
            有道
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/">
            摄影
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://aipai.163.com?from=163blog">
            爱拍
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog">
            云笔记
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628">
            闪电邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://m.123.163.com/?frombkcp">
            手机邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/">
            印像派
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://dream.163.com/?from=bkcp">
            梦幻人生
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/">
            更多
          </a>
        
    </div>
  </div>
                               
    <span style="margin-left: 0pt;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    
  <div id="" "="" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_top" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome">
            手机博客
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome">
            博客搬家
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/vip.do?frompersonalbloghome">
            博客VIP服务
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome">
            LiveWriter写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome">
            word写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome">
            邮件写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome">
            短信写博
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/showMultiUser.do?frompersonalbloghome">
            群博客
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/">
            博客油菜地
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome">
            博客话题
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome">
            博客热点
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome">
            博客圈子
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome">
            找朋友
          </a>
        
    </div>
  </div>

    
    <div class="nbw-im fl im1 im explore"><a class="lbl bd ima spy" href="http://blog.163.com/public/explore/?frompersonalbloghome">发现</a></div>
    <div class="nbw-im fl im1 im bloggroup"><a class="lbl bd ima spy" href="http://blog.163.com/g/?frompersonalbloghome">小组</a></div>
    <div class="nbw-im fl im1 im customtheme"><a class="lbl bd ima spy" href="http://blog.163.com/public/theme/?frompersonalbloghome">风格</a></div>
    <div class="nbw-im fl im1 im seebyway"><a rel="nofollow" title="随便看看" class="lbl bd ima spy" href="http://blog.163.com/randomUser.do">&nbsp;</a></div>
    
    <span class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl">
      <div class="nbw-im fl im1 im randtag"><a style="width: 110px;" target="_top" class="lbl bd ima moveblog randshow" href="http://www.lofter.com/" onclick="window.open('http://www.lofter.com/reg?from=blog');return false;">网易轻博客LOFTER</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">
    <div id="topbar_loginAndReg" class="fr">
      <a rel="nofollow" style="margin-left: 10px; color: rgb(255, 119, 0);" class="iblock fr ima" href="http://reg.163.com/reg/reg.jsp?product=blog&amp;url=http://blog.163.com/ntesRegBlank.html&amp;loginurl=http://blog.163.com/" target="_top">创建博客</a>
      <a rel="nofollow" class="iblock fr ima ztag" href="#">登录</a>
      <span class="fr iblock space icn1 icn1-4 spx">&nbsp;</span>
      <div id="topbar_followArea" class="nbw-im fr"><span class="lbl bd ima followit fl ztag"><span class="fl addicon">&nbsp;</span><span class="fl">关注</span></span></div>
    </div>
  </div>
</div>

<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
    <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="http://zhedahht.blog.163.com/blog/static/25411174200732711051101/" target="_top"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="http://zhedahht.blog.163.com/blog/static/25411174200732711051101/" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="http://zhedahht.blog.163.com/blog/static/25411174200732711051101/" hidefocus="true">关闭</a>
  </div>
 </div>
    <div id="$_faxiantip" class="faxiantip phide">
      <div>
	    <a class="m2a iblock" href="http://blog.163.com/public/explore/?fromblogbanner" target="_top"></a>
	    <span class="faxiantag m2a"></span>
      </div>
    </div>
    <div id="$_guanggaotip" class="guanggaotip phide">
      <div>
	    
	    <span class="guanggaotag m2a"></span>
      </div>
    </div>
    <div id="$_lofterInviteTip" class="lofterInviteTip phide">
      <div>
	    <a class="m2a iblock" href="http://www.lofter.com/invite/163blog/?email=" target="_top"></a>
	    <span class="lofterInviteTag m2a"></span>
      </div>
    </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">微软、Google等面试题</span></h1>
      <p class="d c"><span class="ztag pre">剑指Offer：名企面试官精讲典型编程题</span></p>
    </div>
    <div class="f h ztag">&nbsp;</div>
    <a class="x" hidefocus="true" target="_top" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
      <div class="c wc h clearfix " id="blog-163-com-container">
  <div class="nb-mdl lcr m-3 " id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc mdl_t_t">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc">
<div class="nbw-ryt ztag clearfix js-fix-098">
  <div class="right bdwl bds0 bdc0"><div class="cnt ztag"></div></div>
  <div class="left">
     <div class="lcnt bdwr bds0 bdc0 ">   
      <div id="$_divTopLink" class="top fc03 bdwb bdc0 bds2 clearfix">
        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732494452636/">程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法]</a></div>
        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732975328975/">程序员面试题精选100题(27)-二元树的深度[数据结构]</a></div>
     </div> 
     <div class="mcnt ztag"> 
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      <div class="multicnt">
	      	<div>
		      <h3 class="title pre fs1"><span class="tcnt">程序员面试题精选100题(26)-和为n连续正数序列[算法]</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3>
		      <p class="tdep clearfix nbw-act fc06" style="line-height: 20px;">
		        <span class="pleft">
		          
		          <span class="blogsep">2007-04-27 11:00:51</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>
		          <a class="fc03 m2a" href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_087071093087082069093081094095086083085066085087081071" title="数字游戏">数字游戏</a>
		          <span class="blogsep" id="$_blogTagTitle">|&nbsp;&nbsp;标签：</span><span class="fc03" id="$_blogTagInfo"><a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%BC%96%E7%A8%8B" class="fc03 m2a">编程</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E5%B0%B1%E4%B8%9A" class="fc03 m2a">就业</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E6%89%BE%E5%B7%A5%E4%BD%9C" class="fc03 m2a">找工作</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%AE%97%E6%B3%95" class="fc03 m2a">算法</a>&nbsp;&nbsp;</span>
		        </span>
		        <span class="pright fc07 ztag"><span class="blogsep">|</span><span class="zihao fc03" id="$_fontswitch">字号<span class="zihaoshow  phide" id="$_fontsTypes"><span class="zihaoc bdc0"><span class="stag"></span><span class="fc04 stag">大</span><span class="fc04 stag selected js-fcurrent fc05">中</span><span class="fc04 stag">小</span></span></span></span></span><span class="pright pnt fc03" id="$_blog_subscribe"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span>
		      </p>
		    </div>
	      </div>
        </div>
        
        <div>
        
        </div>
        
        <div class="nbw-blog-start"></div>
        <div class="bct fc05 fc11 nbw-blog ztag js-fs2"><p><span style="font-family: SimSun;">题目：输入一个正数</span>n<span style="font-family: SimSun;">，输出所有和为</span>n<span style="font-family: SimSun;">连续正数序列。</span></p> <p><span style="font-family: SimSun;">例如输入</span>15<span style="font-family: SimSun;">，由于</span>1+2+3+4+5=4+5+6=7+8=15<span style="font-family: SimSun;">，所以输出</span>3<span style="font-family: SimSun;">个连续序列</span>1-5<span style="font-family: SimSun;">、</span>4-6<span style="font-family: SimSun;">和</span>7-8<span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">分析：这是网易的一道面试题。</span></p> <p><span style="font-family: SimSun;">这道题和</span><a href="http://zhedahht.blog.163.com/blog/static/2541117420072143251809/"><span style="font-family: SimSun;">本面试题系列的第</span>10<span style="font-family: SimSun;">题</span></a><span style="font-family: SimSun;">有些类似。我们用两个数</span>small<span style="font-family: SimSun;">和</span>big<span style="font-family: SimSun;">分别表示序列的最小值和最大值。首先把</span>small<span style="font-family: SimSun;">初始化为</span>1<span style="font-family: SimSun;">，</span>big<span style="font-family: SimSun;">初始化为</span>2<span style="font-family: SimSun;">。如果从</span>small<span style="font-family: SimSun;">到</span>big<span style="font-family: SimSun;">的序列的和大于</span>n<span style="font-family: SimSun;">的话，我们向右移动</span>small<span style="font-family: SimSun;">，相当于从序列中去掉较小的数字。如果从</span>small<span style="font-family: SimSun;">到</span>big<span style="font-family: SimSun;">的序列的和小于</span>n<span style="font-family: SimSun;">的话，我们向右移动</span>big<span style="font-family: SimSun;">，相当于向序列中添加</span>big<span style="font-family: SimSun;">的下一个数字。一直到</span>small<span style="font-family: SimSun;">等于</span>(1+n)/2<span style="font-family: SimSun;">，因为序列至少要有两个数字。</span></p> <p><span style="font-family: SimSun;">基于这个思路，我们可以写出如下代码：</span></p> <p><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">void</span><span style="font-family: 'Courier New'; font-size: 10pt;"> PrintContinuousSequence(<span style="color: blue;">int</span> small, <span style="color: blue;">int</span> big);<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find continuous sequence, whose sum is n<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">void</span><span style="font-family: 'Courier New'; font-size: 10pt;"> FindContinuousSequence(<span style="color: blue;">int</span> n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(n &lt; 3)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span>;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> small = 1;&nbsp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> big = 2;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> middle = (1 + n) / 2;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> sum = small + big;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">while</span>(small &lt; middle)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// we are lucky and find the sequence<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(sum == n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PrintContinuousSequence(small, big);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if the current sum is greater than n,&nbsp;<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// move small forward<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">while</span>(sum &gt; n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sum -= small;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>small ++;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// we are lucky and find the sequence<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(sum == n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PrintContinuousSequence(small, big);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// move big forward<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>big ++;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sum += big;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Print continuous sequence between small and big<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">void</span><span style="font-family: 'Courier New'; font-size: 10pt;"> PrintContinuousSequence(<span style="color: blue;">int</span> small, <span style="color: blue;">int</span> big)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(<span style="color: blue;">int</span> i = small; i &lt;= big; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(<span style="color: maroon;">"%d "</span>, i);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(<span style="color: maroon;">"\n"</span>);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p><span style="font-family: 'Courier New'; font-size: 10pt;"> <p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: SimSun;"></span></p><p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><font size="3"><span style="font-family: 宋体;" lang="ZH-CN">本文已经收录到《</span><span style="font-family: 'Calibri','sans-serif';"><a target="_top" href="http://zhedahht.blog.163.com/blog/static/254111742011101624433132/"><font color="#0000ff"><span style="font-family: 宋体;" lang="ZH-CN">剑指</span>Offer<span style="font-family: 宋体;" lang="ZH-CN">——名企面试官精讲典型编程题</span></font></a></span><span style="font-family: 宋体;" lang="ZH-CN">》一书中，有改动，书中的分析讲解更加详细。欢迎关注。</span></font></p></span><p></p><p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">博主何海涛对本博客文章享有版权。网络转载请注明出处</font></span><a href="http://zhedahht.blog.163.com/"><font color="#990000" face="Calibri" size="3">http://zhedahht.blog.163.com/</font></a><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">。整理出版物请和作者联系。</font></span></p></div>
        <div class="nbw-blog-end"></div>

        <div>
		</div>
		
        <div>
		</div>
		
		<div>
      	  <div>
		  	<div class="wumii-hook"></div>
		  </div>
		</div>
		
        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="iblock bcmimg">&nbsp;</span>
            <span class="nbc-0 nbc-0-40 ptcmt ptcmt-2">评论这张</span>
          </span>
        </div>
		<div class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        <div style="left: 58px; top: 322px;" class="ptc ztag phide">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        
        
        <div class="nbw-act tbar fc03 clearfix">
         <div style="height: 24px; line-height: 24px;">
          <div class="pleft rdif">
	          <span class="pnt pleft" id="$_spanRecommend"><img class="pclass" src="tuijian.png"></span>
	        <span id="$_spanShowRecommend" class="pleft rdct  phide">
	          <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	        </span>
	         <span class="fc07 pleft nas-tofix">分享到：</span><span class="nas-wrap pleft"><span id="$_shareBtn_163weibo" title="分享到网易微博" class="nas-itm nas-itm0">&nbsp;</span><span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="nas-itm nas-itm6">&nbsp;</span><span id="$_shareBtn_qqweibo" title="分享到腾讯微博" class="nas-itm nas-itm9">&nbsp;</span><span class="nas-itm nas-itm7" title="分享到MSN" id="$_shareBtn_msn">&nbsp;</span><span class="nas-itm nas-itm3" title="分享到QQ空间" id="$_shareBtn_qq">&nbsp;</span><span class="nas-itm nas-itm1" title="分享到人人网" id="$_shareBtn_renren">&nbsp;</span><span class="nas-itm nas-itm2" title="分享到开心网" id="$_shareBtn_kaixin">&nbsp;</span><span class="nas-itm nas-itm4" title="分享到豆瓣" id="$_shareBtn_douban">&nbsp;</span><span class="nas-itm nas-itm8" title="分享到梦幻人生" id="$_shareBtn_dream">&nbsp;</span></span>
          </div>
          <div class="pright">
              <span class="fc07">阅读(<span id="$_spaniReadCount">10772</span>)</span><span class="sep fc07">|</span>
              <span class="fc07">评论(<span id="$_spaniCommentCount">24</span>)</span><span class="sep fc07">|</span>
              <span class="m2a" id="$_spanCite">引用</span> <span class="m2a" id="$_spanCiteCount">(3)</span>
              <span class="sep fc07">|</span><span id="$_spanReport" class="m2a">举报</span>
          </div>
         </div>
        </div>
      </div>
      <div class="snl">
        <div class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="yodaoad" class="bdwb bds2 bdc0" style="display: none;">&nbsp;</div>
        <div id="$_divTopLink" class="top fc03 clearfix">
	        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
	        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732494452636/">程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法]</a></div>
	        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
	        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732975328975/">程序员面试题精选100题(27)-二元树的深度[数据结构]</a></div>
	     </div> 
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">相关文章</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="author phide">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"><div class="pleft nlogif clearfix"> <div class="pleft nbw-f50 nbw-fce"><img class="cwd pnt" onerror="this.src=location.f60" src="face60.png"></div> <div class="m2a pright fc03"><span class="ul">登录</span>后，您可以在此留下足迹。</div> </div></div>
	    </div>
	    <div class="phide" id="yodaoad_1" style=""></div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"><div>    <div class="publish ztag"><div class="nbw-cdt edt-cmt"><div class="nbw-act tp"> <span class="m2a fc03 ztag">点击登录</span><span class="sep">|</span><span class="fc05">昵称：</span><input value="" maxlength="18" class="znick bdwa bds0 bdc0 ztag" type="text"> </div> <div class="edt ztag"><div class="ui-8081845915"><div class="zcnt ztag zbrd bdc0"><iframe src="index_1.html" frameborder="0"></iframe></div> <div class="zbtn"> <span class="zfce zbgp ztag space">&nbsp;</span> <input class="zbok zhnd ztag nbtn fc09 bdc1 bgc2" value="发表" type="button"> <span class="zbcc zhnd ztag fc04">取消</span> <div class="zvcd ztag" style="display: none;"> <label>验证码：</label><input value="" class="zbrd xtag bdc0" maxlength="4" type="text"><img src="empty.png" class="xtag" title="点击刷新验证码"><span class="xtag fc04">换一张</span> </div> </div> <div class="zmsg fc07" style="display: none;"><span class="zicn zbgp iblock">&nbsp;</span><span class="ztag"></span></div></div></div> <div style="display: none;" class="hnt thide ztag"></div></div></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style=""></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://gyhuxl.blog.163.com/" target="_top" hidefocus="true"><img src="ava.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-10-02 21:45</span><div class="tx atag"><a title="gyhuxl" class="fc03 noul" target="_top" href="http://gyhuxl.blog.163.com/"><span class="m2a">gyhuxl</span></a></div></div> <div class="cnt pre atag"><div>while(std::cin&gt;&gt;n &amp;&amp; n &gt; 0)</div><div>{ &nbsp;&nbsp;</div><div>&nbsp;int k = 2;</div><div>&nbsp;while(k * (k + 1) &lt;= 2 * n)</div><div>{ &nbsp;&nbsp;</div><div>&nbsp;if(((k &amp; 0x01) &amp;&amp; n % k == 0)</div><div>&nbsp; || (!(k &amp; 0x01) &amp;&amp; ((n - k/2) % k == 0)))</div><div>{ &nbsp;&nbsp;</div><div>&nbsp;int m = (2 * n / k - k + 1) / 2;</div><div>for(int j = 0; j &lt; k; ++ j)</div><div>&nbsp;std::cout&lt;&lt;m + j&lt;&lt;"\t";</div><div>&nbsp;std::cout&lt;&lt;"\n";</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ++ k;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } &nbsp;&nbsp;</div><div>&nbsp; &nbsp; }</div><div><br></div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ddup2.blog.163.com/" target="_top" hidefocus="true"><img src="ava_001.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-18 21:55</span><div class="tx atag"><a title="ddup2" class="fc03 noul" target="_top" href="http://ddup2.blog.163.com/"><span class="m2a">ddup2</span></a></div></div> <div class="cnt pre atag"><div><span class="Apple-tab-span" style="">  </span>int i = j-1;</div><div><div><span class="Apple-tab-span" style="">  </span>int sum = j;</div><div><span class="Apple-tab-span" style="">  </span>while(i &gt; 0 &amp;&amp; sum &lt; n){</div><div><span class="Apple-tab-span" style="">   </span>sum = sum + i;</div><div><span class="Apple-tab-span" style="">   </span>i--;</div><div><span class="Apple-tab-span" style="">  </span>}</div><div><span class="Apple-tab-span" style="">  </span>if(sum == n){</div><div><span class="Apple-tab-span" style="">   </span>printf("%d-%d\n", i+1, j);</div><div><span class="Apple-tab-span" style="">  </span>}</div><div><span class="Apple-tab-span" style="">  </span>j--;</div><div><span class="Apple-tab-span" style=""> </span>}</div><div>}</div></div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ddup2.blog.163.com/" target="_top" hidefocus="true"><img src="ava_001.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-18 21:55</span><div class="tx atag"><a title="ddup2" class="fc03 noul" target="_top" href="http://ddup2.blog.163.com/"><span class="m2a">ddup2</span></a></div></div> <div class="cnt pre atag"><div>void print_series(int n)</div><div>{</div><div><span class="Apple-tab-span" style=""> </span>if(n &lt; 3) return;</div><div><span class="Apple-tab-span" style=""> </span>int j = n/2+1;</div><div><span class="Apple-tab-span" style=""> </span>while(j &gt; 0){</div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ddup2.blog.163.com/" target="_top" hidefocus="true"><img src="ava_001.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-18 21:54</span><div class="tx atag"><a title="ddup2" class="fc03 noul" target="_top" href="http://ddup2.blog.163.com/"><span class="m2a">ddup2</span></a></div></div> <div class="cnt pre atag">楼主解法稍微有点复杂了，下面的解法应该简洁一些，思路就是从n/2+1开始，往1那个方向累加。<div><div><div><br></div></div></div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://cnshoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_002.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-09-25 14:27</span><div class="tx atag"><a title="SHOIT" class="fc03 noul" target="_top" href="http://cnshoit.blog.163.com/"><span class="m2a">SHOIT</span></a></div></div> <div class="cnt pre atag">这个是O(N)的时间复杂度，这题更好的方法应该是枚举2N的一个因子来做。O(sqrt(2N));因为 假设 a + (a+1) + ... + b = N 是一个答案，则根据求和公式就是 (a + b) * (b - a + 1) / 2 = N, 则 (a+b)和 (b-a+1)分别是2N的一个因子，枚举其中一个，就可以判断求出第二个，然后求出a和b了。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://blog.163.com/maxint@126/" target="_top" hidefocus="true"><img src="ava_003.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-08-13 18:07</span><div class="tx atag"><a class="fc03 noul" title="maxint" target="_top" href="http://blog.163.com/maxint@126/"><span class="m2a">maxint</span></a><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="SHOIT" target="_top" href="http://cnshoit.blog.163.com/"><span class="m2a">SHOIT</span></a></div></div> <div class="cnt pre atag">接着说，i=[2,sqrt(2N)]是２Ｎ的因数，可以推出：<br>
a=1/2(i+1)-n/i<br>
b=1/2(i-1)+n/i<br>
所以i只可能是奇数，然后<br>int imax=(int)sqrt(n*2);<br>for (i=3; i&lt;=imax; i+=2) {<br>&nbsp;&nbsp;&nbsp; if (2*n%i==0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calculate a,b as upper formula with i=i;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calculate a,b as upper formula with i=2N/i;<br>&nbsp;&nbsp;&nbsp; }<br>}<br>只是一个思路，供参考</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-09-23 19:22</span><div class="tx atag"><span title="北京 " class="fc07">大洋仔哥</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="maxint" target="_top" href="http://blog.163.com/maxint@126/"><span class="m2a">maxint</span></a></div></div> <div class="cnt pre atag">不是奇数也行。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="浙江 杭州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-04 15:50</span><div class="tx atag"><span title="浙江 杭州" class="fc07">limitstorm</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="SHOIT" target="_top" href="http://cnshoit.blog.163.com/"><span class="m2a">SHOIT</span></a></div></div> <div class="cnt pre atag">n=(a+b)*(b-a+1)/2;<div>令k1=b+a;</div><div>k2=b-a;</div><div>k1+k2=2b;</div><div>k1-k2=2a;</div><div>显然k1,k2同奇偶</div><div>因此k1,k2+1必定有一个为奇数</div><div>另外，k1-(k2+1)=2a-1&gt;0 &nbsp; (a&gt;=1)</div><div>所以n不能是素数的平方*2</div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://jinfd.blog.163.com/" target="_top" hidefocus="true"><img src="ava_004.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-07-12 17:03</span><div class="tx atag"><a title="发发" class="fc03 noul" target="_top" href="http://jinfd.blog.163.com/"><span class="m2a">发发</span></a></div></div> <div class="cnt pre atag"><blockquote class="selitm bd01"><span class="a_a c_c c05" href="http://jinfd.blog.163.com/" target="_blank">发发</span><br><span><blockquote class="selitm bd01"><span class="a_a c_c c05" target="_blank" href="http://jinfd.blog.163.com/">发发</span><br><span>
<p>好，这道题目的解和n*2的公约数有关，解的集合在2n的在 [2，sqrt(2n)] 区间的几个公约数相关。每个公约数可能对应一个解，但是也可能这个公约数没有解。假设公约数为k，用下面的代码表示</p>
<p>int start,end,temp;</p>
<p>int imax=(int)sqrt(n*2);</p>
<p>for(int i=2; i&lt;imax;i++)</p>
<p>{</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; if((n*2)%i==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp=n*2 - i*i + i;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( temp%(i*2)==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start=temp/(i*2);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end=start+ i -1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%d-%d \n ", start,end);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>}</p></span></blockquote>
<p>有个错误，应该让imax取到sqrt（2n)的顶部，而非底部，因此可以+1.</p>
<p>int imax=(int)Math.Sqrt(n*2)+1;</p></span></blockquote><p>当n=30000时，输入结果如下：</p>
<p>9999-10001<br>5998-6002<br>1993-2007<br>1188-1212<br>922-953<br>363-437<br>265-360<br>178-302<br>108-267</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://jinfd.blog.163.com/" target="_top" hidefocus="true"><img src="ava_004.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-07-12 16:45</span><div class="tx atag"><a title="发发" class="fc03 noul" target="_top" href="http://jinfd.blog.163.com/"><span class="m2a">发发</span></a></div></div> <div class="cnt pre atag"><blockquote class="selitm bd01"><span class="a_a c_c c05" href="http://jinfd.blog.163.com/" target="_blank">发发</span><br><span><p>好，这道题目的解和n*2的公约数有关，解的集合在2n的在 [2，sqrt(2n)] 区间的几个公约数相关。每个公约数可能对应一个解，但是也可能这个公约数没有解。假设公约数为k，用下面的代码表示</p>
<p>int start,end,temp;</p>
<p>int imax=(int)sqrt(n*2);</p>
<p>for(int i=2; i&lt;imax;i++)</p>
<p>{</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; if((n*2)%i==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp=n*2 - i*i + i;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( temp%(i*2)==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start=temp/(i*2);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end=start+ i -1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%d-%d \n ", start,end);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>}</p></span></blockquote><p>有个错误，应该让imax取到sqrt（2n)的顶部，而非底部，因此可以+1.</p>
<p>int imax=(int)Math.Sqrt(n*2)+1;</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://jinfd.blog.163.com/" target="_top" hidefocus="true"><img src="ava_004.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-07-12 16:24</span><div class="tx atag"><a title="发发" class="fc03 noul" target="_top" href="http://jinfd.blog.163.com/"><span class="m2a">发发</span></a></div></div> <div class="cnt pre atag"><p>好，这道题目的解和n*2的公约数有关，解的集合在2n的在 [2，sqrt(2n)] 区间的几个公约数相关。每个公约数可能对应一个解，但是也可能这个公约数没有解。假设公约数为k，用下面的代码表示</p>
<p>int start,end,temp;</p>
<p>int imax=(int)sqrt(n*2);</p>
<p>for(int i=2; i&lt;imax;i++)</p>
<p>{</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; if((n*2)%i==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp=n*2 - i*i + i;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( temp%(i*2)==0)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start=temp/(i*2);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end=start+ i -1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%d-%d \n ", start,end);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>}</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="湖北 武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-17 20:36</span><div class="tx atag"><span title="湖北 武汉" class="fc07">网易博友42</span></div></div> <div class="cnt pre atag">/*
<br>按等差数列计算，连续数列有i个数，首数为x，和为
<br>sum=(2*x+i-1)*i/2
<br>当序列存在时
<br>(2*x+i-1)*i/2=n;
<br>注意到i，2*x+i-1，均为整数
<br>i的可能值为2－n/2+1
<br>*/
<br>
<br>void&nbsp;FindContinuousSequence(int&nbsp;n,ostream&amp;&nbsp;out)
<br>{
<br>	int&nbsp;i;
<br>	for(i=2;i&lt;n/2+1;i++)
<br>	{
<br>	&nbsp;&nbsp;&nbsp;if((2*n)%i==0)
<br>		{
<br>			
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>			if((2*n/i+1-i)%2==0&amp;&amp;(2*n/i+1-i)&gt;0)
<br>			{
<br>			&nbsp;&nbsp;//print&nbsp;ContinuousSequence&nbsp;
<br>			&nbsp;&nbsp;for(int&nbsp;j=(2*n/i+1-i)/2;j&lt;(2*n/i+1-i)/2+i;j++)
<br>		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	out&lt;&lt;j&lt;&lt;"&nbsp;";
<br>			&nbsp;&nbsp;&nbsp;&nbsp;out&lt;&lt;"\n";
<br>			}
<br>		}
<br>
<br>	}
<br>}
<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://skyairmj.blog.163.com/" target="_top" hidefocus="true"><img src="ava_005.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-16 11:14</span><div class="tx atag"><a title="方外醉月" class="fc03 noul" target="_top" href="http://skyairmj.blog.163.com/"><span class="m2a">方外醉月</span></a></div></div> <div class="cnt pre atag">&nbsp; double sum = 100000000000d;<br>&nbsp;&nbsp;long count = 0;<br>&nbsp;&nbsp;long start = System.currentTimeMillis();<br>&nbsp;&nbsp;for(long i=2,max=(long)Math.sqrt(2*sum)+1;i&lt;max;i++) {<br>&nbsp;&nbsp;&nbsp;double j = (2*sum/i-i+1)/2;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;if(j&gt;0&amp;&amp;Math.floor(j)==j) {<br>&nbsp;&nbsp;&nbsp;&nbsp;count++;<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;System.out.println(System.currentTimeMillis()-start+"&nbsp;&nbsp; "+count);//只要78ms</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://skyairmj.blog.163.com/" target="_top" hidefocus="true"><img src="ava_005.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-16 11:07</span><div class="tx atag"><a title="方外醉月" class="fc03 noul" target="_top" href="http://skyairmj.blog.163.com/"><span class="m2a">方外醉月</span></a></div></div> <div class="cnt pre atag"><p>因为是连续整数，根据等差数列的求和，可以列出<br>(A0+An)n/2＝sum,进一步，得到A0＝(2*sum/n-n+1)/2</p>
<p>因为A0必然大于0，n必然大于2，推出 2&lt;n&lt;sqrt(2*sum)</p>
<p>时间复杂度为o(sqrt(N))</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-01 03:24</span><div class="tx atag"><span title="北京" class="fc07">网易博友239</span></div></div> <div class="cnt pre atag">void&nbsp;mynumline2(int&nbsp;n)/*借鉴了网易博友127的s思路,不过,需要增加结果y验证,否则y有负值,这种方法可以y对结果排序输出,而*/不需要储存结果<br>{<br>	for(int&nbsp;i&nbsp;=&nbsp;2;i&nbsp;&lt;=&nbsp;n/2;i++)<br>	{<br>		int&nbsp;sum&nbsp;=&nbsp;0;<br>		if(i%2&nbsp;==&nbsp;0)<br>		{<br>			for(int&nbsp;j&nbsp;=&nbsp;0;j&lt;i;j++)<br>			{<br>				sum&nbsp;+=&nbsp;(int)(n/i)-(i/2&nbsp;-&nbsp;1)+j;<br>				if(((int)(n/i)-(i/2&nbsp;-&nbsp;1)+j)&lt;=0)<br>				{<br>					sum&nbsp;=&nbsp;0;<br>					break;<br>				}<br>			}<br>			if(sum&nbsp;==&nbsp;n)<br>			{<br>				for(int&nbsp;j&nbsp;=&nbsp;0;j&lt;i;j++)<br>				{<br>					cout&nbsp;&lt;&lt;&nbsp;(int)(n/i)-(i/2&nbsp;-&nbsp;1)+j&lt;&lt;&nbsp;"&nbsp;";<br>				}<br>				cout&nbsp;&lt;&lt;&nbsp;endl;<br>			}<br>		}<br>		if(i%2&nbsp;==&nbsp;1)<br>		{<br>			for(int&nbsp;j&nbsp;=&nbsp;0;j&lt;i;j++)<br>			{<br>				sum&nbsp;+=&nbsp;(n/i)-(i/2)+j;<br>				if(((n/i)-(i/2)+j)&lt;=0)<br>				{<br>					sum&nbsp;=&nbsp;0;<br>					break;<br>				}<br>			}<br>			if(sum&nbsp;==&nbsp;n)<br>			{<br>				for(int&nbsp;j&nbsp;=&nbsp;0;j&lt;i;j++)<br>				{<br>					cout&nbsp;&lt;&lt;&nbsp;(n/i)-(i/2)+j&nbsp;&lt;&lt;&nbsp;"&nbsp;";<br>				}<br>				cout&nbsp;&lt;&lt;&nbsp;endl;<br>			}<br>		}<br>	}<br>}<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-01 03:24</span><div class="tx atag"><span title="北京" class="fc07">网易博友239</span></div></div> <div class="cnt pre atag">//下面是我的代码,可以对不同算法的结果对比<br><br>#include&nbsp;&lt;iostream&gt;<br>using&nbsp;namespace&nbsp;std;<br><br><br>void&nbsp;mynumline(int&nbsp;n)//method&nbsp;1&nbsp;right与本文的第一种方法相同<br>{<br>	int&nbsp;small&nbsp;=&nbsp;1,big&nbsp;=&nbsp;2;<br>	while(small&nbsp;&lt;=(1+n)/2)<br>	{<br>		int&nbsp;sum&nbsp;=&nbsp;0;<br>		for(int&nbsp;i&nbsp;=&nbsp;small;i&nbsp;&lt;=&nbsp;big;i++)<br>		{<br>			sum+=i;<br>		}<br>		if(sum==n)<br>		{<br>			cout&nbsp;&lt;&lt;&nbsp;"n&nbsp;=&nbsp;";<br>			for(int&nbsp;i&nbsp;=&nbsp;small;i&nbsp;&lt;&nbsp;big;i++)<br>			{<br>				cout&nbsp;&lt;&lt;&nbsp;i&nbsp;&lt;&lt;&nbsp;"+";<br>			}<br>			cout&nbsp;&lt;&lt;&nbsp;big&nbsp;&lt;&lt;&nbsp;endl;<br>			small++;<br>		}<br>		if(sum&nbsp;&lt;&nbsp;n)<br>		{<br>			big++;<br>		}<br>		if(sum&nbsp;&gt;&nbsp;n)<br>		{<br>			small++;<br>		}<br>		<br>	}<br>}<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:34</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%d ",first);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:34</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//N为奇数<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(n%N==0){&nbsp;&nbsp;&nbsp;//可能有此序列<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; first=n/N-(N-1)/2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(first&lt;=0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=1;i&lt;=N;i++,first++)<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:33</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=1;i&lt;=N;i++,first++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;printf("%d ",first);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:33</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(k==2){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //N为偶数<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if((n-N/2)%N==0){ &nbsp;//可能有此序列<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; first=n/N-N/2+1;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(first&lt;=0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:33</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag"><p>/////////////////////////////////////////////////////////////////////////<br>// Find continuous sequence, whose sum is n<br>/////////////////////////////////////////////////////////////////////////<br>void FindContinuousSequence(int n){<br>&nbsp;&nbsp;&nbsp; int N,i,k,first;<br>&nbsp;&nbsp;&nbsp; for(N=2,k=2;1;N++,k=3-k){<br></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://ukdoit.blog.163.com/" target="_top" hidefocus="true"><img src="ava_006.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-29 15:31</span><div class="tx atag"><a title="ukdoit" class="fc03 noul" target="_top" href="http://ukdoit.blog.163.com/"><span class="m2a">ukdoit</span></a></div></div> <div class="cnt pre atag"><p>我也来个程序，还不知道正不正确。<img src="face0.gif"></p>
<p>&nbsp;</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="浙江杭州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-27 20:01</span><div class="tx atag"><span title="浙江杭州" class="fc07">网易博友127</span></div></div> <div class="cnt pre atag">我有个简单的算法,不知道对不对!&nbsp;&nbsp;大致的思路是这样的&nbsp;我们循环不断的&nbsp;用n除以i&nbsp;即&nbsp;n/i&nbsp;,&nbsp;i是循环变量代表的含义就是有i个数相加得到n&nbsp;,&nbsp;
<br>那么n/i的结果就是这i个数相加得到n的中间那个数,&nbsp;比如说&nbsp;n&nbsp;=&nbsp;15,&nbsp;i&nbsp;=&nbsp;2,那么&nbsp;n/i&nbsp;即&nbsp;15/2&nbsp;=&nbsp;7&nbsp;就是最中间的数&nbsp;.&nbsp;或者i&nbsp;=&nbsp;5&nbsp;那么&nbsp;n/5&nbsp;=&nbsp;3,
<br>即3是最中间的数&nbsp;1&nbsp;+&nbsp;2&nbsp;+&nbsp;3&nbsp;+&nbsp;4&nbsp;+&nbsp;5&nbsp;=&nbsp;15.
<br>
<br>对于每一个i来说&nbsp;只有一个组合的所有数字相加是等于n的&nbsp;这是显而易见的.
<br>这里有个推断&nbsp;:&nbsp;如果i&nbsp;是偶数,&nbsp;那么这i个数&nbsp;应该是:&nbsp;在n/i这个数的左边有&nbsp;i/2&nbsp;-&nbsp;1个连续的数,那么由于总共是i个数,在i的右边就是
<br>i&nbsp;-(i/2&nbsp;-&nbsp;1)&nbsp;-&nbsp;1.也是就减去最左边的数和中间的数.&nbsp;如果i是奇数&nbsp;,&nbsp;那就好办了&nbsp;那左右两边都是&nbsp;i/2个数了.
<br>
<br>我们确定了这i个数之后,然后最简单的方法我们把这i个数加一下看看是否等于n.&nbsp;如果等于就打印输出,不等与就把&nbsp;i++(还有更好的判断条件);
<br>循环直到&nbsp;(n/2&nbsp;-&nbsp;1)&nbsp;&lt;&nbsp;i&nbsp;/&nbsp;2&nbsp;就退出了.&nbsp;这句话的意思是说&nbsp;我们算出的中间数&nbsp;他的左边数实际的个数&nbsp;已经小于我们所要求个数的(我们要求是i个数)一半了也是是根本找不到这样的i个数了!&nbsp;</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-27 14:23</span><div class="tx atag"><span title="上海" class="fc07">网易博友145</span></div></div> <div class="cnt pre atag">j&nbsp;+&nbsp;(j+1)&nbsp;+...&nbsp;+&nbsp;k&nbsp;=&nbsp;k*(k+1)/2&nbsp;-&nbsp;j*(j-1)/2&nbsp;=&nbsp;n，即k(k+1)&nbsp;=&nbsp;2n&nbsp;+&nbsp;j(j-1)<br>可以枚举j，判断a=2n&nbsp;+&nbsp;j(j-1)是不是相邻个数的积，即[sqrt(a)]&nbsp;*&nbsp;[sqrt(a)&nbsp;+&nbsp;1]&nbsp;=&nbsp;a<br>涉及到开平方运算不好，有人知道好的办法判断一个数能不能写能相邻两数的积的办法么？</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div></div>
      <div style="" class="clearfix"><div style="display: none;" class="ui-3668588683 noselect js-zfrg-6540"><span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">上一页</span> <span class="pgi zpg1 iblock fc03 bgc9 bdc0 js-zslt-987 fc05">1</span> <span class="frg fgp fc06">...</span> <span style="display: none;" class="pgi zpg2 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg3 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg4 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg5 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg6 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg7 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg8 iblock fc03 bgc9 bdc0">-1</span> <span class="frg fgn fc06">...</span> <span style="display: none;" class="pgi zpg9 iblock fc03 bgc9 bdc0">-1</span> <span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">下一页</span></div></div>
    </div>
  </div></div>
	    </div>
	    <div class="phide" id="yodaoad_3" style=""></div>
      </div>
      <div class="cite ztag fc03 phide"></div>
    </div>
   </div>
  </div>
</div>



</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>

</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/index_gb.html">公司简介</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://gb.corp.163.com/gb/contactus.html">联系方法</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/job/job.html">招聘信息</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://help.163.com/?b13abk1">客户服务</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/legal/legal.html">隐私政策</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/vip.do">VIP博客</a>
      
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://zhedahht.blog.163.com/rss/">
      <span class="p fc10">-</span><span class="fc08" id="$_foot_subscribe"><span class="iblock m2a icn0 icn0-919">&nbsp;</span><a class="m2a fc08">订阅此博客</a></span>
    </div>
    <p class="fc08">网易公司版权所有&nbsp;©1997-2012</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  

     <div style="position: absolute; top: 0pt; right: 0pt; z-index: 999; width: 1px; height: 1px; overflow: hidden;"> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ntsstorage" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" height="1" width="1"> <param name="movie" value="/common/storage.swf?t=1333074660724"> <param name="AllowScriptAccess" value="sameDomain"> <embed src="storage.swf" name="ntsstorage" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" height="1" width="1">  </object> </div><iframe src="index_2.html" id="api.blog.163.com" name="api.blog.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_3.html" id="photo.163.com" name="photo.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_4.html" id="ud.blog.163.com" name="ud.blog.163.com" style="display: none;" height="0" width="0"></iframe>
    
  
  

    


</body>
</html>
