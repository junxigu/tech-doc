<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh" xml:lang="zh" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=8">
    
    <meta http-equiv="content-style-type" content="text/css">
    <meta http-equiv="content-script-type" content="text/javascript">
    <meta name="version" content="neblog-1.0">
    
<title>程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法] - 何海涛的日志 - 网易博客</title>
<meta name="author" content="zhedahht,何海涛">
<meta name="keywords" content="程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法],日志,何海涛,微软、Google等面试题,网易博客,网易,blog">
<meta name="description" content="程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法],何海涛的网易博客,剑指Offer：名企面试官精讲典型编程题,海纳百川,涛声依旧,点石成金,成就未来">
  
    
    
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  
  
  
  
  
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="blog-163-com" class="nb-body nb-inr nb-prv">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->

<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id="" "="" class="nbw-im fl im im0">
    <a rel="nofollow" class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_top" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/">
            新闻
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/">
            微博
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/">
            邮箱
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/">
            相册
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/">
            阅读
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/">
            有道
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/">
            摄影
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://aipai.163.com?from=163blog">
            爱拍
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog">
            云笔记
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628">
            闪电邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://m.123.163.com/?frombkcp">
            手机邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/">
            印像派
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://dream.163.com/?from=bkcp">
            梦幻人生
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/">
            更多
          </a>
        
    </div>
  </div>
                               
    <span style="margin-left: 0pt;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    
  <div id="" "="" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_top" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome">
            手机博客
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome">
            博客搬家
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/vip.do?frompersonalbloghome">
            博客VIP服务
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome">
            LiveWriter写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome">
            word写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome">
            邮件写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome">
            短信写博
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/showMultiUser.do?frompersonalbloghome">
            群博客
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/">
            博客油菜地
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome">
            博客话题
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome">
            博客热点
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome">
            博客圈子
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome">
            找朋友
          </a>
        
    </div>
  </div>

    
    <div class="nbw-im fl im1 im explore"><a class="lbl bd ima spy" href="http://blog.163.com/public/explore/?frompersonalbloghome">发现</a></div>
    <div class="nbw-im fl im1 im bloggroup"><a class="lbl bd ima spy" href="http://blog.163.com/g/?frompersonalbloghome">小组</a></div>
    <div class="nbw-im fl im1 im customtheme"><a class="lbl bd ima spy" href="http://blog.163.com/public/theme/?frompersonalbloghome">风格</a></div>
    <div class="nbw-im fl im1 im seebyway"><a rel="nofollow" title="随便看看" class="lbl bd ima spy" href="http://blog.163.com/randomUser.do">&nbsp;</a></div>
    
    <span class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl">
      <div class="nbw-im fl im1 im randtag"><a style="width: 110px;" target="_top" class="lbl bd ima moveblog randshow" href="http://www.lofter.com/" onclick="window.open('http://www.lofter.com/reg?from=blog');return false;">网易轻博客LOFTER</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">
    <div id="topbar_loginAndReg" class="fr">
      <a rel="nofollow" style="margin-left: 10px; color: rgb(255, 119, 0);" class="iblock fr ima" href="http://reg.163.com/reg/reg.jsp?product=blog&amp;url=http://blog.163.com/ntesRegBlank.html&amp;loginurl=http://blog.163.com/" target="_top">创建博客</a>
      <a rel="nofollow" class="iblock fr ima ztag" href="#">登录</a>
      <span class="fr iblock space icn1 icn1-4 spx">&nbsp;</span>
      <div id="topbar_followArea" class="nbw-im fr"><span class="lbl bd ima followit fl ztag"><span class="fl addicon">&nbsp;</span><span class="fl">关注</span></span></div>
    </div>
  </div>
</div>

<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
    <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="http://zhedahht.blog.163.com/blog/static/25411174200732494452636/" target="_top"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="http://zhedahht.blog.163.com/blog/static/25411174200732494452636/" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="http://zhedahht.blog.163.com/blog/static/25411174200732494452636/" hidefocus="true">关闭</a>
  </div>
 </div>
    <div id="$_faxiantip" class="faxiantip phide">
      <div>
	    <a class="m2a iblock" href="http://blog.163.com/public/explore/?fromblogbanner" target="_top"></a>
	    <span class="faxiantag m2a"></span>
      </div>
    </div>
    <div id="$_guanggaotip" class="guanggaotip phide">
      <div>
	    
	    <span class="guanggaotag m2a"></span>
      </div>
    </div>
    <div id="$_lofterInviteTip" class="lofterInviteTip phide">
      <div>
	    <a class="m2a iblock" href="http://www.lofter.com/invite/163blog/?email=" target="_top"></a>
	    <span class="lofterInviteTag m2a"></span>
      </div>
    </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">微软、Google等面试题</span></h1>
      <p class="d c"><span class="ztag pre">剑指Offer：名企面试官精讲典型编程题</span></p>
    </div>
    <div class="f h ztag">&nbsp;</div>
    <a class="x" hidefocus="true" target="_top" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
      <div class="c wc h clearfix " id="blog-163-com-container">
  <div class="nb-mdl lcr m-3 " id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc mdl_t_t">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc">
<div class="nbw-ryt ztag clearfix js-fix-098">
  <div class="right bdwl bds0 bdc0"><div class="cnt ztag"></div></div>
  <div class="left">
     <div class="lcnt bdwr bds0 bdc0 ">   
      <div id="$_divTopLink" class="top fc03 bdwb bdc0 bds2 clearfix">
        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732102055385/">程序员面试题精选100题(24)－栈的push、pop序列[数据结构]</a></div>
        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732711051101/">程序员面试题精选100题(26)-和为n连续正数序列[算法]</a></div>
     </div> 
     <div class="mcnt ztag"> 
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      <div class="multicnt">
	      	<div>
		      <h3 class="title pre fs1"><span class="tcnt">程序员面试题精选100题(25)-在从1到n的正数中1出现的次数[算法]</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3>
		      <p class="tdep clearfix nbw-act fc06" style="line-height: 20px;">
		        <span class="pleft">
		          
		          <span class="blogsep">2007-04-24 10:40:52</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>
		          <a class="fc03 m2a" href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_087071093087082069093081094095086083085066085087081071" title="数字游戏">数字游戏</a>
		          <span class="blogsep" id="$_blogTagTitle">|&nbsp;&nbsp;标签：</span><span class="fc03" id="$_blogTagInfo"><a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%BC%96%E7%A8%8B" class="fc03 m2a">编程</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E5%B0%B1%E4%B8%9A" class="fc03 m2a">就业</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E6%89%BE%E5%B7%A5%E4%BD%9C" class="fc03 m2a">找工作</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%AE%97%E6%B3%95" class="fc03 m2a">算法</a>&nbsp;&nbsp;</span>
		        </span>
		        <span class="pright fc07 ztag"><span class="blogsep">|</span><span class="zihao fc03" id="$_fontswitch">字号<span class="zihaoshow  phide" id="$_fontsTypes"><span class="zihaoc bdc0"><span class="stag"></span><span class="fc04 stag">大</span><span class="fc04 stag selected js-fcurrent fc05">中</span><span class="fc04 stag">小</span></span></span></span></span><span class="pright pnt fc03" id="$_blog_subscribe"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span>
		      </p>
		    </div>
	      </div>
        </div>
        
        <div>
        
        </div>
        
        <div class="nbw-blog-start"></div>
        <div class="bct fc05 fc11 nbw-blog ztag js-fs2"><p><span style="font-family: SimSun;">题目：输入一个整数</span>n<span style="font-family: SimSun;">，求从</span>1<span style="font-family: SimSun;">到</span>n<span style="font-family: SimSun;">这</span>n<span style="font-family: SimSun;">个整数的十进制表示中</span>1<span style="font-family: SimSun;">出现的次数。</span></p> <p><span style="font-family: SimSun;">例如输入</span>12<span style="font-family: SimSun;">，从</span>1<span style="font-family: SimSun;">到</span>12<span style="font-family: SimSun;">这些整数中包含</span>1 <span style="font-family: SimSun;">的数字有</span>1<span style="font-family: SimSun;">，</span>10<span style="font-family: SimSun;">，</span>11<span style="font-family: SimSun;">和</span>12<span style="font-family: SimSun;">，</span>1<span style="font-family: SimSun;">一共出现了</span>5<span style="font-family: SimSun;">次。</span></p> <p><span style="font-family: SimSun;">分析：这是一道广为流传的</span>google<span style="font-family: SimSun;">面试题。用最直观的方法求解并不是很难，但遗憾的是效率不是很高；而要得出一个效率较高的算法，需要比较强的分析能力，并不是件很容易的事情。当然，</span>google<span style="font-family: SimSun;">的面试题中简单的也没有几道。</span></p> <p><span style="font-family: SimSun;">首先我们来看最直观的方法，分别求得</span>1<span style="font-family: SimSun;">到</span>n<span style="font-family: SimSun;">中每个整数中</span>1<span style="font-family: SimSun;">出现的次数。而求一个整数的十进制表示中</span>1<span style="font-family: SimSun;">出现的次数，就和</span><a href="http://zhedahht.blog.163.com/blog/static/2541117420073118945734/"><span style="font-family: SimSun;">本面试题系列的第</span>22<span style="font-family: SimSun;">题</span></a><span style="font-family: SimSun;">很相像了。我们每次判断整数的个位数字是不是</span>1<span style="font-family: SimSun;">。如果这个数字大于</span>10<span style="font-family: SimSun;">，除以</span>10<span style="font-family: SimSun;">之后再判断个位数字是不是</span>1<span style="font-family: SimSun;">。基于这个思路，不难写出如下的代码：</span></p> <p><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> n);<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find the number of 1 in the integers between 1 and n<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: n - an integer<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Output: the number of 1 in the integers between 1 and n<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1BeforeBetween1AndN_Solution1(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> number = 0;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// Find the number of 1 in each integer between 1 and n<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> i = 1; i &lt;= n; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>number += NumberOf1(i);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> number;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find the number of 1 in an integer with radix 10<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: n - an integer<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Output: the number of 1 in n with radix<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> number = 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">while</span>(n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(n % 10 == 1)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>number ++;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>n = n / 10;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> number;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p> <p><span style="font-family: SimSun;">这个思路有一个非常明显的缺点就是每个数字都要计算</span>1<span style="font-family: SimSun;">在该数字中出现的次数，因此时间复杂度是</span>O(n)<span style="font-family: SimSun;">。当输入的</span>n<span style="font-family: SimSun;">非常大的时候，需要大量的计算，运算效率很低。我们试着找出一些规律，来避免不必要的计算。</span></p> <p><span style="font-family: SimSun;">我们用一个稍微大一点的数字</span>21345<span style="font-family: SimSun;">作为例子来分析。我们把从</span>1<span style="font-family: SimSun;">到</span>21345<span style="font-family: SimSun;">的所有数字分成两段，即</span>1-1235<span style="font-family: SimSun;">和</span>1346-21345<span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">先来看</span>1346-21345<span style="font-family: SimSun;">中</span>1<span style="font-family: SimSun;">出现的次数。</span>1<span style="font-family: SimSun;">的出现分为两种情况：一种情况是</span>1<span style="font-family: SimSun;">出现在最高位（万位）。从</span>1<span style="font-family: SimSun;">到</span>21345<span style="font-family: SimSun;">的数字中，</span>1<span style="font-family: SimSun;">出现在</span>10000-19999<span style="font-family: SimSun;">这</span>10000<span style="font-family: SimSun;">个数字的万位中，一共出现了</span>10000<span style="font-family: SimSun;">（</span>10<sup>4</sup><span style="font-family: SimSun;">）次；另外一种情况是</span>1<span style="font-family: SimSun;">出现在除了最高位之外的其他位中。例子中</span>1346-21345<span style="font-family: SimSun;">，这</span>20000<span style="font-family: SimSun;">个数字中后面四位中</span>1<span style="font-family: SimSun;">出现的次数是</span>2000<span style="font-family: SimSun;">次（</span>2*10<sup>3</sup><span style="font-family: SimSun;">，其中</span>2<span style="font-family: SimSun;">的第一位的数值，</span>10<sup>3</sup><span style="font-family: SimSun;">是因为数字的后四位数字其中一位为</span>1<span style="font-family: SimSun;">，其余的三位数字可以在</span>0<span style="font-family: SimSun;">到</span>9<span style="font-family: SimSun;">这</span>10<span style="font-family: SimSun;">个数字任意选择，由排列组合可以得出总次数是</span>2*10<sup>3</sup><span style="font-family: SimSun;">）。</span></p> <p><span style="font-family: SimSun;">至于从</span>1<span style="font-family: SimSun;">到</span>1345<span style="font-family: SimSun;">的所有数字中</span>1<span style="font-family: SimSun;">出现的次数，我们就可以用递归地求得了。这也是我们为什么要把</span>1-21345<span style="font-family: SimSun;">分为</span>1-1235<span style="font-family: SimSun;">和</span>1346-21345<span style="font-family: SimSun;">两段的原因。因为把</span>21345<span style="font-family: SimSun;">的最高位去掉就得到</span>1345<span style="font-family: SimSun;">，便于我们采用递归的思路。</span></p> <p><span style="font-family: SimSun;">分析到这里还有一种特殊情况需要注意：前面我们举例子是最高位是一个比</span>1<span style="font-family: SimSun;">大的数字，此时最高位</span>1<span style="font-family: SimSun;">出现的次数</span>10<sup>4</sup><span style="font-family: SimSun;">（对五位数而言）。但如果最高位是</span>1<span style="font-family: SimSun;">呢？比如输入</span>12345<span style="font-family: SimSun;">，从</span>10000<span style="font-family: SimSun;">到</span>12345<span style="font-family: SimSun;">这些数字中，</span>1<span style="font-family: SimSun;">在万位出现的次数就不是</span>10<sup>4</sup><span style="font-family: SimSun;">次，而是</span>2346<span style="font-family: SimSun;">次了，也就是除去最高位数字之后剩下的数字再加上</span>1<span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">基于前面的分析，我们可以写出以下的代码。在参考代码中，为了编程方便，我把数字转换成字符串了。</span></p> <p><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">#include</span><span style="font-family: 'Courier New'; font-size: 10pt;"> <span style="color: maroon;">"string.h"<br></span></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">#include</span><span style="font-family: 'Courier New'; font-size: 10pt;"> <span style="color: maroon;">"stdlib.h"<br></span></span><span style="font-family: 'Courier New'; color: maroon; font-size: 10pt;"><br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1(<span style="color: blue;">const</span> <span style="color: blue;">char</span>* strN);<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> PowerBase10(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> n);<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find the number of 1 in an integer with radix 10<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: n - an integer<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Output: the number of 1 in n with radix<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1BeforeBetween1AndN_Solution2(<span style="color: blue;">int</span> n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(n &lt;= 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// convert the integer into a string<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">char</span> strN[50];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sprintf(strN, <span style="color: maroon;">"%d"</span>, n);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> NumberOf1(strN);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p> <p><span style="font-family: 'Courier New'; background: none repeat scroll 0% 0% silver; font-size: 10pt;"></span></p> <p><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find the number of 1 in an integer with radix 10<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: strN - a string, which represents an integer<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Output: the number of 1 in n with radix<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> NumberOf1(<span style="color: blue;">const</span> <span style="color: blue;">char</span>* strN)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(!strN || *strN &lt; <span style="color: maroon;">'0'</span> || *strN &gt; <span style="color: maroon;">'9'</span> || *strN == <span style="color: maroon;">'\0'</span>)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> firstDigit = *strN - <span style="color: maroon;">'0'</span>;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> length = <span style="color: blue;">static_cast</span>&lt;<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span>&gt;(strlen(strN));<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// the integer contains only one digit<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(length == 1 &amp;&amp; firstDigit == 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(length == 1 &amp;&amp; firstDigit &gt; 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 1;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// suppose the integer is 21345<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// numFirstDigit is the number of 1 of 10000-19999 due to the first digit<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> numFirstDigit = 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// numOtherDigits is the number of 1 01346-21345 due to all digits<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// except the first one<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> numOtherDigits = firstDigit * (length - 1) * PowerBase10(length - 2);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// numRecursive is the number of 1 of integer 1345<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> numRecursive = NumberOf1(strN + 1);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if the first digit is greater than 1, suppose in integer 21345<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// number of 1 due to the first digit is 10^4. It's 10000-19999<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(firstDigit &gt; 1)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>numFirstDigit = PowerBase10(length - 1);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if the first digit equals to 1, suppose in integer 12345<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// number of 1 due to the first digit is 2346. It's 10000-12345<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else</span> <span style="color: blue;">if</span>(firstDigit == 1)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>numFirstDigit = atoi(strN + 1) + 1;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> numFirstDigit + numOtherDigits + numRecursive;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Calculate 10^n<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> PowerBase10(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> n)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> result = 1;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> i = 0; i &lt; n; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result *= 10;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> result;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p><span style="font-family: 'Courier New'; font-size: 10pt;"> <p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: SimSun;"></span></p><p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><font size="3"><span style="font-family: 宋体;" lang="ZH-CN">本文已经收录到《</span><span style="font-family: 'Calibri','sans-serif';"><a target="_top" href="http://zhedahht.blog.163.com/blog/static/254111742011101624433132/"><font color="#0000ff"><span style="font-family: 宋体;" lang="ZH-CN">剑指</span>Offer<span style="font-family: 宋体;" lang="ZH-CN">——名企面试官精讲典型编程题</span></font></a></span><span style="font-family: 宋体;" lang="ZH-CN">》一书中，有改动，书中的分析讲解更加详细。欢迎关注。</span></font></p></span><p></p><p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">博主何海涛对本博客文章享有版权。网络转载请注明出处</font></span><a href="http://zhedahht.blog.163.com/"><font color="#990000" face="Calibri" size="3">http://zhedahht.blog.163.com/</font></a><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">。整理出版物请和作者联系。</font></span></p></div>
        <div class="nbw-blog-end"></div>

        <div>
		</div>
		
        <div>
		</div>
		
		<div>
      	  <div>
		  	<div class="wumii-hook"></div>
		  </div>
		</div>
		
        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="iblock bcmimg">&nbsp;</span>
            <span class="nbc-0 nbc-0-40 ptcmt ptcmt-2">评论这张</span>
          </span>
        </div>
		<div class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        <div style="left: 68px; top: 2529px;" class="ptc ztag phide">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        
        
        <div class="nbw-act tbar fc03 clearfix">
         <div style="height: 24px; line-height: 24px;">
          <div class="pleft rdif">
	          <span class="pnt pleft" id="$_spanRecommend"><img class="pclass" src="tuijian.png"></span>
	        <span id="$_spanShowRecommend" class="pleft rdct  phide">
	          <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	        </span>
	         <span class="fc07 pleft nas-tofix">分享到：</span><span class="nas-wrap pleft"><span id="$_shareBtn_163weibo" title="分享到网易微博" class="nas-itm nas-itm0">&nbsp;</span><span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="nas-itm nas-itm6">&nbsp;</span><span id="$_shareBtn_qqweibo" title="分享到腾讯微博" class="nas-itm nas-itm9">&nbsp;</span><span class="nas-itm nas-itm7" title="分享到MSN" id="$_shareBtn_msn">&nbsp;</span><span class="nas-itm nas-itm3" title="分享到QQ空间" id="$_shareBtn_qq">&nbsp;</span><span class="nas-itm nas-itm1" title="分享到人人网" id="$_shareBtn_renren">&nbsp;</span><span class="nas-itm nas-itm2" title="分享到开心网" id="$_shareBtn_kaixin">&nbsp;</span><span class="nas-itm nas-itm4" title="分享到豆瓣" id="$_shareBtn_douban">&nbsp;</span><span class="nas-itm nas-itm8" title="分享到梦幻人生" id="$_shareBtn_dream">&nbsp;</span></span>
          </div>
          <div class="pright">
              <span class="fc07">阅读(<span id="$_spaniReadCount">11832</span>)</span><span class="sep fc07">|</span>
              <span class="fc07">评论(<span id="$_spaniCommentCount">31</span>)</span><span class="sep fc07">|</span>
              <span class="m2a" id="$_spanCite">引用</span> <span class="m2a" id="$_spanCiteCount">(2)</span>
              <span class="sep fc07">|</span><span id="$_spanReport" class="m2a">举报</span>
          </div>
         </div>
        </div>
      </div>
      <div class="snl">
        <div class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="yodaoad" class="bdwb bds2 bdc0" style="display: none;">&nbsp;</div>
        <div id="$_divTopLink" class="top fc03 clearfix">
	        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
	        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732102055385/">程序员面试题精选100题(24)－栈的push、pop序列[数据结构]</a></div>
	        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
	        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200732711051101/">程序员面试题精选100题(26)-和为n连续正数序列[算法]</a></div>
	     </div> 
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">相关文章</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="author">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"><div class="pleft nlogif clearfix"> <div class="pleft nbw-f50 nbw-fce"><img class="cwd pnt" onerror="this.src=location.f60" src="face60.png"></div> <div class="m2a pright fc03"><span class="ul">登录</span>后，您可以在此留下足迹。</div> </div>        <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/zm121987/">            <img alt="zm121987" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/zm121987/">          zm121987        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">            <img alt="wwbszd" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_001.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">          wwbszd        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/scyehan/">            <img alt="scyehan" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_002.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/scyehan/">          scyehan        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/fu1985zong/">            <img alt="stubborn" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_003.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/fu1985zong/">          stubborn        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/goddess111@126/">            <img alt="goddess111@126" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_004.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/goddess111@126/">          goddess1        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/majinfei123456/">            <img alt="游戏人生" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_005.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/majinfei123456/">          游戏人生        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/diichen/">            <img alt="diichen" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_006.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/diichen/">          diichen        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/ccking69/">            <img alt="ccking69" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_007.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/ccking69/">          ccking69        </a>      </div>    </div>        </div>
	    </div>
	    <div class="phide" id="yodaoad_1" style=""></div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"><div>    <div class="publish ztag"><div class="nbw-cdt edt-cmt"><div class="nbw-act tp"> <span class="m2a fc03 ztag">点击登录</span><span class="sep">|</span><span class="fc05">昵称：</span><input value="" maxlength="18" class="znick bdwa bds0 bdc0 ztag" type="text"> </div> <div class="edt ztag"><div class="ui-6968587141"><div class="zcnt ztag zbrd bdc0"><iframe src="index_1.html" frameborder="0"></iframe></div> <div class="zbtn"> <span class="zfce zbgp ztag space">&nbsp;</span> <input class="zbok zhnd ztag nbtn fc09 bdc1 bgc2" value="发表" type="button"> <span class="zbcc zhnd ztag fc04">取消</span> <div class="zvcd ztag" style="display: none;"> <label>验证码：</label><input value="" class="zbrd xtag bdc0" maxlength="4" type="text"><img src="empty.png" class="xtag" title="点击刷新验证码"><span class="xtag fc04">换一张</span> </div> </div> <div class="zmsg fc07" style="display: none;"><span class="zicn zbgp iblock">&nbsp;</span><span class="ztag"></span></div></div></div> <div style="display: none;" class="hnt thide ztag"></div></div></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style=""></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://yangtclive.blog.163.com/" target="_top" hidefocus="true"><img src="ava_008.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-23 01:08</span><div class="tx atag"><a title="yangtclive" class="fc03 noul" target="_top" href="http://yangtclive.blog.163.com/"><span class="m2a">yangtclive</span></a></div></div> <div class="cnt pre atag"><p>这里不对吧：</p><p>“例子中1346-21345，这20000个数字中后面四位中1出现的次数是2000次（2*103，其中2的第一位的数值，103是因为数字的后四位数字其中一位为1，其余的三位数字可以在0到9这10个数字任意选择，由排列组合可以得出总次数是2*103）。”</p><p>应该是 4*1000 *2 &nbsp;= 8000</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_009.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-23 10:44</span><div class="tx atag"><a class="fc03 noul" title="何海涛" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">何海涛</span></a><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="yangtclive" target="_top" href="http://yangtclive.blog.163.com/"><span class="m2a">yangtclive</span></a></div></div> <div class="cnt pre atag">你在仔细推导一下，呵呵</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">02-03 10:28</span><div class="tx atag"><span class="fc07">test</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="何海涛" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">何海涛</span></a></div></div> <div class="cnt pre atag">用了您的程序算了一下，确实是8000次<br><br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://blog.163.com/dabin20082008@126/" target="_top" hidefocus="true"><img src="ava_010.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">02-28 22:54</span><div class="tx atag"><a class="fc03 noul" title="dabin20082008@126" target="_top" href="http://blog.163.com/dabin20082008@126/"><span class="m2a">dabin20082008@126</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">test</span></div></div> <div class="cnt pre atag">20000个数里面的1确实是8000个，不包括万位上的。<br><br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://jiangsfls.blog.163.com/" target="_top" hidefocus="true"><img src="ava_011.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-12 11:29</span><div class="tx atag"><a title="Van_Nity" class="fc03 noul" target="_top" href="http://jiangsfls.blog.163.com/"><span class="m2a">Van_Nity</span></a></div></div> <div class="cnt pre atag">我是按照各位做统计的，某位左侧代表这个循环体出现了几次，右侧代表这个体中1出现了多少遍，如:<div>30143:</div><div>由于3&gt;1,则个位上出现1的次数为(3014+1)*1</div><div>由于4&gt;1,则十位上出现1的次数为(301+1)*10</div><div>由于1=1，则百位上出现1次数为(30+0)*100+(43+1)</div><div>由于0&lt;1，则千位上出现1次数为(3+0)*1000</div><div><br></div><div>注:以百位为例，百位出现1为100~199，*100的意思为单步出现了100~199，100次，*30是因为出现了30次100~199,+(43+1)是因为左后一次301**不完整导致。</div><div><br></div><div>这样做的数学思路很清楚但是编程并不方便，因为需要知道某一位的数有得知道他前后的数值(每次把一个数差分成三段不方便递归实现和判定终止)<span class="Apple-style-span" style="">livelylittlefish网友</span>提供的方法，就是把规律查分到按大小集合，确实方便编程</div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">01-30 10:13</span><div class="tx atag"><span title="北京 " class="fc07">allen</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="Van_Nity" target="_top" href="http://jiangsfls.blog.163.com/"><span class="m2a">Van_Nity</span></a></div></div> <div class="cnt pre atag"><p>就这个好懂,</p>  <p>顶</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://binglian101.blog.163.com/" target="_top" hidefocus="true"><img src="ava_012.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-12-21 14:00</span><div class="tx atag"><a title="binglian101" class="fc03 noul" target="_top" href="http://binglian101.blog.163.com/"><span class="m2a">binglian101</span></a></div></div> <div class="cnt pre atag">看到这个算法，觉得很不错。突然想到了一个问题，给一个正整数N，求出0-N之间能被2or3or5or7等整数整除的问题，如果除数是M，如何解。时间复杂度要求小于O（n）。<div>int GetFactorCount(int N,int M);</div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://oyh791013.blog.163.com/" target="_top" hidefocus="true"><img src="ava_013.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-12-08 15:52</span><div class="tx atag"><a title="oyh791013" class="fc03 noul" target="_top" href="http://oyh791013.blog.163.com/"><span class="m2a">oyh791013</span></a></div></div> <div class="cnt pre atag"><p>偶然路过，我也觉的这段有点问题&nbsp; </p>  <p>“<span style="">先来看</span>1346-21345<span style="">中</span>1<span style="">出现的次数。</span>1<span style="">的出现分为两种情况：一种情况是</span>1<span style="">出现在最高位（万位）。从</span>1<span style="">到</span>21345<span style="">的数字中，</span>1<span style="">出现在</span>10000-19999<span style="">这</span>10000<span style="">个数字的万位中，一共出现了</span>10000<span style="">（</span>104<span style="">）次；另外一种情况是</span>1<span style="">出现在除了最高位之外的其他位中。例子中</span>1346-21345<span style="">，这</span>20000<span style="">个数字中后面四位中</span>1<span style="">出现的次数是</span>2000<span style="">次（</span>2*103<span style="">，其中</span>2<span style="">的第一位的数值，</span>103<span style="">是因为数字的后四位数字其中一位为</span>1<span style="">，其余的三位数字可以在</span>0<span style="">到</span>9<span style="">这</span>10<span style="">个数字任意选择，由排列组合可以得出总次数是</span>2*103<span style="">）。</span>”</p>  <p>&nbsp;</p>  <p>举个例子，就比如245，那么类似的，这里应该考虑的是46-245区间。 首先，1出现在最高位，应该是100<span style="">次，这个没问题。 2： 1出现在最高位外的其他位，按你的结论，应该是20次。。但是实际上应该有100以内的：51，61，71，81，91（5个）. 然后考虑百位的数，1在个位，应该有1*1，* =0，1。。。。9（10个），还有1在十位，11*， * = 0，1。。。。9（10个），最后还有21*（10个） + 201，211，221，231，241（5个）&nbsp; 最后一共40个。。。</span></p>  <p><span style="">区别在于，111这样的数字，其实是统计过三次的，第一次是按百位为1计数，第二次十位为1计数，第三次个位为一计数，而这其实正是题目要求的。</span></p>  <p><span style=""></span>&nbsp;</p>  <p><span style="">所以，对于m位的，最高位数字为g的，这里结论应该是g*（m-1)*10^(m-2)，而不应该是g*10^(m-2)</span></p>  <p><span style=""></span>&nbsp;</p>  <p><span style=""></span>&nbsp;</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-24 16:23</span><div class="tx atag"><span class="fc07">网易博友145</span></div></div> <div class="cnt pre atag">我觉得可以一位一位考虑，对于10^b位：<br>1)此位大于1，这一位上1的个数有&nbsp;([n&nbsp;/&nbsp;10^(b+1)&nbsp;]&nbsp;+&nbsp;1)&nbsp;*&nbsp;10^b<br>2)此位等于0，为&nbsp;([n&nbsp;/&nbsp;10^(b+1)&nbsp;]&nbsp;)&nbsp;*&nbsp;10^b<br>3)此位等于1，在0的基础上加上n&nbsp;mod&nbsp;10^b&nbsp;+&nbsp;1<br><br>int&nbsp;num_of_1(int&nbsp;n)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*it&nbsp;should&nbsp;cover&nbsp;all&nbsp;powers&nbsp;of&nbsp;10&nbsp;within&nbsp;int&nbsp;range*/<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;pows[]&nbsp;=&nbsp;{1,&nbsp;10,&nbsp;100,&nbsp;1000,&nbsp;10000,&nbsp;100000,&nbsp;1000000,&nbsp;10000000,&nbsp;100000000,&nbsp;100000000};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;b&nbsp;=&nbsp;0,&nbsp;count&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(n&nbsp;&gt;=&nbsp;pows[b]){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(&nbsp;(n&nbsp;%&nbsp;pows[b+1])&nbsp;/&nbsp;pows[b]){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;(n&nbsp;/&nbsp;pows[b&nbsp;+&nbsp;1])&nbsp;*&nbsp;pows[b];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;(n&nbsp;/&nbsp;pows[b&nbsp;+&nbsp;1])&nbsp;*&nbsp;pows[b];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;n&nbsp;%&nbsp;pows[b]&nbsp;+&nbsp;1;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;(n&nbsp;/&nbsp;pows[b&nbsp;+&nbsp;1]&nbsp;+&nbsp;1)&nbsp;*&nbsp;pows[b];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;count;<br>}<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-09-24 21:26</span><div class="tx atag"><span title="上海 " class="fc07">guest</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="上海 " class="fc07">网易博友145</span></div></div> <div class="cnt pre atag"><p>我试了下，结果虽然正确，但描述实在让我不易理解，我换种描述：</p>
<p>我们按位来考虑，对于第b位：</p>
<p>1）如果是1, 这一位上1的个数是截下低于此位的数字加1</p>
<p>2）如果是0, 什么都不做</p>
<p>3）如果大于1，这一位上1的个数是pows[b];</p>
<p>4）但我们统计的是所有小于n的数，不光是有b位的数，意思是：在处理百位数时，我们不光统计百位是1的个数，我们还要考虑没有百位的数（只有个位或只有个位和十位），所以要加上n/pows[b+1]*pows[b].</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-08 15:43</span><div class="tx atag"><span class="fc07">dutzzds</span><span class="fc07">&nbsp;回复&nbsp;</span><span class="fc07">网易博友145</span></div></div> <div class="cnt pre atag">对于每一位的三种情况总结的很好，下面<span class="fc07">yuxinwell的程序完美地诠释了你的思路。程序更简洁。</span></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://ranyangjun.blog.163.com/" target="_top" hidefocus="true"><img src="ava_014.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-07 12:40</span><div class="tx atag"><a class="fc03 noul" title="ranyangjun" target="_top" href="http://ranyangjun.blog.163.com/"><span class="m2a">ranyangjun</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="上海 " class="fc07">guest</span></div></div> <div class="cnt pre atag"><div>//在从1到n的正数中1出现的次数&nbsp;</div><div>&nbsp;//f(3217)=3*f(999)+f(217)+10^3</div><div><br></div><div>//f(999)=10*f(99)+10^2，可以推导出fk9N,10^2表示100到199多出来的百位出现1的次数（100次）</div><div><br></div><div>//fk9N(int k)表示从k个9,"999...999"到1出现1的次数为"k*10^(k-1)"此方，fk9N(k)=10*fk9N(k-1)+10^(k-1)</div><div><br></div><div>//假设n=a*10^k+b,a为n的最高位，当a=0, f(n)=f(b);当a=1时，f(n)=fk9N(k-1)+f(b)+b+1,其中b+1表示10^k到n之间k位出现1的次数</div><div><br></div><div>//到a&gt;1时，f(n)=a*fk9N(k-1)+f(b)+10^(k-1)，10^(k-1)表示10^k到10^k+99...999(k个9)之间k位1的数量</div><div>http://blog.csdn.net/ranyangjun/article/details/6588682</div><div><div><br></div></div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="江苏 南京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-20 08:57</span><div class="tx atag"><span title="江苏 南京" class="fc07">sure_chan</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">网易博友145</span></div></div> <div class="cnt pre atag">你的思路很清晰，佩服佩服！学习一下<br><br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-03-18 17:13</span><div class="tx atag"><span class="fc07">Zero</span></div></div> <div class="cnt pre atag">可以这样来理解，以13X56（X为百位数字）为例，来看百位数为1的所有数的和。<br>1. 当百位数为0时，即数为13056。高位数13可变化00~12，13个，低位数可以变化00~99，100个，故组合起来共有13x100=1300个数。<br>2. 当百位数为1时，即数为13156。高位数13可变化00~12，13个，当低位数可以变化00~99时；高位数为13时，低位数只能变化00~56，所以组合起来共有13X100+57=1357个数。<br>3. 当百位数为2~9的数时。高位数13可变化00~13，14个，低位数可在高位数变化14个数随意变化00~99，100个数，所以组合起来共有14x100=1400个数。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-01-28 09:18</span><div class="tx atag"><span class="fc07">fentoyal</span></div></div> <div class="cnt pre atag">您好，您的算法我相信是正确的，但是太难理解了。。我没看懂。。而且由于用递归的方法，相信复杂度应该改不会比之前那位的链接里的低。上面那位引的链接里的算法时间复杂度是O(b)b为n的位数，但推公式，我不认为能在有限的面试时间内做到。我这里介绍我的算法，时间复杂度也是O(b)，但思想较为简单，是我在40分钟内构思并完成code跑出正确结果的。思想就是数数<br>举个例子n = 123.<br>先说大框架：<br>先数123里有多少个10，n/10 = 12个。每个10里（只看个位）有一个1，所以个位共有12个1.<br>再数有多少个100，n/100 = 1； 每一个100里（只看十位）有10个1，所以十位共有10*1 =10个1.<br>再数有多少个1000，n/1000 = 0；每一个1000里（只看百位） 有100个1，所以百位共有100*0 = 0个1.<br>现在考虑特殊情况：比如<br>数个位时，如果余数（123%10 = 3）大于1，则我们应该多加一个1；<br>数十位时，如果余数（12%10 = 2）大于1，则我们应该多加一个10；<br>关于这10个1：因为100以下的十位为1的情况我们都考虑了，但100到120这之间，还没考虑，这里十位上还有10个1；<br>以此类推；<br>再考虑余数等于1的情况；比如<br>数百位时，如果余数（1）等于1，则我们应该再多数123-100+1 =24个1.<br>关于这24个1：我们之前认为123以内有0个1000，所以百位有0个1，这是general case，实际由于百位为1，从100到n（123）中的每个数，百位都为1<br>就是有123-100+1个1存在。<br>当然，如果百位&gt;1,我之前说到了就再加100个1.</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-01-28 09:20</span><div class="tx atag"><span class="fc07">fentoyal</span><span class="fc07">&nbsp;回复&nbsp;</span><span class="fc07">fentoyal</span></div></div> <div class="cnt pre atag">code 如下：<br>int cntFucking1s(int n)<br>{<br>&nbsp;&nbsp;&nbsp; int cur_n = n;<br>&nbsp;&nbsp;&nbsp; int mult = 1;<br>&nbsp;&nbsp;&nbsp; int sum = 0;<br>&nbsp;&nbsp;&nbsp; while (cur_n)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int r = cur_n%10;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int q = cur_n/10;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum += q*mult;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (r &gt; 1)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum+=mult;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else if (r == 1)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; sum+= n - cur_n*mult + 1;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cur_n/=10;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; mult*=10;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; return sum;<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 浦东新区" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-01-09 14:02</span><div class="tx atag"><span title="上海 浦东新区" class="fc07">livelylittlefish</span></div></div> <div class="cnt pre atag">这实际上是一个数学问题，发现规律后用公式即可计算出来，故其时间复杂度为0，即O(0)。可参考http://blog.csdn.net/livelylittlefish/archive/2008/08/05/2768348.aspx</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_009.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-01-10 09:55</span><div class="tx atag"><a class="fc03 noul" title="何海涛" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">何海涛</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span class="fc07">livelylittlefish</span></div></div> <div class="cnt pre atag">谢谢您提供的信息。我仔细学习一下。如果需要的计算是常数，那么其时间复杂度通常表示为O(1)。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://blog.163.com/allen2006cyb@126/" target="_top" hidefocus="true"><img src="ava_015.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-04-22 10:14</span><div class="tx atag"><a title="allen2006cyb@126" class="fc03 noul" target="_top" href="http://blog.163.com/allen2006cyb@126/"><span class="m2a">allen2006cyb@126</span></a></div></div> <div class="cnt pre atag"><p><span style=""><span style=""><span style="">// numOtherDigits is the number of 1 01346-21345 due to all digits<br></span><span style=""><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="">// except the first one<br></span></span><span style=""><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="">int</span> numOtherDigits = firstDigit * (length - 1) * PowerBase10(length - 2);</span></span></span></p><p><span style=""><span style=""><span style="">而楼主的例子中1346-21345的解释中，并没有乘(length-1)，个人感觉楼主代码笔误了，要是乘以(length-1)就会算重</span></span></span></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-08-17 00:07</span><div class="tx atag"><span title="北京 " class="fc07">yuxinwell</span></div></div> <div class="cnt pre atag">编程之美中的一道题
<br>int&nbsp;numberof1(int&nbsp;n)
<br>{
<br> int&nbsp;number&nbsp;=&nbsp;0;
<br> int&nbsp;base&nbsp;=&nbsp;1;
<br> while(1)
<br> {
<br>  int&nbsp;lowbits&nbsp;=&nbsp;n&nbsp;%&nbsp;base;
<br>  int&nbsp;curbits&nbsp;=&nbsp;n&nbsp;%&nbsp;(base*10)&nbsp;/&nbsp;base;
<br>  int&nbsp;highbits&nbsp;=&nbsp;n&nbsp;/&nbsp;(base*10);
<br>  if(curbits&nbsp;==&nbsp;0)
<br>  {
<br>   number&nbsp;+=&nbsp;highbits&nbsp;*&nbsp;base;
<br>  }
<br>  else&nbsp;if(curbits&nbsp;==&nbsp;1)
<br>  {
<br>   number&nbsp;+=&nbsp;highbits&nbsp;*&nbsp;base&nbsp;+&nbsp;lowbits&nbsp;+&nbsp;1;
<br>  }
<br>  else
<br>  {
<br>   number&nbsp;+=&nbsp;(highbits&nbsp;+&nbsp;1)&nbsp;*&nbsp;base;
<br>  }
<br>  base&nbsp;*=&nbsp;10;
<br>
<br>  if(highbits&nbsp;==&nbsp;0)
<br>   break;
<br> }
<br> return&nbsp;number;
<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-07-26 16:30</span><div class="tx atag"><span class="fc07">网易博友149</span></div></div> <div class="cnt pre atag">"&gt;ffff&lt;"</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-07-26 16:30</span><div class="tx atag"><span class="fc07">网易博友149</span></div></div> <div class="cnt pre atag">&lt;a&nbsp;href="javascript:alert('aaaa');"&gt;asdasd&lt;/a&gt;</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://aidy22.blog.163.com/" target="_top" hidefocus="true"><img src="ava_016.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-04-06 22:19</span><div class="tx atag"><a title="aidy22" class="fc03 noul" target="_top" href="http://aidy22.blog.163.com/"><span class="m2a">aidy22</span></a></div></div> <div class="cnt pre atag">网易博友145&nbsp;你实在是太牛了啊，呵呵</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-02-03 11:28</span><div class="tx atag"><span class="fc07">网易博友220</span></div></div> <div class="cnt pre atag">区间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;的个数<br>&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1<br>10&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;99&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19<br>100&nbsp;&nbsp;-&nbsp;999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100&nbsp;+&nbsp;9&nbsp;*&nbsp;(19&nbsp;+&nbsp;1)&nbsp;&nbsp;<br>设&nbsp;S(n)&nbsp;=&nbsp;10&nbsp;^&nbsp;n&nbsp;&nbsp;设,&nbsp;Fun(n)&nbsp;=&nbsp;从1到&nbsp;S(n)&nbsp;-1&nbsp;这些数中1的总个数,则<br>&nbsp;Fun(n)&nbsp;=&nbsp;10&nbsp;^n&nbsp;+&nbsp;10&nbsp;*(&nbsp;Fun(1)&nbsp;+&nbsp;Fun(2)&nbsp;+&nbsp;...&nbsp;+&nbsp;Fun(n-1))<br>&nbsp;有了上述公式,对于任意整数&nbsp;m,&nbsp;&nbsp;sum(m)&nbsp;&nbsp;=&nbsp;1到m之间1的总个数,<br>while&nbsp;(m&nbsp;&gt;&nbsp;9)<br>{<br>求出n使得&nbsp;m&nbsp;&gt;=&nbsp;S(n)&nbsp;&amp;&amp;&nbsp;m&nbsp;&lt;=&nbsp;S(n+1)&nbsp;-1&nbsp;<br>&nbsp;&nbsp;sum(m)&nbsp;+=&nbsp;Fun(n);<br>&nbsp;&nbsp;m&nbsp;-=&nbsp;S(n)<br>}<br>没细想,思路应该是可行的.&nbsp;<br>&nbsp;</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="香港 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2008-01-10 15:44</span><div class="tx atag"><span title="香港 " class="fc07">ryang</span></div></div> <div class="cnt pre atag">假设输入1562，可以把这个数分成几个区域，进行分别计数：1-1000；1001-1500；1501-1560；1561-1562；在1-1000中出现1的个数很容易推算出公式来，假设输入数据的数学表示为a[1..n];&nbsp;则[1,a[n]*10^(n-1)]（即1562中的1-1000)的个数为：if&nbsp;a[n]&gt;1&nbsp;then&nbsp;&nbsp;&nbsp;sum&nbsp;=&nbsp;10^(n-1)+a[n]*10^(n-2)*(n-1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;a[n]&nbsp;=&nbsp;1&nbsp;then&nbsp;sum&nbsp;=&nbsp;a[n]*10^(n-2)*(n-1)&nbsp;+1;&nbsp;然后再对[a[n]*10^(n-1)+1,a[n]*10^(n-1)+a[n-1]*10^(n-2)]进行计数，方法同前一个区间，最后的到所有区间的总和。我说的是一个大致的方法，最后得出的公式还没算出来：）&nbsp;&nbsp;</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="香港 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2008-01-10 15:21</span><div class="tx atag"><span title="香港 " class="fc07">ryang</span></div></div> <div class="cnt pre atag">这个题目根据排列组合的原理，应该可以总结出一个公式来计算的，时间复杂度应该在常数级</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="广东 深圳" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-06-20 20:09</span><div class="tx atag"><span title="广东 深圳" class="fc07">网易博友123</span></div></div> <div class="cnt pre atag">本来觉得还是有问题&nbsp;比如：21111&nbsp;1出现了4次！可是按程序好象就算一次&nbsp;不是吗？
<br>10000~19999&nbsp;1出现的次数是10000次吗？11111可是5次呀！！！</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-24 23:43</span><div class="tx atag"><span class="fc07">网易博友139</span></div></div> <div class="cnt pre atag">发现搏友145的思路很赞那，比我的清楚多了</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-24 23:22</span><div class="tx atag"><span class="fc07">网易博友139</span></div></div> <div class="cnt pre atag">应该用空格的，居然不支持\t</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-24 23:21</span><div class="tx atag"><span class="fc07">网易博友139</span></div></div> <div class="cnt pre atag">贴一下我的程序，依照博主的思路写的，消除了递归，函数参数也改成用int<br><br>#include&nbsp;&lt;stdio.h&gt;<br><br>int&nbsp;numberof12(long);<br><br>main()<br>{<br>	long&nbsp;n;<br>	while&nbsp;(scanf("%d",&nbsp;&amp;n)&nbsp;!=&nbsp;0)<br>	{<br>		printf("%d\n",&nbsp;numberof12(n));<br>	}<br>}<br><br>int&nbsp;numberof12(long&nbsp;n)<br>{<br>	int&nbsp;no1,&nbsp;remainer,&nbsp;divisor,&nbsp;decimal,&nbsp;log10;<br>	no1&nbsp;=&nbsp;log10&nbsp;=&nbsp;0;<br>	decimal&nbsp;=&nbsp;1;<br>	while&nbsp;(decimal&nbsp;&lt;=&nbsp;n)<br>	{<br>		decimal&nbsp;*=&nbsp;10;<br>		++log10;<br>	}<br>	remainer&nbsp;=&nbsp;n&nbsp;%&nbsp;decimal;<br>	do<br>	{<br>		decimal&nbsp;/=&nbsp;10;<br>		--log10;<br>		divisor&nbsp;=&nbsp;remainer&nbsp;/&nbsp;decimal;<br>		remainer&nbsp;=&nbsp;remainer&nbsp;-&nbsp;divisor&nbsp;*&nbsp;decimal;<br>		if&nbsp;(divisor&nbsp;==&nbsp;1)&nbsp;no1&nbsp;+=&nbsp;remainer&nbsp;+&nbsp;1&nbsp;+&nbsp;divisor&nbsp;*&nbsp;decimal&nbsp;/&nbsp;10&nbsp;*&nbsp;log10;<br>		else&nbsp;no1&nbsp;+=&nbsp;decimal&nbsp;+&nbsp;divisor&nbsp;*&nbsp;decimal&nbsp;/&nbsp;10&nbsp;*&nbsp;log10;<br>	}&nbsp;while&nbsp;(remainer&nbsp;&gt;&nbsp;0);<br><br>	return&nbsp;no1;<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-24 23:19</span><div class="tx atag"><span class="fc07">网易博友139</span></div></div> <div class="cnt pre atag">例子中1346-21345，这20000个数字中后面四位中1出现的次数是2000次（2*10^3，其中2的第一位的数值，103是因为数字的后四位数字其中一位为1，其余的三位数字可以在0到9这10个数字任意选择，由排列组合可以得出总次数是2*103）。<br><br>这里不应该是2000次，而应该是2&nbsp;*&nbsp;4&nbsp;*&nbsp;1000&nbsp;=&nbsp;8000次</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div></div>
      <div style="" class="clearfix"><div style="display: none;" class="ui-6946716096 noselect js-zfrg-6540"><span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">上一页</span> <span class="pgi zpg1 iblock fc03 bgc9 bdc0 js-zslt-987 fc05">1</span> <span class="frg fgp fc06">...</span> <span style="display: none;" class="pgi zpg2 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg3 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg4 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg5 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg6 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg7 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg8 iblock fc03 bgc9 bdc0">-1</span> <span class="frg fgn fc06">...</span> <span style="display: none;" class="pgi zpg9 iblock fc03 bgc9 bdc0">-1</span> <span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">下一页</span></div></div>
    </div>
  </div></div>
	    </div>
	    <div class="phide" id="yodaoad_3" style=""></div>
      </div>
      <div class="cite ztag fc03 phide"></div>
    </div>
   </div>
  </div>
</div>



</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>

</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/index_gb.html">公司简介</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://gb.corp.163.com/gb/contactus.html">联系方法</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/job/job.html">招聘信息</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://help.163.com/?b13abk1">客户服务</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/legal/legal.html">隐私政策</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/vip.do">VIP博客</a>
      
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://zhedahht.blog.163.com/rss/">
      <span class="p fc10">-</span><span class="fc08" id="$_foot_subscribe"><span class="iblock m2a icn0 icn0-919">&nbsp;</span><a class="m2a fc08">订阅此博客</a></span>
    </div>
    <p class="fc08">网易公司版权所有&nbsp;©1997-2012</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  

     <div style="position: absolute; top: 0pt; right: 0pt; z-index: 999; width: 1px; height: 1px; overflow: hidden;"> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ntsstorage" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" height="1" width="1"> <param name="movie" value="/common/storage.swf?t=1333069634527"> <param name="AllowScriptAccess" value="sameDomain"> <embed src="storage.swf" name="ntsstorage" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" height="1" width="1">  </object> </div><iframe src="index_2.html" id="api.blog.163.com" name="api.blog.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_3.html" id="photo.163.com" name="photo.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_4.html" id="ud.blog.163.com" name="ud.blog.163.com" style="display: none;" height="0" width="0"></iframe>
    
  
  

    


</body>
</html>
