<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh" xml:lang="zh" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=8">
    
    <meta http-equiv="content-style-type" content="text/css">
    <meta http-equiv="content-script-type" content="text/javascript">
    <meta name="version" content="neblog-1.0">
    
<title>程序员面试题精选100题(20)－最长公共子串[算法] - 何海涛的日志 - 网易博客</title>
<meta name="author" content="zhedahht,何海涛">
<meta name="keywords" content="程序员面试题精选100题(20)－最长公共子串[算法],日志,何海涛,微软、Google等面试题,网易博客,网易,blog">
<meta name="description" content="程序员面试题精选100题(20)－最长公共子串[算法],何海涛的网易博客,剑指Offer：名企面试官精讲典型编程题,海纳百川,涛声依旧,点石成金,成就未来">
  
    
    
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  
  
  
  
  
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="blog-163-com" class="nb-body nb-inr nb-prv">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->

<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id="" "="" class="nbw-im fl im im0">
    <a rel="nofollow" class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_top" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/">
            新闻
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/">
            微博
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/">
            邮箱
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/">
            相册
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/">
            阅读
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/">
            有道
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/">
            摄影
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://aipai.163.com?from=163blog">
            爱拍
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog">
            云笔记
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628">
            闪电邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://m.123.163.com/?frombkcp">
            手机邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/">
            印像派
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://dream.163.com/?from=bkcp">
            梦幻人生
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/">
            更多
          </a>
        
    </div>
  </div>
                               
    <span style="margin-left: 0pt;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    
  <div id="" "="" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_top" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome">
            手机博客
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome">
            博客搬家
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/vip.do?frompersonalbloghome">
            博客VIP服务
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome">
            LiveWriter写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome">
            word写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome">
            邮件写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome">
            短信写博
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/showMultiUser.do?frompersonalbloghome">
            群博客
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/">
            博客油菜地
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome">
            博客话题
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome">
            博客热点
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome">
            博客圈子
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome">
            找朋友
          </a>
        
    </div>
  </div>

    
    <div class="nbw-im fl im1 im explore"><a class="lbl bd ima spy" href="http://blog.163.com/public/explore/?frompersonalbloghome">发现</a></div>
    <div class="nbw-im fl im1 im bloggroup"><a class="lbl bd ima spy" href="http://blog.163.com/g/?frompersonalbloghome">小组</a></div>
    <div class="nbw-im fl im1 im customtheme"><a class="lbl bd ima spy" href="http://blog.163.com/public/theme/?frompersonalbloghome">风格</a></div>
    <div class="nbw-im fl im1 im seebyway"><a rel="nofollow" title="随便看看" class="lbl bd ima spy" href="http://blog.163.com/randomUser.do">&nbsp;</a></div>
    
    <span class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl">
      <div class="nbw-im fl im1 im randtag"><a style="width: 110px;" target="_top" class="lbl bd ima moveblog randshow" href="http://www.lofter.com/" onclick="window.open('http://www.lofter.com/reg?from=blog');return false;">网易轻博客LOFTER</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">
    <div id="topbar_loginAndReg" class="fr">
      <a rel="nofollow" style="margin-left: 10px; color: rgb(255, 119, 0);" class="iblock fr ima" href="http://reg.163.com/reg/reg.jsp?product=blog&amp;url=http://blog.163.com/ntesRegBlank.html&amp;loginurl=http://blog.163.com/" target="_top">创建博客</a>
      <a rel="nofollow" class="iblock fr ima ztag" href="#">登录</a>
      <span class="fr iblock space icn1 icn1-4 spx">&nbsp;</span>
      <div id="topbar_followArea" class="nbw-im fr"><span class="lbl bd ima followit fl ztag"><span class="fl addicon">&nbsp;</span><span class="fl">关注</span></span></div>
    </div>
  </div>
</div>

<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
    <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="http://zhedahht.blog.163.com/blog/static/254111742007376431815/" target="_top"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="http://zhedahht.blog.163.com/blog/static/254111742007376431815/" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="http://zhedahht.blog.163.com/blog/static/254111742007376431815/" hidefocus="true">关闭</a>
  </div>
 </div>
    <div id="$_faxiantip" class="faxiantip phide">
      <div>
	    <a class="m2a iblock" href="http://blog.163.com/public/explore/?fromblogbanner" target="_top"></a>
	    <span class="faxiantag m2a"></span>
      </div>
    </div>
    <div id="$_guanggaotip" class="guanggaotip phide">
      <div>
	    
	    <span class="guanggaotag m2a"></span>
      </div>
    </div>
    <div id="$_lofterInviteTip" class="lofterInviteTip phide">
      <div>
	    <a class="m2a iblock" href="http://www.lofter.com/invite/163blog/?email=" target="_top"></a>
	    <span class="lofterInviteTag m2a"></span>
      </div>
    </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">微软、Google等面试题</span></h1>
      <p class="d c"><span class="ztag pre">剑指Offer：名企面试官精讲典型编程题</span></p>
    </div>
    <div class="f h ztag">&nbsp;</div>
    <a class="x" hidefocus="true" target="_top" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
      <div class="c wc h clearfix " id="blog-163-com-container">
  <div class="nb-mdl lcr m-3 " id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc mdl_t_t">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc">
<div class="nbw-ryt ztag clearfix js-fix-098">
  <div class="right bdwl bds0 bdc0"><div class="cnt ztag"></div></div>
  <div class="left">
     <div class="lcnt bdwr bds0 bdc0 ">   
      <div id="$_divTopLink" class="top fc03 bdwb bdc0 bds2 clearfix">
        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/2541117420073471124487/">程序员面试题精选100题(19)－反转链表[数据结构]</a></div>
        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/2541117420073993725873/">程序员面试题精选100题(21)－左旋转字符串[算法]</a></div>
     </div> 
     <div class="mcnt ztag"> 
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      <div class="multicnt">
	      	<div>
		      <h3 class="title pre fs1"><span class="tcnt">程序员面试题精选100题(20)－最长公共子串[算法]</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3>
		      <p class="tdep clearfix nbw-act fc06" style="line-height: 20px;">
		        <span class="pleft">
		          
		          <span class="blogsep">2007-04-07 18:43:01</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>
		          <a class="fc03 m2a" href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_094071092082087074092074084070080087080066083082" title="动态规划">动态规划</a>
		          <span class="blogsep" id="$_blogTagTitle">|&nbsp;&nbsp;标签：</span><span class="fc03" id="$_blogTagInfo"><a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%BC%96%E7%A8%8B" class="fc03 m2a">编程</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E5%B0%B1%E4%B8%9A" class="fc03 m2a">就业</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E6%89%BE%E5%B7%A5%E4%BD%9C" class="fc03 m2a">找工作</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%AE%97%E6%B3%95" class="fc03 m2a">算法</a>&nbsp;&nbsp;</span>
		        </span>
		        <span class="pright fc07 ztag"><span class="blogsep">|</span><span class="zihao fc03" id="$_fontswitch">字号<span class="zihaoshow  phide" id="$_fontsTypes"><span class="zihaoc bdc0"><span class="stag"></span><span class="fc04 stag">大</span><span class="fc04 stag selected js-fcurrent fc05">中</span><span class="fc04 stag">小</span></span></span></span></span><span class="pright pnt fc03" id="$_blog_subscribe"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span>
		      </p>
		    </div>
	      </div>
        </div>
        
        <div>
        
        </div>
        
        <div class="nbw-blog-start"></div>
        <div class="bct fc05 fc11 nbw-blog ztag js-fs2"><span style="font-family: SimSun;">题目：如果字符串一的所有字符按其在字符串中的顺序出现在另外一个字符串二中，则字符串一称之为字符串二的子串。注意，并不要求子串（字符串一）的字符必须连续出现在字符串二中。请编写一个函数，输入两个字符串，求它们的最长公共子串，并打印出最长公共子串。</span>  <p><span style="font-family: SimSun;">例如：输入两个字符串</span>BDCABA<span style="font-family: SimSun;">和</span>ABCBDAB<span style="font-family: SimSun;">，字符串</span>BCBA和BDAB都是<span style="font-family: SimSun;">是它们的最长公共子串，则输出它们的长度4，并打印任意一个子串。</span></p> <p><span style="font-family: SimSun;">分析：求最长公共子串（</span>Longest Common Subsequence, LCS<span style="font-family: SimSun;">）是一道非常经典的动态规划题，因此一些重视算法的公司像</span>MicroStrategy<span style="font-family: SimSun;">都把它当作面试题。</span></p> <p><span style="font-family: SimSun;">完整介绍动态规划将需要很长的篇幅，因此我不打算在此全面讨论动态规划相关的概念，只集中对</span>LCS<span style="font-family: SimSun;">直接相关内容作讨论。如果对动态规划不是很熟悉，请参考相关算法书比如算法讨论。</span></p> <p><span style="font-family: SimSun;">先介绍</span>LCS<span style="font-family: SimSun;">问题的性质：记</span>X<sub>m</sub>={x<sub>0</sub>, x<sub>1</sub>,…x<sub>m-1</sub>}<span style="font-family: SimSun;">和</span>Y<sub>n</sub>={y<sub>0</sub>,y<sub>1</sub>,…,y<sub>n-1</sub>}<span style="font-family: SimSun;">为两个字符串，而</span>Z<sub>k</sub>={z<sub>0</sub>,z<sub>1</sub>,…z<sub>k-1</sub>}<span style="font-family: SimSun;">是它们的</span>LCS<span style="font-family: SimSun;">，则：</span></p> <p><span style=""><span style="">1.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">如果</span>x<sub>m-1</sub>=y<sub>n-1</sub><span style="font-family: SimSun;">，那么</span>z<sub>k-1</sub>=x<sub>m-1</sub>=y<sub>n-1</sub><span style="font-family: SimSun;">，并且</span>Z<sub>k-1</sub><span style="font-family: SimSun;">是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">；<br></span><span style=""><span style="">2.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">如果</span>x<sub>m-1</sub>≠y<sub>n-1</sub><span style="font-family: SimSun;">，那么当</span>z<sub>k-1</sub>≠x<sub>m-1</sub><span style="font-family: SimSun;">时</span>Z<span style="font-family: SimSun;">是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">；<br></span><span style=""><span style="">3.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">如果</span>x<sub>m-1</sub>≠y<sub>n-1</sub><span style="font-family: SimSun;">，那么当</span>z<sub>k-1</sub>≠y<sub>n-1</sub><span style="font-family: SimSun;">时</span>Z<span style="font-family: SimSun;">是</span>Y<sub>n-1</sub><span style="font-family: SimSun;">和</span>X<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">；</span></p> <p><span style="font-family: SimSun;">下面简单证明一下这些性质：</span></p> <p><span style=""><span style="">1.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">如果</span>z<sub>k-1</sub>≠x<sub>m-1</sub><span style="font-family: SimSun;">，那么我们可以把</span>x<sub>m-1</sub><span style="font-family: SimSun;">（</span>y<sub>n-1</sub><span style="font-family: SimSun;">）加到</span>Z<span style="font-family: SimSun;">中得到</span>Z’<span style="font-family: SimSun;">，这样就得到</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的一个长度为</span>k+1<span style="font-family: SimSun;">的公共子串</span>Z’<span style="font-family: SimSun;">。这就与长度为</span>k<span style="font-family: SimSun;">的</span>Z<span style="font-family: SimSun;">是</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">相矛盾了。因此一定有</span>z<sub>k-1</sub>=x<sub>m-1</sub>=y<sub>n-1</sub><span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">既然</span>z<sub>k-1</sub>=x<sub>m-1</sub>=y<sub>n-1</sub><span style="font-family: SimSun;">，那如果我们删除</span>z<sub>k-1</sub><span style="font-family: SimSun;">（</span>x<sub>m-1</sub><span style="font-family: SimSun;">、</span>y<sub>n-1</sub><span style="font-family: SimSun;">）得到的</span>Z<sub>k-1</sub><span style="font-family: SimSun;">，</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">，显然</span>Z<sub>k-1</sub><span style="font-family: SimSun;">是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">的一个公共子串，现在我们证明</span>Z<sub>k-1</sub><span style="font-family: SimSun;">是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">。用反证法不难证明。假设有</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">有一个长度超过</span>k-1<span style="font-family: SimSun;">的公共子串</span>W<span style="font-family: SimSun;">，那么我们把加到</span>W<span style="font-family: SimSun;">中得到</span>W’<span style="font-family: SimSun;">，那</span>W’<span style="font-family: SimSun;">就是</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的公共子串，并且长度超过</span>k<span style="font-family: SimSun;">，这就和已知条件相矛盾了。</span></p> <p><span style=""><span style="">2.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">还是用反证法证明。假设</span>Z<span style="font-family: SimSun;">不是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">，则存在一个长度超过</span>k<span style="font-family: SimSun;">的</span>W<span style="font-family: SimSun;">是</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">，那</span>W<span style="font-family: SimSun;">肯定也</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的公共子串，而已知条件中</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的公共子串的最大长度为</span>k<span style="font-family: SimSun;">。矛盾。</span></p> <p><span style=""><span style="">3.<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">证明同</span>2<span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">有了上面的性质，我们可以得出如下的思路：求两字符串</span>X<sub>m</sub>={x<sub>0</sub>, x<sub>1</sub>,…x<sub>m-1</sub>}<span style="font-family: SimSun;">和</span>Y<sub>n</sub>={y<sub>0</sub>,y<sub>1</sub>,…,y<sub>n-1</sub>}<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">，如果</span>x<sub>m-1</sub>=y<sub>n-1</sub><span style="font-family: SimSun;">，那么只需求得</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">，并在其后添加</span>x<sub>m-1</sub><span style="font-family: SimSun;">（</span>y<sub>n-1</sub><span style="font-family: SimSun;">）即可；如果</span>x<sub>m-1</sub>≠y<sub>n-1</sub><span style="font-family: SimSun;">，我们分别求得</span>X<sub>m-1</sub><span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">和</span>Y<sub>n-1</sub><span style="font-family: SimSun;">和</span>X<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">，并且这两个</span>LCS<span style="font-family: SimSun;">中较长的一个为</span>X<span style="font-family: SimSun;">和</span>Y<span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">。</span></p> <p><span style="font-family: SimSun;">如果我们记字符串</span>X<sub>i</sub><span style="font-family: SimSun;">和</span>Y<sub>j</sub><span style="font-family: SimSun;">的</span>LCS<span style="font-family: SimSun;">的长度为</span>c[i,j]<span style="font-family: SimSun;">，我们可以递归地求</span>c[i,j]<span style="font-family: SimSun;">：</span></p> <p><font face="Courier"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if i&lt;0 or j&lt;0<br>c[i,j]=<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c[i-1,j-1]+1<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if i,j&gt;=0 and x<sub>i</sub>=x</font><font face="Courier"><sub>j<br></sub><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>\<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>max(c[i,j-1],c[i-1,j]<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if i,j&gt;=0 and x<sub>i</sub>≠x<sub>j</sub></font></p> <p><span style="font-family: SimSun;">上面的公式用递归函数不难求得。但从前面<a target="_top" href="http://zhedahht.blog.163.com/blog/static/25411174200722991933440/">求Fibonacci第n项(本面试题系列第16题）</a></span><span style="font-family: SimSun;">的分析中我们知道直接递归会有很多重复计算，我们用从底向上循环求解的思路效率更高。</span></p> <p><span style="font-family: SimSun;">为了能够采用循环求解的思路，我们用一个矩阵（参考代码中的</span><span style="font-family: 'Courier New'; font-size: 10pt;">LCS_length</span><span style="font-family: SimSun;">）保存下来当前已经计算好了的</span>c[i,j]<span style="font-family: SimSun;">，当后面的计算需要这些数据时就可以直接从矩阵读取。另外，求取</span>c[i,j]<span style="font-family: SimSun;">可以从</span>c[i-1,j-1] <span style="font-family: SimSun;">、</span>c[i,j-1]<span style="font-family: SimSun;">或者</span>c[i-1,j]三个方向<span style="font-family: SimSun;">计算得到，相当于在矩阵</span><span style="font-family: 'Courier New'; font-size: 10pt;">LCS_length</span><span style="font-family: SimSun; font-size: 10pt;">中是从</span>c[i-1,j-1]<span style="font-family: SimSun;">，</span>c[i,j-1]<span style="font-family: SimSun;">或者</span>c[i-1,j]<span style="font-family: SimSun;">的某一个各自移动到</span>c[i,j]<span style="font-family: SimSun;">，因此在矩阵中有三种不同的移动方向：向左、向上和向左上方，其中只有向左上方移动时才表明找到</span>LCS<span style="font-family: SimSun;">中的一个字符</span><span style="font-family: SimSun; font-size: 10pt;">。于是</span><span style="font-family: SimSun;">我们需要用另外一个矩阵（参考代码中的</span><span style="font-family: 'Courier New'; font-size: 10pt;">LCS_direction</span><span style="font-family: SimSun;">）保存移动的方向。</span></p> <p><span style="font-family: SimSun;">参考代码如下：</span></p> <p><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">#include</span><span style="font-family: 'Courier New'; font-size: 10pt;"> <span style="color: maroon;">"string.h"<br><br></span></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// directions of LCS generation<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">enum</span><span style="font-family: 'Courier New'; font-size: 10pt;"> decreaseDir {kInit = 0, kLeft, kUp, kLeftUp};<br><br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Get the length of two strings' LCSs, and print one of the LCSs<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: pStr1<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the first string<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pStr2<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the second string<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Output: the length of two strings' LCSs<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">int</span><span style="font-family: 'Courier New'; font-size: 10pt;"> LCS(<span style="color: blue;">char</span>* pStr1, <span style="color: blue;">char</span>* pStr2)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(!pStr1 || !pStr2)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style=""><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t length1 = strlen(pStr1);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t length2 = strlen(pStr2);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(!length1 || !length2)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style=""><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t i, j;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style=""><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// initiate the length matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> **LCS_length;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length = (<span style="color: blue;">int</span>**)(<span style="color: blue;">new</span> <span style="color: blue;">int</span>[length1]);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(i = 0; i &lt; length1; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i] = (<span style="color: blue;">int</span>*)<span style="color: blue;">new</span> <span style="color: blue;">int</span>[length2];<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(i = 0; i &lt; length1; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(j = 0; j &lt; length2; ++ j)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = 0;</span></p> <p><span style="font-family: 'Courier New'; font-size: 10pt;">&nbsp;</span></p> <p><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// initiate the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> **LCS_direction;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction = (<span style="color: blue;">int</span>**)(<span style="color: blue;">new</span> <span style="color: blue;">int</span>[length1]);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>( i = 0; i &lt; length1; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i] = (<span style="color: blue;">int</span>*)<span style="color: blue;">new</span> <span style="color: blue;">int</span>[length2];<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(i = 0; i &lt; length1; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(j = 0; j &lt; length2; ++ j)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i][j] = kInit;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(i = 0; i &lt; length1; ++ i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(j = 0; j &lt; length2; ++ j)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(i == 0 || j == 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(pStr1[i] == pStr2[j])<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = 1;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i][j] = kLeftUp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// a char of LCS is found,&nbsp;<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// it comes from the left up entry in the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else</span> <span style="color: blue;">if</span>(pStr1[i] == pStr2[j])<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = LCS_length[i - 1][j - 1] + 1;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i][j] = kLeftUp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// it comes from the up entry in the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else</span> <span style="color: blue;">if</span>(LCS_length[i - 1][j] &gt; LCS_length[i][j - 1])<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = LCS_length[i - 1][j];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i][j] = kUp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// it comes from the left entry in the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_length[i][j] = LCS_length[i][j - 1];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_direction[i][j] = kLeft;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_Print(LCS_direction, pStr1, pStr2, length1 - 1, length2 - 1);<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> LCS_length[length1 - 1][length2 - 1];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p> <p><span style="font-family: 'Courier New'; font-size: 10pt;">&nbsp;</span></p> <p><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Print a LCS for two strings<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Input: LCS_direction - a 2d matrix which records the direction of <br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS generation<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pStr1<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the first string<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pStr2<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the second string<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>row<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the row index in the matrix LCS_direction<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">//<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>col<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>- the column index in the matrix LCS_direction<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">void</span><span style="font-family: 'Courier New'; font-size: 10pt;"> LCS_Print(<span style="color: blue;">int</span> **LCS_direction,&nbsp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp; </span><span style="color: blue;">char</span>* pStr1, <span style="color: blue;">char</span>* pStr2,&nbsp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp; </span>size_t row, size_t col)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(pStr1 == NULL || pStr2 == NULL)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span>;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t length1 = strlen(pStr1);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size_t length2 = strlen(pStr2);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style=""><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(length1 == 0 || length2 == 0 || !(row &lt; length1 &amp;&amp; col &lt; length2))<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span>;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// kLeftUp implies a char in the LCS is found<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(LCS_direction[row][col] == kLeftUp)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(row &gt; 0 &amp;&amp; col &gt; 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_Print(LCS_direction, pStr1, pStr2, row - 1, col - 1);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style=""><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// print the char<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf(<span style="color: maroon;">"%c"</span>, pStr1[row]);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else</span> <span style="color: blue;">if</span>(LCS_direction[row][col] == kLeft)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// move to the left entry in the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(col &gt; 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_Print(LCS_direction, pStr1, pStr2, row, col - 1);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">else</span> <span style="color: blue;">if</span>(LCS_direction[row][col] == kUp)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// move to the up entry in the direction matrix<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(row &gt; 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LCS_Print(LCS_direction, pStr1, pStr2, row - 1, col);<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span></p> <p><span style="font-family: SimSun;">扩展：如果题目改成求两个字符串的最长公共子字符串，应该怎么求？子字符串的定义和子串的定义类似，但要求是连续分布在其他字符串中。比如输入两个字符串</span>BDCABA<span style="font-family: SimSun;">和</span>ABCBDAB<span style="font-family: SimSun;">的最长公共字符串有</span>BD<span style="font-family: SimSun;">和</span>AB<span style="font-family: SimSun;">，它们的长度都是</span>2<span style="font-family: SimSun;">。</span></p> <p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">博主何海涛对本博客文章享有版权。网络转载请注明出处</font></span><a href="http://zhedahht.blog.163.com/"><font color="#990000" face="Calibri" size="3">http://zhedahht.blog.163.com/</font></a><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">。整理出版物请和作者联系。</font></span><font size="3"><span style="font-family: 宋体; color: black;" lang="ZH-CN">对解题思路有任何建议，欢迎在评论中告知，或者加我微博</span><span style="color: black;"><a rel="nofollow" href="http://t.sina.com.cn/zhedahht"><span style="">http://weibo.com/zhedahht</span></a></span><span style="font-family: 宋体; color: black;" lang="ZH-CN">或者</span><span style="color: black;"><a href="http://t.163.com/zhedahht"><span style=""><font color="#0000ff" face="Calibri">http://t.163.com/zhedahht</font></span></a></span><span style="font-family: 宋体; color: black;" lang="ZH-CN">与我讨论。谢谢。</span></font></p><div style="position: absolute; display: none; z-index: 9999;" id="livemargins_control"><img alt="程序员面试题精选100题(20)－最长公共子串 - 何海涛 - 微软、Google等面试题" src="chrome://livemargins/skin/monitor-background-horizontal.png" style="position: absolute; left: -77px; top: -5px;" height="5" width="77"> <img alt="程序员面试题精选100题(20)－最长公共子串 - 何海涛 - 微软、Google等面试题" src="chrome://livemargins/skin/monitor-background-vertical.png" style="position: absolute; left: 0pt; top: -5px;"> <img alt="程序员面试题精选100题(20)－最长公共子串 - 何海涛 - 微软、Google等面试题" id="monitor-play-button" src="chrome://livemargins/skin/monitor-play-button.png" style="position: absolute; left: 1px; top: 0pt; opacity: 0.5; cursor: pointer;"></div></div>
        <div class="nbw-blog-end"></div>

        <div>
		</div>
		
        <div>
		</div>
		
		<div>
      	  <div>
		  	<div class="wumii-hook"></div>
		  </div>
		</div>
		
        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="iblock bcmimg">&nbsp;</span>
            <span class="nbc-0 nbc-0-40 ptcmt ptcmt-2">评论这张</span>
          </span>
        </div>
		<div class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        <div style="left: 464px; top: 356px;" class="ptc ztag phide">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        
        
        <div class="nbw-act tbar fc03 clearfix">
         <div style="height: 24px; line-height: 24px;">
          <div class="pleft rdif">
	          <span class="pnt pleft" id="$_spanRecommend"><img class="pclass" src="tuijian.png"></span>
	        <span id="$_spanShowRecommend" class="pleft rdct  phide">
	          <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	        </span>
	         <span class="fc07 pleft nas-tofix">分享到：</span><span class="nas-wrap pleft"><span id="$_shareBtn_163weibo" title="分享到网易微博" class="nas-itm nas-itm0">&nbsp;</span><span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="nas-itm nas-itm6">&nbsp;</span><span id="$_shareBtn_qqweibo" title="分享到腾讯微博" class="nas-itm nas-itm9">&nbsp;</span><span class="nas-itm nas-itm7" title="分享到MSN" id="$_shareBtn_msn">&nbsp;</span><span class="nas-itm nas-itm3" title="分享到QQ空间" id="$_shareBtn_qq">&nbsp;</span><span class="nas-itm nas-itm1" title="分享到人人网" id="$_shareBtn_renren">&nbsp;</span><span class="nas-itm nas-itm2" title="分享到开心网" id="$_shareBtn_kaixin">&nbsp;</span><span class="nas-itm nas-itm4" title="分享到豆瓣" id="$_shareBtn_douban">&nbsp;</span><span class="nas-itm nas-itm8" title="分享到梦幻人生" id="$_shareBtn_dream">&nbsp;</span></span>
          </div>
          <div class="pright">
              <span class="fc07">阅读(<span id="$_spaniReadCount">13058</span>)</span><span class="sep fc07">|</span>
              <span class="fc07">评论(<span id="$_spaniCommentCount">27</span>)</span><span class="sep fc07">|</span>
              <span class="m2a" id="$_spanCite">引用</span> <span class="m2a" id="$_spanCiteCount">(3)</span>
              <span class="sep fc07">|</span><span id="$_spanReport" class="m2a">举报</span>
          </div>
         </div>
        </div>
      </div>
      <div class="snl">
        <div class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="yodaoad" class="bdwb bds2 bdc0" style="display: none;">&nbsp;</div>
        <div id="$_divTopLink" class="top fc03 clearfix">
	        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
	        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/2541117420073471124487/">程序员面试题精选100题(19)－反转链表[数据结构]</a></div>
	        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
	        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/2541117420073993725873/">程序员面试题精选100题(21)－左旋转字符串[算法]</a></div>
	     </div> 
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">相关文章</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="author">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"><div class="pleft nlogif clearfix"> <div class="pleft nbw-f50 nbw-fce"><img class="cwd pnt" onerror="this.src=location.f60" src="face60.png"></div> <div class="m2a pright fc03"><span class="ul">登录</span>后，您可以在此留下足迹。</div> </div>        <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/kestre1/">            <img alt="kestre1" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/kestre1/">          kestre1        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/xiaozengze@126/">            <img alt="大头针" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_001.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/xiaozengze@126/">          大头针        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/zm121987/">            <img alt="zm121987" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_002.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/zm121987/">          zm121987        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">            <img alt="wwbszd" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_003.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">          wwbszd        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/scyehan/">            <img alt="scyehan" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="face140.png">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/scyehan/">          scyehan        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/fu1985zong/">            <img alt="stubborn" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_004.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/fu1985zong/">          stubborn        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/lihappy999/">            <img alt="点点滴滴" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_005.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/lihappy999/">          点点滴滴        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/pilykuang/">            <img alt="狂人" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_006.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/pilykuang/">          狂人        </a>      </div>    </div>        </div>
	    </div>
	    <div class="phide" id="yodaoad_1" style=""></div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"><div>    <div class="publish ztag"><div class="nbw-cdt edt-cmt"><div class="nbw-act tp"> <span class="m2a fc03 ztag">点击登录</span><span class="sep">|</span><span class="fc05">昵称：</span><input value="" maxlength="18" class="znick bdwa bds0 bdc0 ztag" type="text"> </div> <div class="edt ztag"><div class="ui-2695397595"><div class="zcnt ztag zbrd bdc0"><iframe src="index_1.html" frameborder="0"></iframe></div> <div class="zbtn"> <span class="zfce zbgp ztag space">&nbsp;</span> <input class="zbok zhnd ztag nbtn fc09 bdc1 bgc2" value="发表" type="button"> <span class="zbcc zhnd ztag fc04">取消</span> <div class="zvcd ztag" style="display: none;"> <label>验证码：</label><input value="" class="zbrd xtag bdc0" maxlength="4" type="text"><img src="empty.png" class="xtag" title="点击刷新验证码"><span class="xtag fc04">换一张</span> </div> </div> <div class="zmsg fc07" style="display: none;"><span class="zicn zbgp iblock">&nbsp;</span><span class="ztag"></span></div></div></div> <div style="display: none;" class="hnt thide ztag"></div></div></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style=""></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="浙江 杭州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-11-02 09:27</span><div class="tx atag"><span title="浙江 杭州" class="fc07">whui</span></div></div> <div class="cnt pre atag"><p><span style="">帮忙回答一下，初始化长度矩阵</span></p>  <p><span style="">// initiate the length matrix<br></span><span style=""><span style=""></span><span style="">int</span> **LCS_length;<br></span><span style=""><span style=""></span>LCS_length = (<span style="">int</span>**)(<span style="">new</span> <span style="">int</span>[length1]);<br></span><span style=""><span style=""></span><span style="">for</span>(i = 0; i &lt; length1; ++ i)<br></span><span style=""><span style=""></span>LCS_length[i] = (<span style="">int</span>*)<span style="">new</span> <span style="">int</span>[length2];</span></p>  <p><span style="">为什么不简单的写成：int LCS_length[length1][length2]={0}呢？<br></span></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-07 22:29</span><div class="tx atag"><span title="北京 " class="fc07">whui</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="北京 " class="fc07">whui</span></div></div> <div class="cnt pre atag">tongwen</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://pthread.blog.163.com/" target="_top" hidefocus="true"><img src="ava_007.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-09-26 09:53</span><div class="tx atag"><a title="pthread" class="fc03 noul" target="_top" href="http://pthread.blog.163.com/"><span class="m2a">pthread</span></a></div></div> <div class="cnt pre atag">LCS可以转化为求最长递增子序列（LIS），然后LIS有nlogn的解法，因此LCS也有nlogn的时间复杂度的算法的，只不过用n^2的动态规划是比较经典的算法，所以算法导论上也是用了DP来讲解这个问题。另外最长公共子字符串，似乎DP方程应该是f[i][j] = {f[i-1][j-1]+1(a[i]==b[j]),0(a[i] != b[j])}?</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="辽宁 沈阳" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-09-03 11:53</span><div class="tx atag"><span title="辽宁 沈阳" class="fc07">xing</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="pthread" target="_top" href="http://pthread.blog.163.com/"><span class="m2a">pthread</span></a></div></div> <div class="cnt pre atag">请教一下，LCS如何转化为LIS？能否详细描述下？</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://pthread.blog.163.com/" target="_top" hidefocus="true"><img src="ava_007.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-12-12 15:31</span><div class="tx atag"><a class="fc03 noul" title="pthread" target="_top" href="http://pthread.blog.163.com/"><span class="m2a">pthread</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="上海 " class="fc07">xing</span></div></div> <div class="cnt pre atag"><span class="fullpost">設有序列A，B。<br> 記序列A中各個元素在B 中的位子(降序排列)<br> 然後按在A中的位置依序列出<br> 出按後求A的最長遞增子序列<br> <br> 例如：有A={a,b,a,c,x}，B={b,a,a,b,c,a}<br> 則有 a = {6,3,2} , b = {4,1} , c = {5} , x = / ;（注意降序排列）<br> 然後按A中的次序排出<br> { a(6,3,2) , b(4,1) , a(6,3,2) , c(5) , x( ) } = { 6,3,2,4,1,6,3,2,5 }；<br> 對此序列求最長遞增子序列即可~~</span></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-03-03 21:02</span><div class="tx atag"><span title="上海 " class="fc07">飘过~</span></div></div> <div class="cnt pre atag">再附加一个，如何把所有的LCS输出来...</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://blog.163.com/majun1987_seu@126/" target="_top" hidefocus="true"><img src="ava_008.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-26 16:03</span><div class="tx atag"><a class="fc03 noul" title="majun1987_seu" target="_top" href="http://blog.163.com/majun1987_seu@126/"><span class="m2a">majun1987_seu</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">飘过~</span></div></div> <div class="cnt pre atag">利用一个全局的栈来保存公共子序列，每次比较相等时，将该字符压栈，最后结束时候将站内结果全pop出来就是最长公共子序列</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="湖北 武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-25 11:13</span><div class="tx atag"><span title="湖北 武汉" class="fc07">s</span><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="majun1987_seu" target="_top" href="http://blog.163.com/majun1987_seu@126/"><span class="m2a">majun1987_seu</span></a></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp; 在LCS末尾加上这段就行了：<br>&nbsp;&nbsp;&nbsp; int MaxLength = LCS_length[length1 - 1][length2 - 1];<br>&nbsp;&nbsp; &nbsp;for( int i = MaxLength; i &lt; length1; i++ )<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for( int j = MaxLength; j &lt; length2; j++ )<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if( ( LCS_length[i][j] == MaxLength) &amp;&amp;<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;( LCS_length[i][j] &gt; LCS_length[i-1][j] || LCS_length[i][j] &gt; LCS_length[i][j-1] ))<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;LCS_Print(LCS_direction, pStr1, pStr2, i, j);<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;cout&lt;&lt;endl;<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="湖北 武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-25 11:15</span><div class="tx atag"><span title="湖北 武汉" class="fc07">s</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="湖北 武汉" class="fc07">s</span></div></div> <div class="cnt pre atag">&nbsp;&nbsp;&nbsp; 循环条件改下：<br>&nbsp;&nbsp;&nbsp; int MaxLength = LCS_length[length1 - 1][length2 - 1];<br>&nbsp;&nbsp; &nbsp;for( int i = MaxLength-1; i &lt; length1; i++ )<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for( int j = MaxLength-1; j &lt; length2; j++ )<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if( ( LCS_length[i][j] == MaxLength) &amp;&amp;<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;( LCS_length[i][j] &gt; LCS_length[i-1][j] || LCS_length[i][j] &gt; LCS_length[i][j-1] ))<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;LCS_Print(LCS_direction, pStr1, pStr2, i, j);<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;cout&lt;&lt;endl;<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://blog.163.com/huang_zhong_yuan/" target="_top" hidefocus="true"><img src="ava_009.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-18 13:39</span><div class="tx atag"><a title="悟" class="fc03 noul" target="_top" href="http://blog.163.com/huang_zhong_yuan/"><span class="m2a">悟</span></a></div></div> <div class="cnt pre atag"><p>感谢博主的博客对我的帮助。博主的代码写的一直考虑的很完美，这个也建议对new出来的数组最后加上delete[]吧。</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_010.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-18 16:57</span><div class="tx atag"><a class="fc03 noul" title="何海涛" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">何海涛</span></a><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="悟" target="_top" href="http://blog.163.com/huang_zhong_yuan/"><span class="m2a">悟</span></a></div></div> <div class="cnt pre atag"><div><img style="height: 100px;" src="chrome://livemargins/skin/monitor-background-horizontal.png"></div>谢谢提醒。这里的确从内存泄露的问题。下次修改的时候添加delete的代码<div style="" id="livemargins_control">  </div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://blog.163.com/sheng_forever/" target="_top" hidefocus="true"><img src="ava_011.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-05 14:04</span><div class="tx atag"><a title="sheng_forever" class="fc03 noul" target="_top" href="http://blog.163.com/sheng_forever/"><span class="m2a">sheng_forever</span></a></div></div> <div class="cnt pre atag">不错，支持楼主</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-08-08 16:30</span><div class="tx atag"><span title="上海 " class="fc07">网易博友</span></div></div> <div class="cnt pre atag">lz,当i&nbsp;==&nbsp;0&nbsp;||&nbsp;j&nbsp;==0时，有遗漏的地方，完整代码如下：
<br>if(p&nbsp;==&nbsp;0&nbsp;||&nbsp;q&nbsp;==&nbsp;0)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pStr1[p]&nbsp;==&nbsp;pStr2[q])
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
<br>	LCS_length[p][q]&nbsp;=&nbsp;1;
<br>	LCS_direction[p][q]&nbsp;=&nbsp;kLeftUp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
<br>	if(p&nbsp;&gt;&nbsp;0)
<br>	{
<br>	&nbsp;&nbsp;&nbsp;&nbsp;LCS_length[p][q]&nbsp;=&nbsp;LCS_length[p&nbsp;-&nbsp;1][q];
<br>	&nbsp;&nbsp;&nbsp;&nbsp;LCS_direction[p][q]&nbsp;=&nbsp;kUp;
<br>	}
<br>	if(q&nbsp;&gt;&nbsp;0)
<br>	{
<br>	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LCS_length[p][q]&nbsp;=&nbsp;LCS_length[p][q&nbsp;-&nbsp;1];
<br>	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LCS_direction[p][q]&nbsp;=&nbsp;kLeft;
<br>	}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-02-28 14:32</span><div class="tx atag"><span title="北京 " class="fc07">z</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="北京 " class="fc07">网易博友</span></div></div> <div class="cnt pre atag">附议，楼主可以试试"abcd","ad"</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-03-04 12:08</span><div class="tx atag"><span title="北京 " class="fc07">s</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="北京 " class="fc07">网易博友</span></div></div> <div class="cnt pre atag">同意，LZ写漏了</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-21 16:51</span><div class="tx atag"><span title="上海 " class="fc07">ddd</span></div></div> <div class="cnt pre atag">囧。子序列和子串是两个不同的东西。。。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-08-28 13:10</span><div class="tx atag"><span title="上海 " class="fc07">网易博友225</span></div></div> <div class="cnt pre atag">上面的问题并不是最长公共子串问题，而是最长公共子序列问题，它们有本质的不同。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-09-23 22:11</span><div class="tx atag"><span title="北京 " class="fc07">大洋仔哥</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="北京 " class="fc07">网易博友225</span></div></div> <div class="cnt pre atag"><p>嗯，是这样的</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://blog.163.com/maxint@126/" target="_top" hidefocus="true"><img src="ava_012.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-05 20:29</span><div class="tx atag"><a class="fc03 noul" title="maxint" target="_top" href="http://blog.163.com/maxint@126/"><span class="m2a">maxint</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="浙江 杭州" class="fc07">网易博友225</span></div></div> <div class="cnt pre atag">同意，最长公共子串问题的动态规则解法与这里的类似，但不同<br>http://en.wikipedia.org/wiki/Longest_common_substring_problem</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-10-28 14:55</span><div class="tx atag"><span class="fc07">cool</span></div></div> <div class="cnt pre atag"><p>最长公共字符串经典解法</p>
<p>关键词 suffix tree common substring</p>
<p>google之</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2008-01-20 15:41</span><div class="tx atag"><span class="fc07">网易博友</span></div></div> <div class="cnt pre atag">lz&nbsp;创建&nbsp;二维数组的语句是否有问题？
<br>
<br>是否应该是：
<br>
<br>int&nbsp;**LCS_length;
<br>LCS_length&nbsp;=&nbsp;(int**）(new&nbsp;int*&nbsp;[length1]);
<br>for(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;length1;&nbsp;++&nbsp;i)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LCS_length[i]&nbsp;=&nbsp;(int*)new&nbsp;int[length2];
<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-08-17 15:01</span><div class="tx atag"><span title="北京 " class="fc07">网易博友</span></div></div> <div class="cnt pre atag">输出的时候应该先考虑左边，上边，最后在考查左上</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="湖北武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-06 15:36</span><div class="tx atag"><span title="湖北武汉" class="fc07">网易博友31</span></div></div> <div class="cnt pre atag">code:
<br>char&nbsp;*&nbsp;StringSearch(&nbsp;char&nbsp;*&nbsp;str1,&nbsp;char&nbsp;*&nbsp;str2&nbsp;)
<br>{
<br>	ptempBuffer1&nbsp;=&nbsp;(&nbsp;char&nbsp;*&nbsp;)&nbsp;malloc(&nbsp;str1Size&nbsp;);
<br>	pwork&nbsp;=&nbsp;ptempBuffer1;
<br>	memset(&nbsp;pwork,&nbsp;0,&nbsp;str1Size&nbsp;);
<br>	ptempBuffer2&nbsp;=&nbsp;(&nbsp;char&nbsp;*&nbsp;)&nbsp;malloc(&nbsp;str1Size&nbsp;);
<br>	plast&nbsp;=&nbsp;ptempBuffer2;
<br>	memset(&nbsp;plast,&nbsp;0,&nbsp;str1Size&nbsp;);
<br>	for(&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;str2Size;&nbsp;i++&nbsp;)
<br>	{
<br>		for(&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;str1Size;&nbsp;j++&nbsp;)
<br>		{
<br>			if(&nbsp;*(&nbsp;str1&nbsp;+&nbsp;j&nbsp;)&nbsp;==&nbsp;*(&nbsp;str2&nbsp;+&nbsp;i&nbsp;)&nbsp;)
<br>			{
<br>				if(&nbsp;j&nbsp;==&nbsp;0&nbsp;)
<br>				{
<br>					*(&nbsp;pwork&nbsp;+&nbsp;j&nbsp;)&nbsp;=&nbsp;1;
<br>				}
<br>				else
<br>				{
<br>					*(&nbsp;pwork&nbsp;+&nbsp;j&nbsp;)&nbsp;=&nbsp;*(&nbsp;plast&nbsp;+&nbsp;j&nbsp;-&nbsp;1&nbsp;)&nbsp;+&nbsp;1;
<br>				}
<br>				if(&nbsp;resultLength&nbsp;&lt;&nbsp;*(&nbsp;pwork&nbsp;+&nbsp;j&nbsp;)&nbsp;)
<br>				{
<br>					resultIndex&nbsp;=&nbsp;j;
<br>					resultLength&nbsp;=&nbsp;*(&nbsp;pwork&nbsp;+&nbsp;j&nbsp;);
<br>				}
<br>			}
<br>			else
<br>			{
<br>				*(&nbsp;pwork&nbsp;+&nbsp;j&nbsp;)&nbsp;=&nbsp;0;
<br>			}
<br>		}
<br>		ptemp&nbsp;=&nbsp;pwork;
<br>		pwork&nbsp;=&nbsp;plast;
<br>		plast&nbsp;=&nbsp;ptemp;
<br>	}
<br>}
<br>
<br>
<br>
<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="湖北武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-05-06 15:35</span><div class="tx atag"><span title="湖北武汉" class="fc07">网易博友31</span></div></div> <div class="cnt pre atag">有了上面的性质，我们可以得出如下的思路：求两字符串Xm={x0,&nbsp;x1,…xm-1}和Yn={y0,y1,…,yn-1}的LCS，如果xm-1=yn-1，那么只需求得Xm-1和Yn-1的LCS，并在其后添加xm-1（yn-1）即可；如果xm-1≠yn-1，我们分别求得Xm-1和Y的LCS和Yn-1和X的LCS，并且这两个LCS中较长的一个为X和Y的LCS。
<br>
<br>如果我们记字符串Xi和Yj的LCS的长度为c[i,j]，我们可以递归地求c[i,j]：
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i&lt;0&nbsp;or&nbsp;j&lt;0
<br>c[i,j]=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i-1,j-1]+1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i,j&gt;=0&nbsp;and&nbsp;xi=xj
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max(c[i,j-1],c[i-1,j]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i,j&gt;=0&nbsp;and&nbsp;xi≠xj
<br>
<br>这个地方我们可以用两个数组记录前一次和当前的重复数
<br>int&nbsp;curResult[len1]
<br>int&nbsp;lastResult2[len1]
<br>
<br>当扫描第二个字符串的下一个字符的时候，进行一次累加即可。
<br>扫描完成之后，把当前的记录拷贝到前一次记录中。
<br>
<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_013.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-21 12:34</span><div class="tx atag"><a title="涛声依旧" class="fc03 noul" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">涛声依旧</span></a></div></div> <div class="cnt pre atag">惭愧。这道题的分析参考了《算法导论》，不是自己写的<img src="face46.gif"></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-20 16:22</span><div class="tx atag"><span class="fc07">网易博友89</span></div></div> <div class="cnt pre atag">beautiful&nbsp;solution!&nbsp;自己想出来的还是有参考资料的？面试的时候碰上这种题目似乎不大可能在那么短的时间给出这么优美的解答。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-12 19:56</span><div class="tx atag"><span class="fc07">网易博友1</span></div></div> <div class="cnt pre atag">上面的问题还是叫做最长公共子序列问题吧。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div></div>
      <div style="" class="clearfix"><div style="display: none;" class="ui-9379991165 noselect js-zfrg-6540"><span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">上一页</span> <span class="pgi zpg1 iblock fc03 bgc9 bdc0 js-zslt-987 fc05">1</span> <span class="frg fgp fc06">...</span> <span style="display: none;" class="pgi zpg2 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg3 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg4 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg5 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg6 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg7 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg8 iblock fc03 bgc9 bdc0">-1</span> <span class="frg fgn fc06">...</span> <span style="display: none;" class="pgi zpg9 iblock fc03 bgc9 bdc0">-1</span> <span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">下一页</span></div></div>
    </div>
  </div></div>
	    </div>
	    <div class="phide" id="yodaoad_3" style=""></div>
      </div>
      <div class="cite ztag fc03 phide"></div>
    </div>
   </div>
  </div>
</div>



</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>

</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/index_gb.html">公司简介</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://gb.corp.163.com/gb/contactus.html">联系方法</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/job/job.html">招聘信息</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://help.163.com/?b13abk1">客户服务</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/legal/legal.html">隐私政策</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/vip.do">VIP博客</a>
      
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://zhedahht.blog.163.com/rss/">
      <span class="p fc10">-</span><span class="fc08" id="$_foot_subscribe"><span class="iblock m2a icn0 icn0-919">&nbsp;</span><a class="m2a fc08">订阅此博客</a></span>
    </div>
    <p class="fc08">网易公司版权所有&nbsp;©1997-2012</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  

     <div style="position: absolute; top: 0pt; right: 0pt; z-index: 999; width: 1px; height: 1px; overflow: hidden;"> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ntsstorage" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" height="1" width="1"> <param name="movie" value="/common/storage.swf?t=1333011646864"> <param name="AllowScriptAccess" value="sameDomain"> <embed src="storage.swf" name="ntsstorage" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" height="1" width="1">  </object> </div><iframe src="index_2.html" id="api.blog.163.com" name="api.blog.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_3.html" id="photo.163.com" name="photo.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_4.html" id="ud.blog.163.com" name="ud.blog.163.com" style="display: none;" height="0" width="0"></iframe>
    
  
  

    


</body>
</html>
