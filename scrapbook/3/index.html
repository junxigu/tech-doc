<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="zh" xml:lang="zh" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=8">
    
    <meta http-equiv="content-style-type" content="text/css">
    <meta http-equiv="content-script-type" content="text/javascript">
    <meta name="version" content="neblog-1.0">
    
<title>程序员面试题精选100题(03)－子数组的最大和[算法] - 何海涛的日志 - 网易博客</title>
<meta name="author" content="zhedahht,何海涛">
<meta name="keywords" content="程序员面试题精选100题(03)－子数组的最大和[算法],日志,何海涛,微软、Google等面试题,网易博客,网易,blog">
<meta name="description" content="程序员面试题精选100题(03)－子数组的最大和[算法],何海涛的网易博客,剑指Offer：名企面试官精讲典型编程题,海纳百川,涛声依旧,点石成金,成就未来">
  
    
    
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  
  
  
  
  
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="blog-163-com" class="nb-body nb-inr nb-prv">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->

<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id="" "="" class="nbw-im fl im im0">
    <a rel="nofollow" class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_top" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/">
            新闻
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/">
            微博
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/">
            邮箱
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/">
            相册
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/">
            阅读
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/">
            有道
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/">
            摄影
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://aipai.163.com?from=163blog">
            爱拍
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog">
            云笔记
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628">
            闪电邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://m.123.163.com/?frombkcp">
            手机邮
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/">
            印像派
          </a>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://dream.163.com/?from=bkcp">
            梦幻人生
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a rel="nofollow" class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/">
            更多
          </a>
        
    </div>
  </div>
                               
    <span style="margin-left: 0pt;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    
  <div id="" "="" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_top" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome">
            手机博客
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome">
            博客搬家
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/vip.do?frompersonalbloghome">
            博客VIP服务
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome">
            LiveWriter写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome">
            word写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome">
            邮件写博
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome">
            短信写博
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/showMultiUser.do?frompersonalbloghome">
            群博客
          </a>
          <a class="itm noul youcai " target="_top" hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/">
            博客油菜地
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome">
            博客话题
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome">
            博客热点
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome">
            博客圈子
          </a>
          <a class="itm noul  " target="_top" hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome">
            找朋友
          </a>
        
    </div>
  </div>

    
    <div class="nbw-im fl im1 im explore"><a class="lbl bd ima spy" href="http://blog.163.com/public/explore/?frompersonalbloghome">发现</a></div>
    <div class="nbw-im fl im1 im bloggroup"><a class="lbl bd ima spy" href="http://blog.163.com/g/?frompersonalbloghome">小组</a></div>
    <div class="nbw-im fl im1 im customtheme"><a class="lbl bd ima spy" href="http://blog.163.com/public/theme/?frompersonalbloghome">风格</a></div>
    <div class="nbw-im fl im1 im seebyway"><a rel="nofollow" title="随便看看" class="lbl bd ima spy" href="http://blog.163.com/randomUser.do">&nbsp;</a></div>
    
    <span class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl">
      <div class="nbw-im fl im1 im randtag"><a style="width: 110px;" target="_top" class="lbl bd ima moveblog randshow" href="http://www.lofter.com/" onclick="window.open('http://www.lofter.com/reg?from=blog');return false;">网易轻博客LOFTER</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">
    <div id="topbar_loginAndReg" class="fr">
      <a rel="nofollow" style="margin-left: 10px; color: rgb(255, 119, 0);" class="iblock fr ima" href="http://reg.163.com/reg/reg.jsp?product=blog&amp;url=http://blog.163.com/ntesRegBlank.html&amp;loginurl=http://blog.163.com/" target="_top">创建博客</a>
      <a rel="nofollow" class="iblock fr ima ztag" href="#">登录</a>
      <span class="fr iblock space icn1 icn1-4 spx">&nbsp;</span>
      <div id="topbar_followArea" class="nbw-im fr"><span class="lbl bd ima followit fl ztag"><span class="fl addicon">&nbsp;</span><span class="fl">关注</span></span></div>
    </div>
  </div>
</div>

<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
    <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="http://zhedahht.blog.163.com/blog/static/254111742007219147591/" target="_top"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="http://zhedahht.blog.163.com/blog/static/254111742007219147591/" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="http://zhedahht.blog.163.com/blog/static/254111742007219147591/" hidefocus="true">关闭</a>
  </div>
 </div>
    <div id="$_faxiantip" class="faxiantip phide">
      <div>
	    <a class="m2a iblock" href="http://blog.163.com/public/explore/?fromblogbanner" target="_top"></a>
	    <span class="faxiantag m2a"></span>
      </div>
    </div>
    <div id="$_guanggaotip" class="guanggaotip phide">
      <div>
	    
	    <span class="guanggaotag m2a"></span>
      </div>
    </div>
    <div id="$_lofterInviteTip" class="lofterInviteTip phide">
      <div>
	    <a class="m2a iblock" href="http://www.lofter.com/invite/163blog/?email=" target="_top"></a>
	    <span class="lofterInviteTag m2a"></span>
      </div>
    </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">微软、Google等面试题</span></h1>
      <p class="d c"><span class="ztag pre">剑指Offer：名企面试官精讲典型编程题</span></p>
    </div>
    <div class="f h ztag">&nbsp;</div>
    <a class="x" hidefocus="true" target="_top" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://zhedahht.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
      <div class="c wc h clearfix " id="blog-163-com-container">
  <div class="nb-mdl lcr m-3 " id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc mdl_t_t">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc">
<div class="nbw-ryt ztag clearfix js-fix-098">
  <div class="right bdwl bds0 bdc0"><div class="cnt ztag"></div></div>
  <div class="left">
     <div class="lcnt bdwr bds0 bdc0 ">   
      <div id="$_divTopLink" class="top fc03 bdwb bdc0 bds2 clearfix">
        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200712895228171/">程序员面试题精选100题(02)－设计包含min函数的栈[数据结构]</a></div>
        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/254111742007228357325/">程序员面试题精选100题(04)－二元树中和为某一值的所有路径[数据结构]</a></div>
     </div> 
     <div class="mcnt ztag"> 
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      <div class="multicnt">
	      	<div>
		      <h3 class="title pre fs1"><span class="tcnt">程序员面试题精选100题(03)－子数组的最大和[算法]</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3>
		      <p class="tdep clearfix nbw-act fc06" style="line-height: 20px;">
		        <span class="pleft">
		          
		          <span class="blogsep">2007-03-01 21:14:07</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>
		          <a class="fc03 m2a" href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_081075092084086069082074084070080087080066083082" title="数组">数组</a>
		          <span class="blogsep" id="$_blogTagTitle">|&nbsp;&nbsp;标签：</span><span class="fc03" id="$_blogTagInfo"><a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E7%BC%96%E7%A8%8B" class="fc03 m2a">编程</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E5%B0%B1%E4%B8%9A" class="fc03 m2a">就业</a>&nbsp;&nbsp;<a href="http://zhedahht.blog.163.com/blog/#m=0&amp;t=3&amp;c=%E6%89%BE%E5%B7%A5%E4%BD%9C" class="fc03 m2a">找工作</a>&nbsp;&nbsp;</span>
		        </span>
		        <span class="pright fc07 ztag"><span class="blogsep">|</span><span class="zihao fc03" id="$_fontswitch">字号<span class="zihaoshow  phide" id="$_fontsTypes"><span class="zihaoc bdc0"><span class="stag"></span><span class="fc04 stag">大</span><span class="fc04 stag selected js-fcurrent fc05">中</span><span class="fc04 stag">小</span></span></span></span></span><span class="pright pnt fc03" id="$_blog_subscribe"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span>
		      </p>
		    </div>
	      </div>
        </div>
        
        <div>
        
        </div>
        
        <div class="nbw-blog-start"></div>
        <div class="bct fc05 fc11 nbw-blog ztag js-fs2">  <p><span style="font-family: SimSun;">题目：输入一个整形数组，数组里有正数也有负数。数组中连续的一个或多个整数组成一个子数组，每个子数组都有一个和。求所有子数组的和的最大值。要求时间复杂度为</span>O(n)<span style="font-family: SimSun;">。</span></p>  <p><span style="font-family: SimSun;">例如输入的数组为</span>1, -2, 3, 10, -4, 7, 2, -5<span style="font-family: SimSun;">，和最大的子数组为</span>3, 10, -4, 7, 2<span style="font-family: SimSun;">，因此输出为该子数组的和</span>18<span style="font-family: SimSun;">。</span></p>  <p><span style="font-family: SimSun;">分析：本题最初为</span>2005<span style="font-family: SimSun;">年浙江大学计算机系的考研题的最后一道程序设计题，在</span>2006<span style="font-family: SimSun;">年里包括</span>google<span style="font-family: SimSun;">在内的很多知名公司都把本题当作面试题。由于本题在网络中广为流传，本题也顺利成为</span>2006<span style="font-family: SimSun;">年程序员面试题中经典中的经典。</span></p>  <p><span style="font-family: SimSun;">如果不考虑时间复杂度，我们可以枚举出所有子数组并求出他们的和。不过非常遗憾的是，由于长度为</span>n<span style="font-family: SimSun;">的数组有</span>O(n<sup>2</sup>)<span style="font-family: SimSun;">个子数组；而且求一个长度为</span>n<span style="font-family: SimSun;">的数组的和的时间复杂度为</span>O(n)<span style="font-family: SimSun;">。因此这种思路的时间是</span>O(n<sup>3</sup>)<span style="font-family: SimSun;">。</span></p>  <p><span style="font-family: SimSun;">很容易理解，当我们加上一个正数时，和会增加；当我们加上一个负数时，和会减少。如果当前得到的和是个负数，那么这个和在接下来的累加中应该抛弃并重新清零，不然的话这个负数将会减少接下来的和。基于这样的思路，我们可以写出如下代码。</span></p>  <p><span style="font-family: SimSun;">参考代码：</span></p>  <p><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Find the greatest sum of all sub-arrays<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">// Return value: if the input is valid, return true, otherwise return false<br></span><span style="font-family: 'Courier New'; color: green; font-size: 10pt;">/////////////////////////////////////////////////////////////////////////////<br></span><span style="font-family: 'Courier New'; color: blue; font-size: 10pt;">bool</span><span style="font-family: 'Courier New'; font-size: 10pt;"> FindGreatestSumOfSubArray<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">(<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> *pData,<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// an array<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> nLength, <span style="color: green;">// the length of array<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> &amp;nGreatestSum<span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// the greatest sum of all sub-arrays<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;">)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if the input is invalid, return false<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>((pData == NULL) || (nLength == 0))<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> <span style="color: blue;">false</span>;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> nCurSum = nGreatestSum = 0;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> i = 0; i &lt; nLength; ++i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nCurSum += pData[i];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if the current sum is negative, discard it<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(nCurSum &lt; 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nCurSum = 0;<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if a greater sum is found, update the greatest sum<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(nCurSum &gt; nGreatestSum)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nGreatestSum = nCurSum;</span></p>  <p><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>  <p><span style="font-family: 'Courier New'; font-size: 10pt;">&nbsp;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">// if all data are negative, find the greatest element in the array<br></span></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(nGreatestSum == 0)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nGreatestSum = pData[0];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">for</span>(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> i = 1; i &lt; nLength; ++i)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span>(pData[i] &gt; nGreatestSum)<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>nGreatestSum = pData[i];<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<br><br></span><span style="font-family: 'Courier New'; font-size: 10pt;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> <span style="color: blue;">true</span>;<br></span><span style="font-family: 'Courier New'; font-size: 10pt;">}</span><span style="font-family: 'Courier New'; font-size: 10pt;">&nbsp;</span></p>  <p><span style="font-family: 'Courier New'; background: none repeat scroll 0% 0% silver; font-size: 10pt;"></span></p>  <p><span style="font-family: SimSun;">讨论：上述代码中有两点值得和大家讨论一下：</span></p>  <p><span style="font-family: Symbol;"><span style="">·<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">函数的返回值不是子数组和的最大值，而是一个判断输入是否有效的标志。如果函数返回值的是子数组和的最大值，那么当输入一个空指针是应该返回什么呢？返回</span>0<span style="font-family: SimSun;">？那这个函数的用户怎么区分输入无效和子数组和的最大值刚好是</span>0<span style="font-family: SimSun;">这两中情况呢？基于这个考虑，本人认为把子数组和的最大值以引用的方式放到参数列表中，同时让函数返回一个函数是否正常执行的标志。</span></p>  <p><span style="font-family: Symbol;"><span style="">·<span style="font: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: SimSun;">输入有一类特殊情况需要特殊处理。当输入数组中所有整数都是负数时，子数组和的最大值就是数组中的最大元素。</span></p>  <p><span style="font-family: SimSun;"></span></p><span style="font-family: 宋体;" lang="ZH-CN">  <p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><font size="3"><span style="font-family: 宋体;" lang="ZH-CN">本文已经收录到《</span><span style="font-family: 'Calibri','sans-serif';"><a target="_top" href="http://zhedahht.blog.163.com/blog/static/254111742011101624433132/"><font color="#0000ff"><span style="font-family: 宋体;" lang="ZH-CN">剑指</span>Offer</font><span style="font-family: 宋体;" lang="ZH-CN"><font color="#0000ff">——名企面试官精讲典型编程题</font></span></a></span><span style="font-family: 宋体;" lang="ZH-CN">》一书中，有改动，书中的分析讲解更加详细，讨论了这种方法和动态规划方法的联系。欢迎关注。</span></font>在我的英文博客里也有这道题的讲解，</p></span>感兴趣的读者可以参考<a target="_top" rel="nofollow" href="http://codercareer.blogspot.com/2011/09/no-03-maximum-sum-of-all-sub-arrays.html">http://codercareer.blogspot.com/2011/09/no-03-maximum-sum-of-all-sub-arrays.html</a>。<br><span style="font-family: SimSun;"></span>  <p></p><span style="font-family: SimSun;">  <p style="text-indent: 0.5in; margin: 0in 0in 10pt;"><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">博主何海涛对本博客文章享有版权。网络转载请注明出处</font></span><a href="http://zhedahht.blog.163.com/"><font color="#990000" face="Calibri" size="3">http://zhedahht.blog.163.com/</font></a><span style="font-family: 宋体;" lang="ZH-CN"><font size="3">。整理出版物请和作者联系。</font></span><font size="3"><span style="font-family: 宋体; color: black;" lang="ZH-CN">对解题思路有任何建议，欢迎在评论中告知，或者加我微博</span><span style="color: black;"><a rel="nofollow" href="http://t.sina.com.cn/zhedahht"><span style="">http://weibo.com/zhedahht</span></a></span><span style="font-family: 宋体; color: black;" lang="ZH-CN">或者</span><span style="color: black;"><a href="http://t.163.com/zhedahht"><span style=""><font color="#0000ff" face="Calibri">http://t.163.com/zhedahht</font></span></a></span><span style="font-family: 宋体; color: black;" lang="ZH-CN">与我讨论。谢谢。</span></font></p></span>  <div style="z-index: 9999; position: absolute; display: none;" id="livemargins_control"><img style="position: absolute; top: -5px; left: -77px;" alt="程序员面试题精选100题(03)－求子数组的最大和 - 何海涛 - 微软、Google等面试题" src="chrome://livemargins/skin/monitor-background-horizontal.png" height="5" width="77"> <img style="position: absolute; top: -5px; left: 0px;" alt="程序员面试题精选100题(03)－求子数组的最大和 - 何海涛 - 微软、Google等面试题" src="chrome://livemargins/skin/monitor-background-vertical.png"> <img style="position: absolute; cursor: pointer; top: 0px; left: 1px; opacity: 0.5;" id="monitor-play-button" alt="程序员面试题精选100题(03)－求子数组的最大和 - 何海涛 - 微软、Google等面试题" src="chrome://livemargins/skin/monitor-play-button.png"></div></div>
        <div class="nbw-blog-end"></div>

        <div>
		</div>
		
        <div>
		</div>
		
		<div>
      	  <div>
		  	<div class="wumii-hook"></div>
		  </div>
		</div>
		
        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="iblock bcmimg">&nbsp;</span>
            <span class="nbc-0 nbc-0-40 ptcmt ptcmt-2">评论这张</span>
          </span>
        </div>
		<div class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="microblog.png">
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        
        
        <div class="nbw-act tbar fc03 clearfix">
         <div style="height: 24px; line-height: 24px;">
          <div class="pleft rdif">
	          <span class="pnt pleft" id="$_spanRecommend"><img class="pclass" src="tuijian.png"></span>
	        <span id="$_spanShowRecommend" class="pleft rdct  phide">
	          <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	        </span>
	         <span class="fc07 pleft nas-tofix">分享到：</span><span class="nas-wrap pleft"><span id="$_shareBtn_163weibo" title="分享到网易微博" class="nas-itm nas-itm0">&nbsp;</span><span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="nas-itm nas-itm6">&nbsp;</span><span id="$_shareBtn_qqweibo" title="分享到腾讯微博" class="nas-itm nas-itm9">&nbsp;</span><span class="nas-itm nas-itm7" title="分享到MSN" id="$_shareBtn_msn">&nbsp;</span><span class="nas-itm nas-itm3" title="分享到QQ空间" id="$_shareBtn_qq">&nbsp;</span><span class="nas-itm nas-itm1" title="分享到人人网" id="$_shareBtn_renren">&nbsp;</span><span class="nas-itm nas-itm2" title="分享到开心网" id="$_shareBtn_kaixin">&nbsp;</span><span class="nas-itm nas-itm4" title="分享到豆瓣" id="$_shareBtn_douban">&nbsp;</span><span class="nas-itm nas-itm8" title="分享到梦幻人生" id="$_shareBtn_dream">&nbsp;</span></span>
          </div>
          <div class="pright">
              <span class="fc07">阅读(<span id="$_spaniReadCount">14987</span>)</span><span class="sep fc07">|</span>
              <span class="fc07">评论(<span id="$_spaniCommentCount">40</span>)</span><span class="sep fc07">|</span>
              <span class="m2a" id="$_spanCite">引用</span> <span class="m2a" id="$_spanCiteCount">(4)</span>
              <span class="sep fc07">|</span><span id="$_spanReport" class="m2a">举报</span>
          </div>
         </div>
        </div>
      </div>
      <div class="snl">
        <div class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="yodaoad" class="bdwb bds2 bdc0" style="display: none;">&nbsp;</div>
        <div id="$_divTopLink" class="top fc03 clearfix">
	        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
	        <div class="pleft thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/25411174200712895228171/">程序员面试题精选100题(02)－设计包含min函数的栈[数据结构]</a></div>
	        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
	        <div class="pright thide"><a class="m2a" href="http://zhedahht.blog.163.com/blog/static/254111742007228357325/">程序员面试题精选100题(04)－二元树中和为某一值的所有路径[数据结构]</a></div>
	     </div> 
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">相关文章</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="author">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"><div class="pleft nlogif clearfix"> <div class="pleft nbw-f50 nbw-fce"><img class="cwd pnt" onerror="this.src=location.f60" src="face60.png"></div> <div class="m2a pright fc03"><span class="ul">登录</span>后，您可以在此留下足迹。</div> </div>        <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">            <img alt="wwbszd" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/wwbszd/">          wwbszd        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/xingyunbaijunwei/">            <img alt="白杨" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_001.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/xingyunbaijunwei/">          白杨        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/goddess111@126/">            <img alt="goddess111@126" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_002.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/goddess111@126/">          goddess1        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/zhezhi236/">            <img alt="zhezhi236" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_003.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/zhezhi236/">          zhezhi23        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/ccking69/">            <img alt="ccking69" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_004.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/ccking69/">          ccking69        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/boypiglun/">            <img alt="boypiglun" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_005.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/boypiglun/">          boypiglu        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/diichen/">            <img alt="diichen" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_006.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/diichen/">          diichen        </a>      </div>    </div>                <div class="iblock nbw-fce nbw-f40">      <a class="fc03 noul" target="_top" hidefocus="true" href="http://blog.163.com/ycwycf/">            <img alt="ycwycf" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="ava_007.s">            </a>      <div class="cwd vname thide">                <a class="fc03 m2a" target="_top" hidefocus="true" href="http://blog.163.com/ycwycf/">          ycwycf        </a>      </div>    </div>        </div>
	    </div>
	    <div class="phide" id="yodaoad_1" style=""></div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"><div>    <div class="publish ztag"><div class="nbw-cdt edt-cmt"><div class="nbw-act tp"> <span class="m2a fc03 ztag">点击登录</span><span class="sep">|</span><span class="fc05">昵称：</span><input value="" maxlength="18" class="znick bdwa bds0 bdc0 ztag" type="text"> </div> <div class="edt ztag"><div class="ui-1897134286"><div class="zcnt ztag zbrd bdc0"><iframe src="index_1.html" frameborder="0"></iframe></div> <div class="zbtn"> <span class="zfce zbgp ztag space">&nbsp;</span> <input class="zbok zhnd ztag nbtn fc09 bdc1 bgc2" value="发表" type="button"> <span class="zbcc zhnd ztag fc04">取消</span> <div class="zvcd ztag" style="display: none;"> <label>验证码：</label><input value="" class="zbrd xtag bdc0" maxlength="4" type="text"><img src="empty.png" class="xtag" title="点击刷新验证码"><span class="xtag fc04">换一张</span> </div> </div> <div class="zmsg fc07" style="display: none;"><span class="zicn zbgp iblock">&nbsp;</span><span class="ztag"></span></div></div></div> <div style="display: none;" class="hnt thide ztag"></div></div></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style=""></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="湖北 武汉" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-22 16:41</span><div class="tx atag"><span title="湖北 武汉" class="fc07">winattack</span></div></div> <div class="cnt pre atag"><div>int MaximunSubArraySum(int* rgInput, int nLength)</div><div>{</div><div><span class="Apple-tab-span" style=""> </span>int iMaximum = rgInput[0];</div><div><span class="Apple-tab-span" style=""> </span>int iSum = 0;</div><div><span class="Apple-tab-span" style=""> </span>for(int i = 1; i &lt; nLength; i++)</div><div><span class="Apple-tab-span" style=""> </span>{</div><div><span class="Apple-tab-span" style="">  </span>if(iSum &lt; 0)</div><div><span class="Apple-tab-span" style="">  </span>{</div><div><span class="Apple-tab-span" style="">   </span>iSum = 0;</div><div><span class="Apple-tab-span" style="">  </span>}</div><div><span class="Apple-tab-span" style="">  </span>iSum += rgInput[i];</div><div><span class="Apple-tab-span" style="">  </span>if(iSum &gt; iMaximum)</div><div><span class="Apple-tab-span" style="">  </span>{</div><div><span class="Apple-tab-span" style="">   </span>iMaximum = iSum;</div><div><span class="Apple-tab-span" style="">  </span>}</div><div><span class="Apple-tab-span" style=""> </span>}</div><div><span class="Apple-tab-span" style=""> </span>return iMaximum;</div><div>}</div><div>这样做也行</div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-08 11:07</span><div class="tx atag"><span title="北京 " class="fc07">haizidu</span></div></div> <div class="cnt pre atag"><span style="">nGreatestSum&nbsp; 初始化为INT_MIN即可解决全是负数的情况 不需额外处理<br></span></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://xiaonanln.blog.163.com/" target="_top" hidefocus="true"><img src="ava_008.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-08 13:28</span><div class="tx atag"><a class="fc03 noul" title="小南" target="_top" href="http://xiaonanln.blog.163.com/"><span class="m2a">小南</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="浙江 杭州" class="fc07">haizidu</span></div></div> <div class="cnt pre atag">是的，不过帖子里的代码应该还是错的。<div>应该在和<span style="">nGreatestSum 比较并赋值</span><span style="">nGreatestSum&nbsp;</span><span style="">&nbsp;之后，再和0比较，小于0则清零。现在的代码是先清零了，导致如果是全负数，就会结果为0.</span></div></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-09-14 22:01</span><div class="tx atag"><span title="北京 " class="fc07">1609</span></div></div> <div class="cnt pre atag"><p>很标准的动态规划，为什么不把动态规划写清楚呢？</p>  <p>&nbsp;</p>  <p>f(n) = f(n-1)&gt;0 ? f(n-1) + data[n] : data[n];</p>  <p>&nbsp;</p>  <p>f{n) 表示以第n个数结尾的最大和字数组</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="江苏 南京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-05 09:03</span><div class="tx atag"><span title="江苏 南京" class="fc07">东风破</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">1609</span></div></div> <div class="cnt pre atag">扯蛋吧你，凭什么说f(n-1)&gt;0打时候f(n)就是f(n-1) + data[n]？data[n]万一小于0呢？</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="江苏 南京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-05 09:07</span><div class="tx atag"><span title="江苏 南京" class="fc07">东风破</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">1609</span></div></div> <div class="cnt pre atag">你可以用 1 2 -1 4这个范例自己试试，照你的算法最大值岂不变成了7？</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">02-04 03:09</span><div class="tx atag"><span class="fc07">ucla</span></div></div> <div class="cnt pre atag">#include&lt;iostream&gt;<br>using namespace std;<br>int getSubmax(int in[],int n)<br>{<br>&nbsp;&nbsp;&nbsp; int max=in[0];<br>&nbsp;&nbsp;&nbsp; int b=0;<br>&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;n;i++)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b+=in[i];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(b&gt;max)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max=b;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(b&lt;0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b=0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; return max;<br>}<br>int main()<br>{<br>&nbsp;&nbsp; int in[]={-11,-2,-3,-5,-4};<br>&nbsp;&nbsp; cout&lt;&lt;getSubmax(in,4);<br>}<br>这个可以吗？</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="江苏 南京" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">03-05 09:00</span><div class="tx atag"><span title="江苏 南京" class="fc07">东风破</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="江苏 南京" class="fc07">ucla</span></div></div> <div class="cnt pre atag">不可以，万一数组是空的呢？int max=in[0];不就没有意义了！</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://wswsjok.blog.163.com/" target="_top" hidefocus="true"><img src="ava_009.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-10-12 10:32</span><div class="tx atag"><a title="wswsjok" class="fc03 noul" target="_top" href="http://wswsjok.blog.163.com/"><span class="m2a">wswsjok</span></a></div></div> <div class="cnt pre atag">楼主高明！<br><br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://cisdan.blog.163.com/" target="_top" hidefocus="true"><img src="ava_010.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-11-01 21:36</span><div class="tx atag"><a title="江上白雀" class="fc03 noul" target="_top" href="http://cisdan.blog.163.com/"><span class="m2a">江上白雀</span></a></div></div> <div class="cnt pre atag"><p>我怎么觉得有问题啊？楼主的代码是这样写的：</p>
<p><span style="font-size: 10pt; font-family: 'Courier New';"><span style="color: blue;">for</span>(<span style="color: blue;">unsigned</span> <span style="color: blue;">int</span> i = 0; i &lt; nLength; ++i)<br></span><span style="font-size: 10pt; font-family: 'Courier New';">{<br></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span>nCurSum += pData[i];<br></span><span style="font-size: 10pt; font-family: 'Courier New';"><br></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span><span style="color: green;">// if the current sum is negative, discard it<br></span></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span><span style="color: blue;">if</span>(nCurSum &lt; 0)<br></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span>nCurSum = 0;<br><br></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span><span style="color: green;">// if a greater sum is found, update the greatest sum<br></span></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span><span style="color: blue;">if</span>(nCurSum &gt; nGreatestSum)<br></span><span style="font-size: 10pt; font-family: 'Courier New';"><span style="">&nbsp;</span>nGreatestSum = nCurSum;</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">}</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">这里只有一重for循环，这样只可能遍历以pData[0]为开始的子数组。其他如以pData[1]为开始的子数组根本没检测过。</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">就以题目中的说明为例：</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">“如输入的数组为1, -2, 3, 10, -4, 7, 2, -5，和最大的子数组为3, 10, -4, 7, 2，因此输出为该子数组的和18。”</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">如果这个例子放到楼主的代码里，只能找到1, -2, 3, 10, -4, 7, 2这个子数组，根本没讨论以第2个元素为开始的子数组，自然得不到正确的答案。</span></p>
<p><span style="font-size: 10pt; font-family: 'Courier New';">不知道我说的有没错。还请指正。</span></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://liuyilin22.blog.163.com/" target="_top" hidefocus="true"><img src="ava_011.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-10-06 15:24</span><div class="tx atag"><a class="fc03 noul" title="liuyilin22" target="_top" href="http://liuyilin22.blog.163.com/"><span class="m2a">liuyilin22</span></a><span class="fc07">&nbsp;回复&nbsp;</span><a class="fc03 noul" title="江上白雀" target="_top" href="http://cisdan.blog.163.com/"><span class="m2a">江上白雀</span></a></div></div> <div class="cnt pre atag">1和-2的和是小于0，应该丢掉了。。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-16 00:46</span><div class="tx atag"><span title="北京 " class="fc07">龙骧楼</span></div></div> <div class="cnt pre atag">一个简单的思路，从左扫描到右，从左边第一个元素开始累加直到最后一个元素，这个过程中，存储连续累加的最大值和最小值，那么最大值减去最小值就是所求的连续子数组的和。扫描过程中可以记录得到累加最大和最小值的元素位置</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://blog.163.com/lrp1223@126/" target="_top" hidefocus="true"><img src="ava_012.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-08-22 09:00</span><div class="tx atag"><a class="fc03 noul" title="lrp1223@126" target="_top" href="http://blog.163.com/lrp1223@126/"><span class="m2a">lrp1223@126</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="浙江 杭州" class="fc07">龙骧楼</span></div></div> <div class="cnt pre atag"><p>不对吧，比如数组中只有两个元素，10，-5.</p>  <p>那么两个想加最大值是10，最小值是5.两个相减算什么啊？</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-16 00:51</span><div class="tx atag"><span title="北京 " class="fc07">龙骧楼</span></div></div> <div class="cnt pre atag">INT aiArray[] = {2, 4, -7, 6, -2, 5, 9, 2, -1, 7, 8, 2, -9, 4};<br><br>INT main(IN INT argc, IN CHAR *argv[])<br>{<br>    INT iArraySum    = 0;<br>    <br>    INT iMaxRightSum = 0;<br>    INT iRightCnt    = 0;<br>    INT iMinLeftSum  = 0;<br>    INT iLeftCnt     = 0;<br><br>    INT iMaxArraySum = 0;<br>    INT iArrayCnt    = 0;<br>    INT iCurCnt      = 0;<br><br>&nbsp;   iArrayCnt = sizeof(aiArray) / sizeof(INT);</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-16 00:52</span><div class="tx atag"><span title="北京 " class="fc07">龙骧楼</span><span class="fc07">&nbsp;回复&nbsp;</span><span title="北京 " class="fc07">龙骧楼</span></div></div> <div class="cnt pre atag">      /* 将数组从左到右元素依次递加，得到整个数组元素之和 */<br>    for (iCurCnt = 0; iCurCnt &lt; iArrayCnt; iCurCnt++)<br>    {<br>        iArraySum += aiArray[iCurCnt];<br><br>        /* 记录从左第一个元素加到最后一个元素和过程中最大的元素位置与和 */<br>        if (iArraySum &gt;= iMaxRightSum)<br>        {<br>            iMaxRightSum = iArraySum;<br>            iRightCnt = iCurCnt;<br>        }<br>        /* 记录从左第一个元素加到最后一个元素和过程中最小的元素位置与和 */<br>        if (iArraySum &lt;= iMinLeftSum)<br>        {<br>            iMinLeftSum = iArraySum;<br>            iLeftCnt = iCurCnt + 1;<br>        }<br>    }<br>    <br><br>    printf("\r\nThe First Max Num is %d\n", iMaxRightSum - iMinLeftSum);<br><br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="北京 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-07-16 00:51</span><div class="tx atag"><span title="北京 " class="fc07">龙骧楼</span></div></div> <div class="cnt pre atag">      /* 将数组从左到右元素依次递加，得到整个数组元素之和 */<br>    for (iCurCnt = 0; iCurCnt &lt; iArrayCnt; iCurCnt++)<br>    {<br>        iArraySum += aiArray[iCurCnt];<br><br>        /* 记录从左第一个元素加到最后一个元素和过程中最大的元素位置与和 */<br>        if (iArraySum &gt;= iMaxRightSum)<br>        {<br>            iMaxRightSum = iArraySum;<br>            iRightCnt = iCurCnt;<br>        }<br>        /* 记录从左第一个元素加到最后一个元素和过程中最小的元素位置与和 */<br>        if (iArraySum &lt;= iMinLeftSum)<br>        {<br>            iMinLeftSum = iArraySum;<br>            iLeftCnt = iCurCnt + 1;<br>        }<br>    }<br>    <br><p>    printf("\r\nThe First Max Num is %d\n", iMaxRightSum - iMinLeftSum);</p><p>}</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-02 21:21</span><div class="tx atag"><span class="fc07">网易博友75</span></div></div> <div class="cnt pre atag">&lt;quote&gt;
<br>很容易理解，当我们加上一个正数时，和会增加；当我们加上一个负数时，和会减少。如果当前得到的和是个负数，那么这个和在接下来的累加中应该抛弃并重新清零，不然的话这个负数将会减少接下来的和。基于这样的思路，我们可以写出如下代码。
<br>&lt;/quote&gt;
<br>写这么多也没有写多清楚题目中蕴含的动态规划原理，为什么要重新清零？如果条件变了的话又应该怎么做？
<br>光学会做这一道题是没有多大用处的。后来人多想想吧</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div class="reps atag"><div class="nbw-cmt bdwt bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f40 pleft"> <a href="http://zhangzhibiao02005.blog.163.com/" target="_top" hidefocus="true"><img src="ava_013.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2011-05-04 15:47</span><div class="tx atag"><a class="fc03 noul" title="zhangzhibiao02005" target="_top" href="http://zhangzhibiao02005.blog.163.com/"><span class="m2a">zhangzhibiao02005</span></a><span class="fc07">&nbsp;回复&nbsp;</span><span title="湖北 武汉" class="fc07">网易博友75</span></div></div> <div class="cnt pre atag">顶~ 这个的确是动态规划的解法。 不过不是最原始的动态规划，而是经过优化了的。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> </div> </div></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 奉贤区" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-28 12:01</span><div class="tx atag"><span title="上海 奉贤区" class="fc07">showcraft</span></div></div> <div class="cnt pre atag"><p>续上</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if（nGreatestSum==0）<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nGreatestSum=nGreatestNeg;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<br>} <br><br></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 奉贤区" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-28 12:01</span><div class="tx atag"><span title="上海 奉贤区" class="fc07">showcraft</span></div></div> <div class="cnt pre atag"><p>续上</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // if a greater sum is found, update the greatest sum<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(nCurSum &gt; nGreatestSum)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nGreatestSum = nCurSum;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //if the greatest sum is zero,record the greatest negative number<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if（nGreatestSum==0）<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(0&gt;pData[i]&gt;nGreatestNeg)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nGreatestNeg=pData[i];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 奉贤区" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-28 12:00</span><div class="tx atag"><span title="上海 奉贤区" class="fc07">showcraft</span></div></div> <div class="cnt pre atag"><p>续上</p>
<p>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // if the input is invalid, return false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if((pData == NULL) || (nLength == 0))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nCurSum = nGreatestSum = 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int nGreatestNeg=-32768;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(unsigned int i = 0; i &lt; nLength; ++i)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nCurSum += pData[i];<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // if the current sum is negative, discard it<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(nCurSum &lt; 0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nCurSum = 0;<br></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 奉贤区" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-28 11:59</span><div class="tx atag"><span title="上海 奉贤区" class="fc07">showcraft</span></div></div> <div class="cnt pre atag"><p>博主整理的很不错，方便很多人。</p>
<p>这道题目在编程珠玑第8章有讨论。</p>
<p>实际上，这里对于全部负数的处理并非最优，还要额外增加一遍O（n）扫描的开销。<br>可以设一个标志量nGreatestNeg记录最大负数，当然在nGreatestSum&gt;0的情况下可以不用<br>管这个量了。<br>/////////////////////////////////////////////////////////////////////////////<br>// Find the greatest sum of all sub-arrays<br>// Return value: if the input is valid, return true, otherwise return false<br>/////////////////////////////////////////////////////////////////////////////<br>bool FindGreatestSumOfSubArray<br>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int *pData,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // an array<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned int nLength, // the length of array<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int &amp;nGreatestSum&nbsp;&nbsp;&nbsp;&nbsp; // the greatest sum of all sub-arrays<br>)<br></p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="上海 " src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-10-06 16:16</span><div class="tx atag"><span title="上海 " class="fc07">LINKHL</span></div></div> <div class="cnt pre atag"><p>以为你算法错的，想想貌似还是对的呵呵，整理的很好</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-09-27 11:13</span><div class="tx atag"><span class="fc07">dutzzds</span></div></div> <div class="cnt pre atag">参考代码扫描了2次<br><br>能否把第二次扫描的工作放到第一次扫描中？<br><br>第一次扫描中，既算sum，同时也寻找数组中的最大值，扫描完成后判断是用最大和，还是用最大元素值，作为最大子数组和。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="安徽 合肥" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2010-02-07 18:41</span><div class="tx atag"><span title="安徽 合肥" class="fc07">Laphy</span></div></div> <div class="cnt pre atag">这是个迭代式动态规划算法。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://stupidcat1984.blog.163.com/" target="_top" hidefocus="true"><img src="ava_014.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-08-14 22:45</span><div class="tx atag"><a title="stupidcat" class="fc03 noul" target="_top" href="http://stupidcat1984.blog.163.com/"><span class="m2a">stupidcat</span></a></div></div> <div class="cnt pre atag">这个实现可能更简单些：
<br>int&nbsp;GetMaxSubArraySum(int&nbsp;datas[],&nbsp;int&nbsp;len)
<br>{
<br> if&nbsp;(NULL&nbsp;==&nbsp;datas&nbsp;||&nbsp;len&nbsp;&lt;=&nbsp;0)
<br> {
<br>  return&nbsp;0;
<br> }
<br> int&nbsp;allSum&nbsp;=&nbsp;datas[0],&nbsp;minSum&nbsp;=&nbsp;(0&nbsp;&lt;&nbsp;datas[0])&nbsp;?&nbsp;0:&nbsp;datas[0],&nbsp;maxSum&nbsp;=&nbsp;datas[0];
<br> for&nbsp;(int&nbsp;i&nbsp;=&nbsp;1;&nbsp;i&nbsp;&lt;&nbsp;len;&nbsp;++i)
<br> {
<br>  allSum&nbsp;+=&nbsp;datas[i];
<br>  int&nbsp;curMaxSum&nbsp;=&nbsp;allSum&nbsp;-&nbsp;minSum;
<br>  if&nbsp;(curMaxSum&nbsp;&gt;&nbsp;maxSum)
<br>  {
<br>   maxSum&nbsp;=&nbsp;curMaxSum;
<br>  }
<br>  if&nbsp;(allSum&nbsp;&lt;&nbsp;minSum)
<br>  {
<br>   minSum&nbsp;=&nbsp;allSum;
<br>  }
<br> }
<br> return&nbsp;maxSum;
<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-07-28 11:34</span><div class="tx atag"><span class="fc07">网易博友149</span></div></div> <div class="cnt pre atag">最大子段和
<br>poj&nbsp;2479，变种，两段子段和</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="广东 广州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2009-05-09 01:58</span><div class="tx atag"><span title="广东 广州" class="fc07">网易博友59</span></div></div> <div class="cnt pre atag"><blockquote class="selitm bd01"><a class="c05" href="http://cisdan.blog.163.com/" target="_top">江上白雀</a><span class="c05 dot">：</span><br><span><p>我怎么觉得有问题啊？楼主的代码是这样写的：</p>
<p><span style="" courier="" new';"=""><span style="">for</span>(<span style="">unsigned</span> <span style="">int</span> i = 0; i &lt; nLength; ++i)<br></span><span style="" courier="" new';"="">{<br></span><span style="" courier="" new';"=""><span style="">&nbsp;</span>nCurSum += pData[i];<br></span><span style="" courier="" new';"=""><br></span><span style="" courier="" new';"=""><span style="">&nbsp;</span><span style="">// if the current sum is negative, discard it<br></span></span><span style="" courier="" new';"=""><span style="">&nbsp;</span><span style="">if</span>(nCurSum &lt; 0)<br></span><span style="" courier="" new';"=""><span style="">&nbsp;</span>nCurSum = 0;<br><br></span><span style="" courier="" new';"=""><span style="">&nbsp;</span><span style="">// if a greater sum is found, update the greatest sum<br></span></span><span style="" courier="" new';"=""><span style="">&nbsp;</span><span style="">if</span>(nCurSum &gt; nGreatestSum)<br></span><span style="" courier="" new';"=""><span style="">&nbsp;</span>nGreatestSum = nCurSum;</span></p>
<p><span style="" courier="" new';"="">}</span></p>
<p><span style="" courier="" new';"="">这里只有一重for循环，这样只可能遍历以pData[0]为开始的子数组。其他如以pData[1]为开始的子数组根本没检测过。</span></p>
<p><span style="" courier="" new';"="">就以题目中的说明为例：</span></p>
<p><span style="" courier="" new';"="">“如输入的数组为1, -2, 3, 10, -4, 7, 2, -5，和最大的子数组为3, 10, -4, 7, 2，因此输出为该子数组的和18。”</span></p>
<p><span style="" courier="" new';"="">如果这个例子放到楼主的代码里，只能找到1, -2, 3, 10, -4, 7, 2这个子数组，根本没讨论以第2个元素为开始的子数组，自然得不到正确的答案。</span></p>
<p><span style="" courier="" new';"="">不知道我说的有没错。还请指正。</span></p></span></blockquote>看清楚楼主代码的算法和意义再发言吧，汗~</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="四川 成都" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-10-24 20:22</span><div class="tx atag"><span title="四川 成都" class="fc07">网易博友</span></div></div> <div class="cnt pre atag">bool&nbsp;FindGreatestSumOfSubArray
<br>(
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;*pData,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;an&nbsp;array
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;nLength,&nbsp;//&nbsp;the&nbsp;length&nbsp;of&nbsp;array
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&amp;nGreatestSum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;the&nbsp;greatest&nbsp;sum&nbsp;of&nbsp;all&nbsp;sub-arrays
<br>)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if&nbsp;the&nbsp;input&nbsp;is&nbsp;invalid,&nbsp;return&nbsp;false
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((pData&nbsp;==&nbsp;NULL)&nbsp;||&nbsp;(nLength&nbsp;==&nbsp;0))
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;range,tail&nbsp;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range=tail=pData[0];
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(unsigned&nbsp;int&nbsp;i=1;&nbsp;i&lt;nLength;&nbsp;++i)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tail&gt;0)&nbsp;tail&nbsp;+=&nbsp;pData[i];
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tail&nbsp;&nbsp;&nbsp;=&nbsp;pData[i];
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tail&gt;range)&nbsp;range=tail&nbsp;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nGreatestSum=range;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;
<br>}
<br>
<br>这样就不用特意检查是否全为负数的情况</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://jinfd.blog.163.com/" target="_top" hidefocus="true"><img src="ava_015.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-07-16 14:19</span><div class="tx atag"><a title="发发" class="fc03 noul" target="_top" href="http://jinfd.blog.163.com/"><span class="m2a">发发</span></a></div></div> <div class="cnt pre atag"><p>这道题又是《编程珠机》里面的题目，叫做扫描法，速度最快，扫描一次就求出结果，复杂度是O（n）。书中说，这个算法是一个统计学家提出的。</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="浙江杭州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-30 20:03</span><div class="tx atag"><span title="浙江杭州" class="fc07">网易博友88888888888888</span></div></div> <div class="cnt pre atag">
<br>public&nbsp;class&nbsp;MaxSumArray&nbsp;{
<br>
<br>	public&nbsp;static&nbsp;int&nbsp;maxSumArray(int[]&nbsp;array){
<br>		
<br>		int&nbsp;begin&nbsp;=&nbsp;0;
<br>		int&nbsp;end&nbsp;=&nbsp;0;
<br>		int&nbsp;j&nbsp;=&nbsp;0;
<br>		int&nbsp;temp&nbsp;=&nbsp;0;
<br>		int&nbsp;sum&nbsp;=&nbsp;0;
<br>		for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;array.length;&nbsp;i++){
<br>			temp&nbsp;+=&nbsp;array[i];
<br>			
<br>			if(temp&nbsp;&lt;&nbsp;0){
<br>				temp&nbsp;=&nbsp;0;
<br>				j&nbsp;=&nbsp;i&nbsp;+&nbsp;1;
<br>			}
<br>			
<br>			if(&nbsp;temp&nbsp;&gt;&nbsp;sum){
<br>				sum&nbsp;=&nbsp;temp;
<br>				begin&nbsp;=&nbsp;j;
<br>				end&nbsp;=&nbsp;i;
<br>			}
<br>			
<br>		}
<br>		
<br>		for(int&nbsp;k&nbsp;=&nbsp;begin;&nbsp;k&nbsp;&lt;=&nbsp;end;&nbsp;k++)
<br>			System.out.print(array[k]&nbsp;+&nbsp;"&nbsp;");
<br>		return&nbsp;sum;
<br>	}
<br>	
<br>	public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args){
<br>		int[]&nbsp;array&nbsp;=&nbsp;{1,&nbsp;-2,&nbsp;3,&nbsp;10,&nbsp;-4,&nbsp;7,&nbsp;2,&nbsp;-5};
<br>		System.out.println("\n"&nbsp;+&nbsp;maxSumArray(array));
<br>	}
<br>}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img title="浙江杭州" src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-30 14:59</span><div class="tx atag"><span title="浙江杭州" class="fc07">网易博友168</span></div></div> <div class="cnt pre atag">public&nbsp;static&nbsp;void&nbsp;maxSubSum(int[]&nbsp;array){
<br>		
<br>		int&nbsp;i&nbsp;=&nbsp;0;
<br>		//Mark&nbsp;the&nbsp;sub-array
<br>		int&nbsp;begin&nbsp;=&nbsp;0,&nbsp;end&nbsp;=0;&nbsp;
<br>		int&nbsp;j&nbsp;=&nbsp;array.length&nbsp;-&nbsp;1;
<br>		
<br>		//&nbsp;Discard&nbsp;the&nbsp;negative&nbsp;number&nbsp;of&nbsp;on&nbsp;the&nbsp;left&nbsp;and&nbsp;right
<br>		//&nbsp;If&nbsp;the&nbsp;elenemt&nbsp;all&nbsp;are&nbsp;negative,&nbsp;then&nbsp;return
<br>		while&nbsp;(array[i]&nbsp;&lt;&nbsp;0&nbsp;&amp;&amp;&nbsp;i&nbsp;&lt;&nbsp;array.length&nbsp;-1)
<br>			i++;
<br>		while&nbsp;(array[j]&nbsp;&lt;&nbsp;0&nbsp;&amp;&amp;&nbsp;j&nbsp;&gt;&nbsp;0){
<br>			if&nbsp;(j&nbsp;&lt;=&nbsp;i){
<br>				System.out.println("The&nbsp;element&nbsp;all&nbsp;negetive...");
<br>				return&nbsp;;
<br>			}
<br>			j--;
<br>		}
<br>		
<br>		while(i&nbsp;&lt;&nbsp;j){
<br>			begin&nbsp;=&nbsp;i;
<br>			end&nbsp;&nbsp;=&nbsp;j;
<br>			
<br>			int&nbsp;temp&nbsp;=&nbsp;array[i];
<br>			while(temp&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;i&nbsp;&lt;&nbsp;j){
<br>				i++;
<br>				temp&nbsp;+=&nbsp;array[i];
<br>			}
<br>			
<br>			if&nbsp;(i&nbsp;&lt;&nbsp;j&nbsp;&amp;&amp;&nbsp;temp&nbsp;&lt;&nbsp;0){
<br>				i++;
<br>				begin&nbsp;=&nbsp;i;
<br>			}
<br>				
<br>			temp&nbsp;=&nbsp;array[j];
<br>			while&nbsp;(i&nbsp;&lt;&nbsp;j&nbsp;&amp;&amp;&nbsp;temp&nbsp;&gt;&nbsp;0){
<br>				j--;
<br>				temp&nbsp;+=&nbsp;array[j];
<br>			}
<br>			
<br>			if&nbsp;(i&nbsp;&lt;&nbsp;j&nbsp;&amp;&amp;&nbsp;temp&nbsp;&lt;&nbsp;0){
<br>				j--;
<br>				end&nbsp;=&nbsp;j;
<br>			}
<br>				
<br>		}
<br>		for(int&nbsp;k&nbsp;=&nbsp;begin;&nbsp;k&nbsp;&lt;=&nbsp;end;&nbsp;k++)
<br>			System.out.print(array[k]&nbsp;+&nbsp;"&nbsp;&nbsp;");
<br>	}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-21 15:58</span><div class="tx atag"><span class="fc07">网易博友22</span></div></div> <div class="cnt pre atag">嗯，不错，不过可以加上两个参数，lo和hi，这样可以记录下一个最短路径。
<br>因为题目中规定了，数组有正有负，所以全负的情况可以不考虑，当然搂住考虑的不错，我的code如下
<br>赞搂住的返回值为bool，赫赫。我偷懒了
<br>int&nbsp;FindMaxSumInArray(int&nbsp;arr[],int&nbsp;nsize,int&nbsp;&amp;lo,&nbsp;int&nbsp;&amp;hi)
<br>{
<br>	int&nbsp;nCurVal&nbsp;,&nbsp;nMaxVal&nbsp;,&nbsp;low;
<br>	lo&nbsp;=&nbsp;hi&nbsp;=&nbsp;low&nbsp;=&nbsp;0;
<br>	nCurVal&nbsp;=&nbsp;nMaxVal&nbsp;=&nbsp;0;
<br>	
<br>	
<br>	for(int&nbsp;i&nbsp;=&nbsp;0&nbsp;;i&nbsp;&lt;&nbsp;nsize;&nbsp;i++)
<br>	{
<br>		nCurVal&nbsp;+=&nbsp;arr[i];
<br>		if(nCurVal&nbsp;&lt;=&nbsp;0)
<br>		{
<br>			nCurVal&nbsp;=&nbsp;0;
<br>			low&nbsp;=&nbsp;i+1;
<br>			continue;
<br>		}
<br>		if(nMaxVal&nbsp;&lt;&nbsp;nCurVal&nbsp;)
<br>		{
<br>			nMaxVal&nbsp;=&nbsp;nCurVal;
<br>			hi&nbsp;=&nbsp;i;
<br>			lo&nbsp;=&nbsp;low;
<br>		}
<br>	}
<br>	//no&nbsp;positive&nbsp;data,just&nbsp;return&nbsp;the&nbsp;biggest&nbsp;element&nbsp;in&nbsp;array
<br>	if(0&nbsp;==&nbsp;nMaxVal)
<br>	{
<br>		nMaxVal&nbsp;=&nbsp;arr[0];
<br>		for(int&nbsp;i&nbsp;=&nbsp;1;&nbsp;i&nbsp;&lt;nsize&nbsp;;i++)
<br>		{
<br>			if(nMaxVal&lt;arr[i])
<br>			{
<br>				nMaxVal&nbsp;=&nbsp;arr[i];
<br>				lo&nbsp;=&nbsp;hi&nbsp;=&nbsp;i;
<br>			}
<br>			
<br>		}
<br>	}
<br>	return&nbsp;nMaxVal;
<br>}
<br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_016.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-13 09:05</span><div class="tx atag"><a title="涛声依旧" class="fc03 noul" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">涛声依旧</span></a></div></div> <div class="cnt pre atag">To博友128: 当扫描到45时，此时的得到的和是45，保存到<font face="Courier New" size="2">nGreatestSum，接着扫描到-50，由于和是-5，小于0，抛弃，但保存在nGreatestSum中的最大和仍然是45。反复进行这个过程结束，最后得到的将是45。请再仔细分析一下上面的代码，也可以跟踪一下看看执行过程^_^</font></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-04-11 23:58</span><div class="tx atag"><span class="fc07">网易博友128</span></div></div> <div class="cnt pre atag">这种思想好像不对&nbsp;比如45&nbsp;-50&nbsp;35&nbsp;5这样的按照你的算法前面两个累加为负数应该抛弃，然后累加35&nbsp;5得到40，但是实际上这个子数组最大和应该是45才对。</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a href="http://zhedahht.blog.163.com/" target="_top" hidefocus="true"><img src="ava_016.s" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-16 22:21</span><div class="tx atag"><a title="涛声依旧" class="fc03 noul" target="_top" href="http://zhedahht.blog.163.com/"><span title="博主" class="iblock icn0 icn0-49">&nbsp;</span><span class="m2a">涛声依旧</span></a></div></div> <div class="cnt pre atag"><p>要是要两段呢？</p>
<p>能不能解释一下这句话？我不是很理解什么叫两段。</p></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-07 13:32</span><div class="tx atag"><span class="fc07">网易博友60</span></div></div> <div class="cnt pre atag">要是要两段呢？<br>你有什么想法没？<br><br>ps:最优的算法是O(N)的<br><br></div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-03 02:52</span><div class="tx atag"><span class="fc07">网易博友140</span></div></div> <div class="cnt pre atag">public&nbsp;void&nbsp;findMaxSubArraySum(int&nbsp;[]&nbsp;array)
<br>	{
<br>		int&nbsp;sum&nbsp;=&nbsp;array[0];
<br>		int&nbsp;max&nbsp;=&nbsp;array[0];
<br>		for(int&nbsp;index&nbsp;=&nbsp;1;&nbsp;index&nbsp;&lt;&nbsp;array.length;&nbsp;index++)
<br>		{
<br>			if(array[index]&nbsp;&gt;&nbsp;0)
<br>				sum&nbsp;+=&nbsp;array[index];
<br>			else
<br>			{
<br>				if(max&nbsp;&lt;&nbsp;sum)
<br>					max&nbsp;=&nbsp;sum;
<br>				if(sum&nbsp;+&nbsp;array[index]&nbsp;&gt;&nbsp;0)
<br>				{
<br>					sum&nbsp;+=&nbsp;array[index];
<br>				}
<br>				else
<br>				{
<br>					sum&nbsp;=&nbsp;max&gt;0?&nbsp;0&nbsp;:&nbsp;max;
<br>					if(sum&nbsp;&lt;&nbsp;0&nbsp;&amp;&amp;&nbsp;array[index]&nbsp;&gt;&nbsp;sum)
<br>					{
<br>						sum&nbsp;=&nbsp;array[index];
<br>					}
<br>				}
<br>			}
<br>		}
<br>		if(max&nbsp;&lt;&nbsp;sum)
<br>			max&nbsp;=&nbsp;sum;
<br>		System.out.println(max);
<br>	}</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-03 01:17</span><div class="tx atag"><span class="fc07">网易博友194</span></div></div> <div class="cnt pre atag">普通枚举&nbsp;O(n^3)
<br>预处理和以后枚举&nbsp;O(n^2)&nbsp;+&nbsp;平衡树&nbsp;O(nlgn)
<br>DP&nbsp;O(n)</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div><div class="nbw-cmt bdwb bds2 bdc0 clearfix"> <div class="nbw-fce nbw-f50 pleft"> <a target="_blank" hidefocus="true"><img src="face60.png" class="cwd atag"></a> </div> <div class="thde"> <div class="tt"><span class="pright fc07 atag">2007-03-02 23:19</span><div class="tx atag"><span class="fc07">网易博友54</span></div></div> <div class="cnt pre atag">这个题目很明显可以用贪心算法或DP来解，贪心的效率很高O(1)就可以完成，正如lz所说的。<br>如果使用DP的话，算法的复杂度就比较高了，O(n3)才可以完成。<br><br>因为对于贪心算法而言，以为是连续的子数组，所以我们可以认为如果累加到负数那么之前的所有操作就对后面的累积没有贡献，所以可以去掉，所以我们可以用扫描一遍的方式完成。&nbsp;不过在这个过程中，需要将最大的数组记录下来！</div> <div class="op fc03 nbw-act atag"><span class="m2a">回复</span></div> <div style="display: none;" class="reps atag"></div> <div class="cover"></div> </div> </div></div>
      <div style="" class="clearfix"><div style="display: none;" class="ui-7364837661 noselect js-zfrg-6540"><span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">上一页</span> <span class="pgi zpg1 iblock fc03 bgc9 bdc0 js-zslt-987 fc05">1</span> <span class="frg fgp fc06">...</span> <span style="display: none;" class="pgi zpg2 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg3 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg4 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg5 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg6 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg7 iblock fc03 bgc9 bdc0">-1</span> <span style="display: none;" class="pgi zpg8 iblock fc03 bgc9 bdc0">-1</span> <span class="frg fgn fc06">...</span> <span style="display: none;" class="pgi zpg9 iblock fc03 bgc9 bdc0">-1</span> <span class="pgi pgb iblock fc03 bgc9 bdc0 js-znpg-097">下一页</span></div></div>
    </div>
  </div></div>
	    </div>
	    <div class="phide" id="yodaoad_3" style=""></div>
      </div>
      <div class="cite ztag fc03 phide"></div>
    </div>
   </div>
  </div>
</div>



</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>

</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/index_gb.html">公司简介</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://gb.corp.163.com/gb/contactus.html">联系方法</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/job/job.html">招聘信息</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://help.163.com/?b13abk1">客户服务</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://corp.163.com/gb/legal/legal.html">隐私政策</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_top" href="http://blog.163.com/vip.do">VIP博客</a>
      
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://zhedahht.blog.163.com/rss/">
      <span class="p fc10">-</span><span class="fc08" id="$_foot_subscribe"><span class="iblock m2a icn0 icn0-919">&nbsp;</span><a class="m2a fc08">订阅此博客</a></span>
    </div>
    <p class="fc08">网易公司版权所有&nbsp;©1997-2012</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  

     <div style="position: absolute; top: 0pt; right: 0pt; z-index: 999; width: 1px; height: 1px; overflow: hidden;"> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ntsstorage" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" height="1" width="1"> <param name="movie" value="/common/storage.swf?t=1332936314043"> <param name="AllowScriptAccess" value="sameDomain"> <embed src="storage.swf" name="ntsstorage" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" height="1" width="1">  </object> </div><iframe src="index_2.html" id="api.blog.163.com" name="api.blog.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_3.html" id="photo.163.com" name="photo.163.com" style="display: none;" height="0" width="0"></iframe><iframe src="index_4.html" id="ud.blog.163.com" name="ud.blog.163.com" style="display: none;" height="0" width="0"></iframe>
    
  
  

    


</body>
</html>
